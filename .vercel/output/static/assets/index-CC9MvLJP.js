import{i as Zr,d as Uc,A as uo,e as Pn,f as $t,g as _t,h as Ot,k as ie,r as l,l as Dn,j as C,m as $e,n as An,o as re,p as eo,q as Yc,s as ur,t as nt,v as Ln,w as dr,x as qs,y as fo,z as De,C as Sn,D as Dt,E as Tt,F as pe,G as Kc,H as Fe,I as go,J as an,K as fr,L as po,M as Xc,N as Ke,O as he,P as Vt,Q as Js,R as tt,S as Qs,T as Gc,U as at,V as wt,W as Zs,X as mt,Y as rn,Z as Ee,_ as Mt,$ as es,a0 as ho,a1 as mo,a2 as Qt,a3 as Bt,a4 as qc,a5 as ei,a6 as Jc,a7 as Nn,a8 as Cr,a9 as et,aa as Sr,ab as Qc,ac as pt,ad as Tn,ae as Zc,af as bt,ag as ea,ah as ta,ai as na,aj as Nt,ak as qt,al as Tr,am as yn,an as ra,ao as oa,ap as sa,aq as ia,ar as ca,as as ti,at as ni,au as rr,av as gr,aw as Ct,ax as ts,ay as Te,az as Fn,aA as aa,aB as la,c as Oe,a as Wt,aC as ri,aD as oi,aE as ua,aF as si,aG as da,aH as vo,aI as Or,aJ as Xe,aK as ii,aL as ci,aM as yo,aN as fa,aO as ai,aP as bo,aQ as kr,aR as jn,aS as We,aT as zt,B as Ht,aU as ga,aV as to,aW as li,aX as pa,aY as vn,aZ as ha,a_ as ui,a$ as ma,u as va,b as ya}from"./main-DptA3dmJ.js";import{u as $n,a as ba,I as di,b as xa,F as wa,n as Ft}from"./input-DzNrjbWD.js";function Jt(e,t,n=!0){return e.filter(o=>o.parentId===t&&(!n||o.context?.open)).flatMap(o=>[o,...Jt(e,o.id,n)])}function ns(e,t){let n=[],r=e.find(o=>o.id===t)?.parentId;for(;r;){const o=e.find(s=>s.id===r);r=o?.parentId,o&&(n=n.concat(o))}return n}function He(e){e.preventDefault(),e.stopPropagation()}function Ra(e){return"nativeEvent"in e}function fi(e){return e.mozInputSource===0&&e.isTrusted?!0:Zr&&e.pointerType?e.type==="click"&&e.buttons===1:e.detail===0&&!e.pointerType}function gi(e){return Uc?!1:!Zr&&e.width===0&&e.height===0||Zr&&e.width===1&&e.height===1&&e.pressure===0&&e.detail===0&&e.pointerType==="mouse"||e.width<1&&e.height<1&&e.pressure===0&&e.detail===0&&e.pointerType==="touch"}function ln(e,t){const n=["mouse","pen"];return t||n.push("",void 0),n.includes(e)}function pi(e){const t=e.type;return t==="click"||t==="mousedown"||t==="keydown"||t==="keyup"}const Ea=["top","right","bottom","left"],un=Math.min,Ze=Math.max,dn=Math.round,nn=Math.floor,Rt=e=>({x:e,y:e}),Ca={left:"right",right:"left",bottom:"top",top:"bottom"},Sa={start:"end",end:"start"};function no(e,t,n){return Ze(e,un(t,n))}function kt(e,t){return typeof e=="function"?e(t):e}function Je(e){return e.split("-")[0]}function Ut(e){return e.split("-")[1]}function xo(e){return e==="x"?"y":"x"}function wo(e){return e==="y"?"height":"width"}const Ta=new Set(["top","bottom"]);function ct(e){return Ta.has(Je(e))?"y":"x"}function Ro(e){return xo(ct(e))}function Oa(e,t,n){n===void 0&&(n=!1);const r=Ut(e),o=Ro(e),s=wo(o);let c=o==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(c=pr(c)),[c,pr(c)]}function ka(e){const t=pr(e);return[ro(e),t,ro(t)]}function ro(e){return e.replace(/start|end/g,t=>Sa[t])}const rs=["left","right"],os=["right","left"],Ia=["top","bottom"],Ma=["bottom","top"];function Pa(e,t,n){switch(e){case"top":case"bottom":return n?t?os:rs:t?rs:os;case"left":case"right":return t?Ia:Ma;default:return[]}}function Da(e,t,n,r){const o=Ut(e);let s=Pa(Je(e),n==="start",r);return o&&(s=s.map(c=>c+"-"+o),t&&(s=s.concat(s.map(ro)))),s}function pr(e){return e.replace(/left|right|bottom|top/g,t=>Ca[t])}function Aa(e){return{top:0,right:0,bottom:0,left:0,...e}}function hi(e){return typeof e!="number"?Aa(e):{top:e,right:e,bottom:e,left:e}}function hr(e){const{x:t,y:n,width:r,height:o}=e;return{width:r,height:o,top:n,left:t,right:t+r,bottom:n+o,x:t,y:n}}function Un(e,t,n){return Math.floor(e/t)!==n}function bn(e,t){return t<0||t>=e.current.length}function Br(e,t){return ze(e,{disabledIndices:t})}function ss(e,t){return ze(e,{decrement:!0,startingIndex:e.current.length,disabledIndices:t})}function ze(e,{startingIndex:t=-1,decrement:n=!1,disabledIndices:r,amount:o=1}={}){let s=t;do s+=n?-o:o;while(s>=0&&s<=e.current.length-1&&xn(e,s,r));return s}function La(e,{event:t,orientation:n,loopFocus:r,rtl:o,cols:s,disabledIndices:c,minIndex:i,maxIndex:a,prevIndex:u,stopEvent:f=!1}){let d=u;const g=[],p={};let v=!1;{let b=null,m=-1;e.current.forEach((w,R)=>{if(w==null)return;const y=w.closest('[role="row"]');y&&(v=!0),(y!==b||m===-1)&&(b=y,m+=1,g[m]=[]),g[m].push(R),p[R]=m})}const h=v&&g.length>0&&g.some(b=>b.length!==s);function x(b){if(!h||u===-1)return;const m=p[u];if(m==null)return;const w=g[m].indexOf(u);let R=b==="up"?m-1:m+1;r&&(R<0?R=g.length-1:R>=g.length&&(R=0));const y=new Set;for(;R>=0&&R<g.length&&!y.has(R);){y.add(R);const S=g[R];if(S.length===0){R=b==="up"?R-1:R+1;continue}const E=Math.min(w,S.length-1);for(let O=E;O>=0;O-=1){const L=S[O];if(!xn(e,L,c))return L}R=b==="up"?R-1:R+1,r&&(R<0?R=g.length-1:R>=g.length&&(R=0))}}if(t.key===uo){const b=x("up");if(b!==void 0)f&&He(t),d=b;else{if(f&&He(t),u===-1)d=a;else if(d=ze(e,{startingIndex:d,amount:s,decrement:!0,disabledIndices:c}),r&&(u-s<i||d<0)){const m=u%s,w=a%s,R=a-(w-m);w===m?d=a:d=w>m?R:R-s}bn(e,d)&&(d=u)}}if(t.key===Pn){const b=x("down");b!==void 0?(f&&He(t),d=b):(f&&He(t),u===-1?d=i:(d=ze(e,{startingIndex:u,amount:s,disabledIndices:c}),r&&u+s>a&&(d=ze(e,{startingIndex:u%s-s,amount:s,disabledIndices:c}))),bn(e,d)&&(d=u))}if(n==="both"){const b=nn(u/s);t.key===(o?$t:_t)&&(f&&He(t),u%s!==s-1?(d=ze(e,{startingIndex:u,disabledIndices:c}),r&&Un(d,s,b)&&(d=ze(e,{startingIndex:u-u%s-1,disabledIndices:c}))):r&&(d=ze(e,{startingIndex:u-u%s-1,disabledIndices:c})),Un(d,s,b)&&(d=u)),t.key===(o?_t:$t)&&(f&&He(t),u%s!==0?(d=ze(e,{startingIndex:u,decrement:!0,disabledIndices:c}),r&&Un(d,s,b)&&(d=ze(e,{startingIndex:u+(s-u%s),decrement:!0,disabledIndices:c}))):r&&(d=ze(e,{startingIndex:u+(s-u%s),decrement:!0,disabledIndices:c})),Un(d,s,b)&&(d=u));const m=nn(a/s)===b;bn(e,d)&&(r&&m?d=t.key===(o?_t:$t)?a:ze(e,{startingIndex:u-u%s-1,disabledIndices:c}):d=u)}return d}function Na(e,t,n){const r=[];let o=0;return e.forEach(({width:s,height:c},i)=>{let a=!1;for(n&&(o=0);!a;){const u=[];for(let f=0;f<s;f+=1)for(let d=0;d<c;d+=1)u.push(o+f+d*t);o%t+s<=t&&u.every(f=>r[f]==null)?(u.forEach(f=>{r[f]=i}),a=!0):o+=1}}),[...r]}function Fa(e,t,n,r,o){if(e===-1)return-1;const s=n.indexOf(e),c=t[e];switch(o){case"tl":return s;case"tr":return c?s+c.width-1:s;case"bl":return c?s+(c.height-1)*r:s;case"br":return n.lastIndexOf(e);default:return-1}}function ja(e,t){return t.flatMap((n,r)=>e.includes(n)?[r]:[])}function xn(e,t,n){if(typeof n=="function")return n(t);if(n)return n.includes(t);const r=e.current[t];return r?r.hasAttribute("disabled")||r.getAttribute("aria-disabled")==="true":!1}function Ve(e){const t=Ot($a,e).current;return t.next=e,ie(t.effect),t}function $a(e){const t={current:e,next:e,effect:()=>{t.current=t.next}};return t}function mi(){const e=new Map;return{emit(t,n){e.get(t)?.forEach(r=>r(n))},on(t,n){e.has(t)||e.set(t,new Set),e.get(t).add(n)},off(t,n){e.get(t)?.delete(n)}}}class Eo{nodesRef={current:[]};events=mi();addNode(t){this.nodesRef.current.push(t)}removeNode(t){const n=this.nodesRef.current.findIndex(r=>r===t);n!==-1&&this.nodesRef.current.splice(n,1)}}const vi=l.createContext(null),yi=l.createContext(null),St=()=>l.useContext(vi)?.id||null,Yt=e=>{const t=l.useContext(yi);return e??t};function Co(e){const t=Dn(),n=Yt(e),r=St();return ie(()=>{if(!t)return;const o={id:t,parentId:r};return n?.addNode(o),()=>{n?.removeNode(o)}},[n,t,r]),t}function bi(e){const{children:t,id:n}=e,r=St();return C.jsx(vi.Provider,{value:l.useMemo(()=>({id:n,parentId:r}),[n,r]),children:t})}function xi(e){const{children:t,externalTree:n}=e,r=Ot(()=>n??new Eo).current;return C.jsx(yi.Provider,{value:r,children:t})}function zr(e,t,n){if(n&&!ln(n))return 0;if(typeof e=="number")return e;if(typeof e=="function"){const r=e();return typeof r=="number"?r:r?.[t]}return e?.[t]}let is=0;function or(e,t={}){const{preventScroll:n=!1,cancelPrevious:r=!0,sync:o=!1}=t;r&&cancelAnimationFrame(is);const s=()=>e?.focus({preventScroll:n});o?s():is=requestAnimationFrame(s)}const on={inert:new WeakMap,"aria-hidden":new WeakMap,none:new WeakMap};function cs(e){return e==="inert"?on.inert:e==="aria-hidden"?on["aria-hidden"]:on.none}let Yn=new WeakSet,Kn={},Hr=0;const wi=e=>e&&(e.host||wi(e.parentNode)),_a=(e,t)=>t.map(n=>{if(e.contains(n))return n;const r=wi(n);return e.contains(r)?r:null}).filter(n=>n!=null);function Ba(e,t,n,r){const o="data-base-ui-inert",s=r?"inert":n?"aria-hidden":null,c=_a(t,e),i=new Set,a=new Set(c),u=[];Kn[o]||(Kn[o]=new WeakMap);const f=Kn[o];c.forEach(d),g(t),i.clear();function d(p){!p||i.has(p)||(i.add(p),p.parentNode&&d(p.parentNode))}function g(p){!p||a.has(p)||[].forEach.call(p.children,v=>{if(An(v)!=="script")if(i.has(v))g(v);else{const h=s?v.getAttribute(s):null,x=h!==null&&h!=="false",b=cs(s),m=(b.get(v)||0)+1,w=(f.get(v)||0)+1;b.set(v,m),f.set(v,w),u.push(v),m===1&&x&&Yn.add(v),w===1&&v.setAttribute(o,""),!x&&s&&v.setAttribute(s,s==="inert"?"":"true")}})}return Hr+=1,()=>{u.forEach(p=>{const v=cs(s),x=(v.get(p)||0)-1,b=(f.get(p)||0)-1;v.set(p,x),f.set(p,b),x||(!Yn.has(p)&&s&&p.removeAttribute(s),Yn.delete(p)),b||p.removeAttribute(o)}),Hr-=1,Hr||(on.inert=new WeakMap,on["aria-hidden"]=new WeakMap,on.none=new WeakMap,Yn=new WeakSet,Kn={})}}function za(e,t=!1,n=!1){const r=$e(e[0]).body;return Ba(e.concat(Array.from(r.querySelectorAll("[aria-live]"))),r,t,n)}function Ha(e,t){const n=tt(e.target);return e instanceof n.KeyboardEvent?"keyboard":e instanceof n.FocusEvent?t||"keyboard":"pointerType"in e?e.pointerType||"keyboard":"touches"in e?"touch":e instanceof n.MouseEvent?t||(e.detail===0?"keyboard":"mouse"):""}const as=20;let jt=[];function So(){jt=jt.filter(e=>e.isConnected)}function Va(e){So(),e&&An(e)!=="body"&&(jt.push(e),jt.length>as&&(jt=jt.slice(-as)))}function Vr(){return So(),jt[jt.length-1]}function Wa(e){if(!e)return null;const t=fo();return Js(e,t)?e:qs(e,t)[0]||e}function Ua(e){return!e||!e.isConnected?!1:typeof e.checkVisibility=="function"?e.checkVisibility():at(e).display!=="none"}function ls(e,t){if(!t.current.includes("floating")&&!e.getAttribute("role")?.includes("dialog"))return;const n=fo(),o=Gc(e,n).filter(c=>{const i=c.getAttribute("data-tabindex")||"";return Js(c,n)||c.hasAttribute("data-tabindex")&&!i.startsWith("-")}),s=e.getAttribute("tabindex");t.current.includes("floating")||o.length===0?s!=="0"&&e.setAttribute("tabindex","0"):(s!=="-1"||e.hasAttribute("data-tabindex")&&e.getAttribute("data-tabindex")!=="-1")&&(e.setAttribute("tabindex","-1"),e.setAttribute("data-tabindex","-1"))}function To(e){const{context:t,children:n,disabled:r=!1,order:o=["content"],initialFocus:s=!0,returnFocus:c=!0,restoreFocus:i=!1,modal:a=!0,closeOnFocusOut:u=!0,openInteractionType:f="",getInsideElements:d=()=>[],nextFocusableElement:g,previousFocusableElement:p,beforeContentFocusGuardRef:v,externalTree:h}=e,x="rootStore"in t?t.rootStore:t,b=x.useState("open"),m=x.useState("domReferenceElement"),w=x.useState("floatingElement"),{events:R,dataRef:y}=x.context,S=re(()=>y.current.floatingContext?.nodeId),E=re(d),O=s===!1,L=eo(m)&&O,k=Ve(o),M=Ve(s),D=Ve(c),T=Ve(f),N=Yt(h),A=Yc(),$=l.useRef(null),F=l.useRef(null),I=l.useRef(!1),_=l.useRef(!1),j=l.useRef(!1),U=l.useRef(-1),K=l.useRef(""),z=l.useRef(""),Y=l.useRef(null),ce=l.useRef(null),G=ur(Y,v,A?.beforeInsideRef),te=ur(ce,A?.afterInsideRef),de=nt(),le=nt(),X=Ln(),ue=A!=null,P=dr(w),Q=re((B=P)=>B?qs(B,fo()):[]),V=re(B=>{const H=Q(B);return k.current.map(()=>H).filter(Boolean).flat()});l.useEffect(()=>{if(r||!a)return;function B(q){q.key==="Tab"&&pe(P,Tt($e(P)))&&Q().length===0&&!L&&He(q)}const H=$e(P);return H.addEventListener("keydown",B),()=>{H.removeEventListener("keydown",B)}},[r,m,P,a,k,L,Q,V]),l.useEffect(()=>{if(r||!w)return;function B(H){const q=Ke(H),ae=Q().indexOf(q);ae!==-1&&(U.current=ae)}return w.addEventListener("focusin",B),()=>{w.removeEventListener("focusin",B)}},[r,w,Q]),l.useEffect(()=>{if(r||!b)return;const B=$e(P);function H(){j.current=!1}function q(ae){const Z=Ke(ae),ee=pe(w,Z)||pe(m,Z)||pe(A?.portalNode,Z);j.current=!ee,z.current=ae.pointerType||"keyboard"}function oe(){z.current="keyboard"}return B.addEventListener("pointerdown",q,!0),B.addEventListener("pointerup",H,!0),B.addEventListener("pointercancel",H,!0),B.addEventListener("keydown",oe,!0),()=>{B.removeEventListener("pointerdown",q,!0),B.removeEventListener("pointerup",H,!0),B.removeEventListener("pointercancel",H,!0),B.removeEventListener("keydown",oe,!0)}},[r,w,m,P,b,A]),l.useEffect(()=>{if(r||!u)return;function B(){_.current=!0,le.start(0,()=>{_.current=!1})}function H(Z){const ee=Z.relatedTarget,W=Z.currentTarget,se=Ke(Z);queueMicrotask(()=>{const J=S(),ve=x.context.triggerElements,ye=ee?.hasAttribute(Sn("focus-guard"))&&[Y.current,ce.current,A?.beforeInsideRef.current,A?.afterInsideRef.current,A?.beforeOutsideRef.current,A?.afterOutsideRef.current,Dt(p),Dt(g)].includes(ee),xe=!(pe(m,ee)||pe(w,ee)||pe(ee,w)||pe(A?.portalNode,ee)||ee!=null&&ve.hasElement(ee)||ve.hasMatchingElement(we=>pe(we,ee))||ye||N&&(Jt(N.nodesRef.current,J).find(we=>pe(we.context?.elements.floating,ee)||pe(we.context?.elements.domReference,ee))||ns(N.nodesRef.current,J).find(we=>[we.context?.elements.floating,dr(we.context?.elements.floating)].includes(ee)||we.context?.elements.domReference===ee)));if(W===m&&P&&ls(P,k),i&&W!==m&&!Ua(se)&&Tt($e(P))===$e(P).body){if(De(P)&&(P.focus(),i==="popup")){X.request(()=>{P.focus()});return}const we=U.current,Ae=Q(),Ce=Ae[we]||Ae[Ae.length-1]||P;De(Ce)&&Ce.focus()}if(y.current.insideReactTree){y.current.insideReactTree=!1;return}(L||!a)&&ee&&xe&&!_.current&&(L||ee!==Vr())&&(I.current=!0,x.setOpen(!1,he(Vt,Z)))})}function q(){j.current||(y.current.insideReactTree=!0,de.start(0,()=>{y.current.insideReactTree=!1}))}const oe=De(m)?m:null,ae=[];if(!(!w&&!oe))return oe&&(oe.addEventListener("focusout",H),oe.addEventListener("pointerdown",B),ae.push(()=>{oe.removeEventListener("focusout",H),oe.removeEventListener("pointerdown",B)})),w&&(w.addEventListener("focusout",H),A&&(w.addEventListener("focusout",q,!0),ae.push(()=>{w.removeEventListener("focusout",q,!0)})),ae.push(()=>{w.removeEventListener("focusout",H)})),()=>{ae.forEach(Z=>{Z()})}},[r,m,w,P,a,N,A,x,u,i,Q,L,S,k,y,de,le,X,g,p]),l.useEffect(()=>{if(r||!w||!b)return;const B=Array.from(A?.portalNode?.querySelectorAll(`[${Sn("portal")}]`)||[]),q=(N?ns(N.nodesRef.current,S()):[]).find(Z=>eo(Z.context?.elements.domReference||null))?.context?.elements.domReference,oe=[w,q,...B,...E(),$.current,F.current,Y.current,ce.current,A?.beforeOutsideRef.current,A?.afterOutsideRef.current,Dt(p),Dt(g),L?m:null].filter(Z=>Z!=null),ae=za(oe,a||L);return()=>{ae()}},[b,r,m,w,a,k,A,L,N,S,E,g,p]),ie(()=>{if(!b||r||!De(P))return;const B=$e(P),H=Tt(B);queueMicrotask(()=>{const q=V(P),oe=M.current,ae=typeof oe=="function"?oe(T.current||""):oe;if(ae===void 0||ae===!1)return;let Z;ae===!0||ae===null?Z=q[0]||P:Z=Dt(ae),Z=Z||q[0]||P,!pe(P,H)&&or(Z,{preventScroll:Z===P})})},[r,b,P,O,V,M,T]),ie(()=>{if(r||!P)return;const B=$e(P),H=Tt(B);Va(H);function q(Z){if(Z.open||(K.current=Ha(Z.nativeEvent,z.current)),Z.reason===Fe&&Z.nativeEvent.type==="mouseleave"&&(I.current=!0),Z.reason===go)if(Z.nested)I.current=!1;else if(fi(Z.nativeEvent)||gi(Z.nativeEvent))I.current=!1;else{let ee=!1;document.createElement("div").focus({get preventScroll(){return ee=!0,!1}}),ee?I.current=!1:I.current=!0}}R.on("openchange",q);const oe=B.createElement("span");oe.setAttribute("tabindex","-1"),oe.setAttribute("aria-hidden","true"),Object.assign(oe.style,Kc),ue&&m&&m.insertAdjacentElement("afterend",oe);function ae(){const Z=D.current;let ee=typeof Z=="function"?Z(K.current):Z;if(ee===void 0||ee===!1)return null;if(ee===null&&(ee=!0),typeof ee=="boolean"){const se=m||Vr();return se&&se.isConnected?se:oe}const W=m||Vr()||oe;return Dt(ee)||W}return()=>{R.off("openchange",q);const Z=Tt(B),ee=pe(w,Z)||N&&Jt(N.nodesRef.current,S(),!1).some(se=>pe(se.context?.elements.floating,Z)),W=ae();queueMicrotask(()=>{const se=Wa(W),J=typeof D.current!="boolean";D.current&&!I.current&&De(se)&&(!(!J&&se!==Z&&Z!==B.body)||ee)&&se.focus({preventScroll:!0}),oe.remove()})}},[r,w,P,D,y,R,N,ue,m,S]),l.useEffect(()=>{queueMicrotask(()=>{I.current=!1})},[r]),l.useEffect(()=>{if(r||!b)return;function B(q){Ke(q)?.closest(`[${Qs}]`)&&(_.current=!0)}const H=$e(P);return H.addEventListener("pointerdown",B,!0),()=>{H.removeEventListener("pointerdown",B,!0)}},[r,b,P]),ie(()=>{if(!r&&A)return A.setFocusManagerState({modal:a,closeOnFocusOut:u,open:b,onOpenChange:x.setOpen,domReference:m}),()=>{A.setFocusManagerState(null)}},[r,A,a,b,x,u,m]),ie(()=>{if(!(r||!P))return ls(P,k),()=>{queueMicrotask(So)}},[r,P,k]);const ge=!r&&(a?!L:!0)&&(ue||a);return C.jsxs(l.Fragment,{children:[ge&&C.jsx(an,{"data-type":"inside",ref:G,onFocus:B=>{if(a){const H=V();or(H[H.length-1])}else A?.portalNode&&(I.current=!1,fr(B,A.portalNode)?po(m)?.focus():Dt(p??A.beforeOutsideRef)?.focus())}}),n,ge&&C.jsx(an,{"data-type":"inside",ref:te,onFocus:B=>{a?or(V()[0]):A?.portalNode&&(u&&(I.current=!0),fr(B,A.portalNode)?Xc(m)?.focus():Dt(g??A.afterOutsideRef)?.focus())}})]})}function Ri(e,t={}){const n="rootStore"in e?e.rootStore:e,r=n.context.dataRef,{enabled:o=!0,event:s="click",toggle:c=!0,ignoreMouse:i=!1,stickIfOpen:a=!0,touchOpenDelay:u=0}=t,f=l.useRef(void 0),d=Ln(),g=nt(),p=l.useMemo(()=>({onPointerDown(v){f.current=v.pointerType},onMouseDown(v){const h=f.current,x=v.nativeEvent,b=n.select("open");if(v.button!==0||s==="click"||ln(h,!0)&&i)return;const m=r.current.openEvent,w=m?.type,R=n.select("domReferenceElement")!==v.currentTarget,y=b&&R||!(b&&c&&(!(m&&a)||w==="click"||w==="mousedown"));if(Zs(x.target)){const E=he(wt,x,x.target);y&&h==="touch"&&u>0?g.start(u,()=>{n.setOpen(!0,E)}):n.setOpen(y,E);return}const S=v.currentTarget;d.request(()=>{const E=he(wt,x,S);y&&h==="touch"&&u>0?g.start(u,()=>{n.setOpen(!0,E)}):n.setOpen(y,E)})},onClick(v){if(s==="mousedown-only")return;const h=f.current;if(s==="mousedown"&&h){f.current=void 0;return}if(ln(h,!0)&&i)return;const x=n.select("open"),b=r.current.openEvent,m=n.select("domReferenceElement")!==v.currentTarget,w=x&&m||!(x&&c&&(!(b&&a)||pi(b))),R=he(wt,v.nativeEvent,v.currentTarget);w&&h==="touch"&&u>0?g.start(u,()=>{n.setOpen(!0,R)}):n.setOpen(w,R)},onKeyDown(){f.current=void 0}}),[r,s,i,n,a,c,d,g,u]);return l.useMemo(()=>o?{reference:p}:mt,[o,p])}function us(e,t,n){let{reference:r,floating:o}=e;const s=ct(t),c=Ro(t),i=wo(c),a=Je(t),u=s==="y",f=r.x+r.width/2-o.width/2,d=r.y+r.height/2-o.height/2,g=r[i]/2-o[i]/2;let p;switch(a){case"top":p={x:f,y:r.y-o.height};break;case"bottom":p={x:f,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:d};break;case"left":p={x:r.x-o.width,y:d};break;default:p={x:r.x,y:r.y}}switch(Ut(t)){case"start":p[c]-=g*(n&&u?-1:1);break;case"end":p[c]+=g*(n&&u?-1:1);break}return p}const Ya=async(e,t,n)=>{const{placement:r="bottom",strategy:o="absolute",middleware:s=[],platform:c}=n,i=s.filter(Boolean),a=await(c.isRTL==null?void 0:c.isRTL(t));let u=await c.getElementRects({reference:e,floating:t,strategy:o}),{x:f,y:d}=us(u,r,a),g=r,p={},v=0;for(let h=0;h<i.length;h++){const{name:x,fn:b}=i[h],{x:m,y:w,data:R,reset:y}=await b({x:f,y:d,initialPlacement:r,placement:g,strategy:o,middlewareData:p,rects:u,platform:c,elements:{reference:e,floating:t}});f=m??f,d=w??d,p={...p,[x]:{...p[x],...R}},y&&v<=50&&(v++,typeof y=="object"&&(y.placement&&(g=y.placement),y.rects&&(u=y.rects===!0?await c.getElementRects({reference:e,floating:t,strategy:o}):y.rects),{x:f,y:d}=us(u,g,a)),h=-1)}return{x:f,y:d,placement:g,strategy:o,middlewareData:p}};async function On(e,t){var n;t===void 0&&(t={});const{x:r,y:o,platform:s,rects:c,elements:i,strategy:a}=e,{boundary:u="clippingAncestors",rootBoundary:f="viewport",elementContext:d="floating",altBoundary:g=!1,padding:p=0}=kt(t,e),v=hi(p),x=i[g?d==="floating"?"reference":"floating":d],b=hr(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(x)))==null||n?x:x.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(i.floating)),boundary:u,rootBoundary:f,strategy:a})),m=d==="floating"?{x:r,y:o,width:c.floating.width,height:c.floating.height}:c.reference,w=await(s.getOffsetParent==null?void 0:s.getOffsetParent(i.floating)),R=await(s.isElement==null?void 0:s.isElement(w))?await(s.getScale==null?void 0:s.getScale(w))||{x:1,y:1}:{x:1,y:1},y=hr(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:i,rect:m,offsetParent:w,strategy:a}):m);return{top:(b.top-y.top+v.top)/R.y,bottom:(y.bottom-b.bottom+v.bottom)/R.y,left:(b.left-y.left+v.left)/R.x,right:(y.right-b.right+v.right)/R.x}}const Ka=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:o,middlewareData:s,rects:c,initialPlacement:i,platform:a,elements:u}=t,{mainAxis:f=!0,crossAxis:d=!0,fallbackPlacements:g,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:h=!0,...x}=kt(e,t);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const b=Je(o),m=ct(i),w=Je(i)===i,R=await(a.isRTL==null?void 0:a.isRTL(u.floating)),y=g||(w||!h?[pr(i)]:ka(i)),S=v!=="none";!g&&S&&y.push(...Da(i,h,v,R));const E=[i,...y],O=await On(t,x),L=[];let k=((r=s.flip)==null?void 0:r.overflows)||[];if(f&&L.push(O[b]),d){const N=Oa(o,c,R);L.push(O[N[0]],O[N[1]])}if(k=[...k,{placement:o,overflows:L}],!L.every(N=>N<=0)){var M,D;const N=(((M=s.flip)==null?void 0:M.index)||0)+1,A=E[N];if(A&&(!(d==="alignment"?m!==ct(A):!1)||k.every(I=>ct(I.placement)===m?I.overflows[0]>0:!0)))return{data:{index:N,overflows:k},reset:{placement:A}};let $=(D=k.filter(F=>F.overflows[0]<=0).sort((F,I)=>F.overflows[1]-I.overflows[1])[0])==null?void 0:D.placement;if(!$)switch(p){case"bestFit":{var T;const F=(T=k.filter(I=>{if(S){const _=ct(I.placement);return _===m||_==="y"}return!0}).map(I=>[I.placement,I.overflows.filter(_=>_>0).reduce((_,j)=>_+j,0)]).sort((I,_)=>I[1]-_[1])[0])==null?void 0:T[0];F&&($=F);break}case"initialPlacement":$=i;break}if(o!==$)return{reset:{placement:$}}}return{}}}};function ds(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function fs(e){return Ea.some(t=>e[t]>=0)}const Xa=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...o}=kt(e,t);switch(r){case"referenceHidden":{const s=await On(t,{...o,elementContext:"reference"}),c=ds(s,n.reference);return{data:{referenceHiddenOffsets:c,referenceHidden:fs(c)}}}case"escaped":{const s=await On(t,{...o,altBoundary:!0}),c=ds(s,n.floating);return{data:{escapedOffsets:c,escaped:fs(c)}}}default:return{}}}}},Ei=new Set(["left","top"]);async function Ga(e,t){const{placement:n,platform:r,elements:o}=e,s=await(r.isRTL==null?void 0:r.isRTL(o.floating)),c=Je(n),i=Ut(n),a=ct(n)==="y",u=Ei.has(c)?-1:1,f=s&&a?-1:1,d=kt(t,e);let{mainAxis:g,crossAxis:p,alignmentAxis:v}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return i&&typeof v=="number"&&(p=i==="end"?v*-1:v),a?{x:p*f,y:g*u}:{x:g*u,y:p*f}}const qa=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:o,y:s,placement:c,middlewareData:i}=t,a=await Ga(t,e);return c===((n=i.offset)==null?void 0:n.placement)&&(r=i.arrow)!=null&&r.alignmentOffset?{}:{x:o+a.x,y:s+a.y,data:{...a,placement:c}}}}},Ja=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:o}=t,{mainAxis:s=!0,crossAxis:c=!1,limiter:i={fn:x=>{let{x:b,y:m}=x;return{x:b,y:m}}},...a}=kt(e,t),u={x:n,y:r},f=await On(t,a),d=ct(Je(o)),g=xo(d);let p=u[g],v=u[d];if(s){const x=g==="y"?"top":"left",b=g==="y"?"bottom":"right",m=p+f[x],w=p-f[b];p=no(m,p,w)}if(c){const x=d==="y"?"top":"left",b=d==="y"?"bottom":"right",m=v+f[x],w=v-f[b];v=no(m,v,w)}const h=i.fn({...t,[g]:p,[d]:v});return{...h,data:{x:h.x-n,y:h.y-r,enabled:{[g]:s,[d]:c}}}}}},Qa=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:o,rects:s,middlewareData:c}=t,{offset:i=0,mainAxis:a=!0,crossAxis:u=!0}=kt(e,t),f={x:n,y:r},d=ct(o),g=xo(d);let p=f[g],v=f[d];const h=kt(i,t),x=typeof h=="number"?{mainAxis:h,crossAxis:0}:{mainAxis:0,crossAxis:0,...h};if(a){const w=g==="y"?"height":"width",R=s.reference[g]-s.floating[w]+x.mainAxis,y=s.reference[g]+s.reference[w]-x.mainAxis;p<R?p=R:p>y&&(p=y)}if(u){var b,m;const w=g==="y"?"width":"height",R=Ei.has(Je(o)),y=s.reference[d]-s.floating[w]+(R&&((b=c.offset)==null?void 0:b[d])||0)+(R?0:x.crossAxis),S=s.reference[d]+s.reference[w]+(R?0:((m=c.offset)==null?void 0:m[d])||0)-(R?x.crossAxis:0);v<y?v=y:v>S&&(v=S)}return{[g]:p,[d]:v}}}},Za=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:o,rects:s,platform:c,elements:i}=t,{apply:a=()=>{},...u}=kt(e,t),f=await On(t,u),d=Je(o),g=Ut(o),p=ct(o)==="y",{width:v,height:h}=s.floating;let x,b;d==="top"||d==="bottom"?(x=d,b=g===(await(c.isRTL==null?void 0:c.isRTL(i.floating))?"start":"end")?"left":"right"):(b=d,x=g==="end"?"top":"bottom");const m=h-f.top-f.bottom,w=v-f.left-f.right,R=un(h-f[x],m),y=un(v-f[b],w),S=!t.middlewareData.shift;let E=R,O=y;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(O=w),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(E=m),S&&!g){const k=Ze(f.left,0),M=Ze(f.right,0),D=Ze(f.top,0),T=Ze(f.bottom,0);p?O=v-2*(k!==0||M!==0?k+M:Ze(f.left,f.right)):E=h-2*(D!==0||T!==0?D+T:Ze(f.top,f.bottom))}await a({...t,availableWidth:O,availableHeight:E});const L=await c.getDimensions(i.floating);return v!==L.width||h!==L.height?{reset:{rects:!0}}:{}}}};function Ci(e){const t=at(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const o=De(e),s=o?e.offsetWidth:n,c=o?e.offsetHeight:r,i=dn(n)!==s||dn(r)!==c;return i&&(n=s,r=c),{width:n,height:r,$:i}}function Oo(e){return Ee(e)?e:e.contextElement}function sn(e){const t=Oo(e);if(!De(t))return Rt(1);const n=t.getBoundingClientRect(),{width:r,height:o,$:s}=Ci(t);let c=(s?dn(n.width):n.width)/r,i=(s?dn(n.height):n.height)/o;return(!c||!Number.isFinite(c))&&(c=1),(!i||!Number.isFinite(i))&&(i=1),{x:c,y:i}}const el=Rt(0);function Si(e){const t=tt(e);return!ho()||!t.visualViewport?el:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function tl(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==tt(e)?!1:t}function Zt(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const o=e.getBoundingClientRect(),s=Oo(e);let c=Rt(1);t&&(r?Ee(r)&&(c=sn(r)):c=sn(e));const i=tl(s,n,r)?Si(s):Rt(0);let a=(o.left+i.x)/c.x,u=(o.top+i.y)/c.y,f=o.width/c.x,d=o.height/c.y;if(s){const g=tt(s),p=r&&Ee(r)?tt(r):r;let v=g,h=es(v);for(;h&&r&&p!==v;){const x=sn(h),b=h.getBoundingClientRect(),m=at(h),w=b.left+(h.clientLeft+parseFloat(m.paddingLeft))*x.x,R=b.top+(h.clientTop+parseFloat(m.paddingTop))*x.y;a*=x.x,u*=x.y,f*=x.x,d*=x.y,a+=w,u+=R,v=tt(h),h=es(v)}}return hr({width:f,height:d,x:a,y:u})}function Ir(e,t){const n=Cr(e).scrollLeft;return t?t.left+n:Zt(Mt(e)).left+n}function Ti(e,t){const n=e.getBoundingClientRect(),r=n.left+t.scrollLeft-Ir(e,n),o=n.top+t.scrollTop;return{x:r,y:o}}function nl(e){let{elements:t,rect:n,offsetParent:r,strategy:o}=e;const s=o==="fixed",c=Mt(r),i=t?mo(t.floating):!1;if(r===c||i&&s)return n;let a={scrollLeft:0,scrollTop:0},u=Rt(1);const f=Rt(0),d=De(r);if((d||!d&&!s)&&((An(r)!=="body"||Nn(c))&&(a=Cr(r)),De(r))){const p=Zt(r);u=sn(r),f.x=p.x+r.clientLeft,f.y=p.y+r.clientTop}const g=c&&!d&&!s?Ti(c,a):Rt(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-a.scrollLeft*u.x+f.x+g.x,y:n.y*u.y-a.scrollTop*u.y+f.y+g.y}}function rl(e){return Array.from(e.getClientRects())}function ol(e){const t=Mt(e),n=Cr(e),r=e.ownerDocument.body,o=Ze(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),s=Ze(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let c=-n.scrollLeft+Ir(e);const i=-n.scrollTop;return at(r).direction==="rtl"&&(c+=Ze(t.clientWidth,r.clientWidth)-o),{width:o,height:s,x:c,y:i}}const gs=25;function sl(e,t){const n=tt(e),r=Mt(e),o=n.visualViewport;let s=r.clientWidth,c=r.clientHeight,i=0,a=0;if(o){s=o.width,c=o.height;const f=ho();(!f||f&&t==="fixed")&&(i=o.offsetLeft,a=o.offsetTop)}const u=Ir(r);if(u<=0){const f=r.ownerDocument,d=f.body,g=getComputedStyle(d),p=f.compatMode==="CSS1Compat"&&parseFloat(g.marginLeft)+parseFloat(g.marginRight)||0,v=Math.abs(r.clientWidth-d.clientWidth-p);v<=gs&&(s-=v)}else u<=gs&&(s+=u);return{width:s,height:c,x:i,y:a}}const il=new Set(["absolute","fixed"]);function cl(e,t){const n=Zt(e,!0,t==="fixed"),r=n.top+e.clientTop,o=n.left+e.clientLeft,s=De(e)?sn(e):Rt(1),c=e.clientWidth*s.x,i=e.clientHeight*s.y,a=o*s.x,u=r*s.y;return{width:c,height:i,x:a,y:u}}function ps(e,t,n){let r;if(t==="viewport")r=sl(e,n);else if(t==="document")r=ol(Mt(e));else if(Ee(t))r=cl(t,n);else{const o=Si(e);r={x:t.x-o.x,y:t.y-o.y,width:t.width,height:t.height}}return hr(r)}function Oi(e,t){const n=Qt(e);return n===t||!Ee(n)||Bt(n)?!1:at(n).position==="fixed"||Oi(n,t)}function al(e,t){const n=t.get(e);if(n)return n;let r=rn(e,[],!1).filter(i=>Ee(i)&&An(i)!=="body"),o=null;const s=at(e).position==="fixed";let c=s?Qt(e):e;for(;Ee(c)&&!Bt(c);){const i=at(c),a=ei(c);!a&&i.position==="fixed"&&(o=null),(s?!a&&!o:!a&&i.position==="static"&&!!o&&il.has(o.position)||Nn(c)&&!a&&Oi(e,c))?r=r.filter(f=>f!==c):o=i,c=Qt(c)}return t.set(e,r),r}function ll(e){let{element:t,boundary:n,rootBoundary:r,strategy:o}=e;const c=[...n==="clippingAncestors"?mo(t)?[]:al(t,this._c):[].concat(n),r],i=c[0],a=c.reduce((u,f)=>{const d=ps(t,f,o);return u.top=Ze(d.top,u.top),u.right=un(d.right,u.right),u.bottom=un(d.bottom,u.bottom),u.left=Ze(d.left,u.left),u},ps(t,i,o));return{width:a.right-a.left,height:a.bottom-a.top,x:a.left,y:a.top}}function ul(e){const{width:t,height:n}=Ci(e);return{width:t,height:n}}function dl(e,t,n){const r=De(t),o=Mt(t),s=n==="fixed",c=Zt(e,!0,s,t);let i={scrollLeft:0,scrollTop:0};const a=Rt(0);function u(){a.x=Ir(o)}if(r||!r&&!s)if((An(t)!=="body"||Nn(o))&&(i=Cr(t)),r){const p=Zt(t,!0,s,t);a.x=p.x+t.clientLeft,a.y=p.y+t.clientTop}else o&&u();s&&!r&&o&&u();const f=o&&!r&&!s?Ti(o,i):Rt(0),d=c.left+i.scrollLeft-a.x-f.x,g=c.top+i.scrollTop-a.y-f.y;return{x:d,y:g,width:c.width,height:c.height}}function Wr(e){return at(e).position==="static"}function hs(e,t){if(!De(e)||at(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Mt(e)===n&&(n=n.ownerDocument.body),n}function ki(e,t){const n=tt(e);if(mo(e))return n;if(!De(e)){let o=Qt(e);for(;o&&!Bt(o);){if(Ee(o)&&!Wr(o))return o;o=Qt(o)}return n}let r=hs(e,t);for(;r&&qc(r)&&Wr(r);)r=hs(r,t);return r&&Bt(r)&&Wr(r)&&!ei(r)?n:r||Jc(e)||n}const fl=async function(e){const t=this.getOffsetParent||ki,n=this.getDimensions,r=await n(e.floating);return{reference:dl(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function gl(e){return at(e).direction==="rtl"}const pl={convertOffsetParentRelativeRectToViewportRelativeRect:nl,getDocumentElement:Mt,getClippingRect:ll,getOffsetParent:ki,getElementRects:fl,getClientRects:rl,getDimensions:ul,getScale:sn,isElement:Ee,isRTL:gl};function Ii(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function hl(e,t){let n=null,r;const o=Mt(e);function s(){var i;clearTimeout(r),(i=n)==null||i.disconnect(),n=null}function c(i,a){i===void 0&&(i=!1),a===void 0&&(a=1),s();const u=e.getBoundingClientRect(),{left:f,top:d,width:g,height:p}=u;if(i||t(),!g||!p)return;const v=nn(d),h=nn(o.clientWidth-(f+g)),x=nn(o.clientHeight-(d+p)),b=nn(f),w={rootMargin:-v+"px "+-h+"px "+-x+"px "+-b+"px",threshold:Ze(0,un(1,a))||1};let R=!0;function y(S){const E=S[0].intersectionRatio;if(E!==a){if(!R)return c();E?c(!1,E):r=setTimeout(()=>{c(!1,1e-7)},1e3)}E===1&&!Ii(u,e.getBoundingClientRect())&&c(),R=!1}try{n=new IntersectionObserver(y,{...w,root:o.ownerDocument})}catch{n=new IntersectionObserver(y,w)}n.observe(e)}return c(!0),s}function ms(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:o=!0,ancestorResize:s=!0,elementResize:c=typeof ResizeObserver=="function",layoutShift:i=typeof IntersectionObserver=="function",animationFrame:a=!1}=r,u=Oo(e),f=o||s?[...u?rn(u):[],...rn(t)]:[];f.forEach(b=>{o&&b.addEventListener("scroll",n,{passive:!0}),s&&b.addEventListener("resize",n)});const d=u&&i?hl(u,n):null;let g=-1,p=null;c&&(p=new ResizeObserver(b=>{let[m]=b;m&&m.target===u&&p&&(p.unobserve(t),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var w;(w=p)==null||w.observe(t)})),n()}),u&&!a&&p.observe(u),p.observe(t));let v,h=a?Zt(e):null;a&&x();function x(){const b=Zt(e);h&&!Ii(h,b)&&n(),h=b,v=requestAnimationFrame(x)}return n(),()=>{var b;f.forEach(m=>{o&&m.removeEventListener("scroll",n),s&&m.removeEventListener("resize",n)}),d?.(),(b=p)==null||b.disconnect(),p=null,a&&cancelAnimationFrame(v)}}const ml=qa,vl=Ja,yl=Ka,bl=Za,xl=Xa,wl=Qa,Rl=(e,t,n)=>{const r=new Map,o={platform:pl,...n},s={...o.platform,_c:r};return Ya(e,t,{...o,platform:s})};var El=typeof document<"u",Cl=function(){},sr=El?l.useLayoutEffect:Cl;function mr(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,o;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!mr(e[r],t[r]))return!1;return!0}if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,o[r]))return!1;for(r=n;r--!==0;){const s=o[r];if(!(s==="_owner"&&e.$$typeof)&&!mr(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function Mi(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function vs(e,t){const n=Mi(e);return Math.round(t*n)/n}function Ur(e){const t=l.useRef(e);return sr(()=>{t.current=e}),t}function Sl(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:o,elements:{reference:s,floating:c}={},transform:i=!0,whileElementsMounted:a,open:u}=e,[f,d]=l.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[g,p]=l.useState(r);mr(g,r)||p(r);const[v,h]=l.useState(null),[x,b]=l.useState(null),m=l.useCallback(I=>{I!==S.current&&(S.current=I,h(I))},[]),w=l.useCallback(I=>{I!==E.current&&(E.current=I,b(I))},[]),R=s||v,y=c||x,S=l.useRef(null),E=l.useRef(null),O=l.useRef(f),L=a!=null,k=Ur(a),M=Ur(o),D=Ur(u),T=l.useCallback(()=>{if(!S.current||!E.current)return;const I={placement:t,strategy:n,middleware:g};M.current&&(I.platform=M.current),Rl(S.current,E.current,I).then(_=>{const j={..._,isPositioned:D.current!==!1};N.current&&!mr(O.current,j)&&(O.current=j,et.flushSync(()=>{d(j)}))})},[g,t,n,M,D]);sr(()=>{u===!1&&O.current.isPositioned&&(O.current.isPositioned=!1,d(I=>({...I,isPositioned:!1})))},[u]);const N=l.useRef(!1);sr(()=>(N.current=!0,()=>{N.current=!1}),[]),sr(()=>{if(R&&(S.current=R),y&&(E.current=y),R&&y){if(k.current)return k.current(R,y,T);T()}},[R,y,T,k,L]);const A=l.useMemo(()=>({reference:S,floating:E,setReference:m,setFloating:w}),[m,w]),$=l.useMemo(()=>({reference:R,floating:y}),[R,y]),F=l.useMemo(()=>{const I={position:n,left:0,top:0};if(!$.floating)return I;const _=vs($.floating,f.x),j=vs($.floating,f.y);return i?{...I,transform:"translate("+_+"px, "+j+"px)",...Mi($.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:_,top:j}},[n,i,$.floating,f.x,f.y]);return l.useMemo(()=>({...f,update:T,refs:A,elements:$,floatingStyles:F}),[f,T,A,$,F])}const Tl=(e,t)=>({...ml(e),options:[e,t]}),Ol=(e,t)=>({...vl(e),options:[e,t]}),kl=(e,t)=>({...wl(e),options:[e,t]}),Il=(e,t)=>({...yl(e),options:[e,t]}),Ml=(e,t)=>({...bl(e),options:[e,t]}),Pl=(e,t)=>({...xl(e),options:[e,t]}),Dl={intentional:"onClick",sloppy:"onPointerDown"};function Al(e){return{escapeKey:typeof e=="boolean"?e:e?.escapeKey??!1,outsidePress:typeof e=="boolean"?e:e?.outsidePress??!0}}function ko(e,t={}){const n="rootStore"in e?e.rootStore:e,r=n.useState("open"),o=n.useState("floatingElement"),s=n.useState("referenceElement"),c=n.useState("domReferenceElement"),{onOpenChange:i,dataRef:a}=n.context,{enabled:u=!0,escapeKey:f=!0,outsidePress:d=!0,outsidePressEvent:g="sloppy",referencePress:p=!1,referencePressEvent:v="sloppy",ancestorScroll:h=!1,bubbles:x,externalTree:b}=t,m=Yt(b),w=re(typeof d=="function"?d:()=>!1),R=typeof d=="function"?w:d,y=l.useRef(!1),{escapeKey:S,outsidePress:E}=Al(x),O=l.useRef(null),L=nt(),k=nt(),M=re(()=>{k.clear(),a.current.insideReactTree=!1}),D=l.useRef(!1),T=l.useRef(""),N=re(P=>{T.current=P.pointerType}),A=re(()=>{const P=T.current,Q=P==="pen"||!P?"mouse":P,V=typeof g=="function"?g():g;return typeof V=="string"?V:V[Q]}),$=re(P=>{if(!r||!u||!f||P.key!=="Escape"||D.current)return;const Q=a.current.floatingContext?.nodeId,V=m?Jt(m.nodesRef.current,Q):[];if(!S&&V.length>0){let H=!0;if(V.forEach(q=>{q.context?.open&&!q.context.dataRef.current.__escapeKeyBubbles&&(H=!1)}),!H)return}const ge=Ra(P)?P.nativeEvent:P,B=he(Sr,ge);n.setOpen(!1,B),!S&&!B.isPropagationAllowed&&P.stopPropagation()}),F=re(P=>{const Q=A();return Q==="intentional"&&P.type!=="click"||Q==="sloppy"&&P.type==="click"}),I=re(()=>{a.current.insideReactTree=!0,k.start(0,M)}),_=re((P,Q=!1)=>{if(F(P)){M();return}if(a.current.insideReactTree){M();return}if(A()==="intentional"&&Q||typeof R=="function"&&!R(P))return;const V=Ke(P),ge=`[${Sn("inert")}]`,B=$e(n.select("floatingElement")).querySelectorAll(ge),H=n.context.triggerElements;if(V&&(H.hasElement(V)||H.hasMatchingElement(ee=>pe(ee,V))))return;let q=Ee(V)?V:null;for(;q&&!Bt(q);){const ee=Qt(q);if(Bt(ee)||!Ee(ee))break;q=ee}if(B.length&&Ee(V)&&!Qc(V)&&!pe(V,n.select("floatingElement"))&&Array.from(B).every(ee=>!pe(q,ee)))return;if(De(V)&&!("touches"in P)){const ee=Bt(V),W=at(V),se=/auto|scroll/,J=ee||se.test(W.overflowX),ve=ee||se.test(W.overflowY),ye=J&&V.clientWidth>0&&V.scrollWidth>V.clientWidth,xe=ve&&V.clientHeight>0&&V.scrollHeight>V.clientHeight,we=W.direction==="rtl",Ae=xe&&(we?P.offsetX<=V.offsetWidth-V.clientWidth:P.offsetX>V.clientWidth),Ce=ye&&P.offsetY>V.clientHeight;if(Ae||Ce)return}const oe=a.current.floatingContext?.nodeId,ae=m&&Jt(m.nodesRef.current,oe).some(ee=>pt(P,ee.context?.elements.floating));if(pt(P,n.select("floatingElement"))||pt(P,n.select("domReferenceElement"))||ae)return;const Z=m?Jt(m.nodesRef.current,oe):[];if(Z.length>0){let ee=!0;if(Z.forEach(W=>{W.context?.open&&!W.context.dataRef.current.__outsidePressBubbles&&(ee=!1)}),!ee)return}n.setOpen(!1,he(go,P)),M()}),j=re(P=>{A()!=="sloppy"||P.pointerType==="touch"||!n.select("open")||!u||pt(P,n.select("floatingElement"))||pt(P,n.select("domReferenceElement"))||_(P)}),U=re(P=>{if(A()!=="sloppy"||!n.select("open")||!u||pt(P,n.select("floatingElement"))||pt(P,n.select("domReferenceElement")))return;const Q=P.touches[0];Q&&(O.current={startTime:Date.now(),startX:Q.clientX,startY:Q.clientY,dismissOnTouchEnd:!1,dismissOnMouseDown:!0},L.start(1e3,()=>{O.current&&(O.current.dismissOnTouchEnd=!1,O.current.dismissOnMouseDown=!1)}))}),K=re(P=>{const Q=Ke(P);function V(){U(P),Q?.removeEventListener(P.type,V)}Q?.addEventListener(P.type,V)}),z=re(P=>{const Q=y.current;if(y.current=!1,L.clear(),P.type==="mousedown"&&O.current&&!O.current.dismissOnMouseDown)return;const V=Ke(P);function ge(){P.type==="pointerdown"?j(P):_(P,Q),V?.removeEventListener(P.type,ge)}V?.addEventListener(P.type,ge)}),Y=re(P=>{if(A()!=="sloppy"||!O.current||pt(P,n.select("floatingElement"))||pt(P,n.select("domReferenceElement")))return;const Q=P.touches[0];if(!Q)return;const V=Math.abs(Q.clientX-O.current.startX),ge=Math.abs(Q.clientY-O.current.startY),B=Math.sqrt(V*V+ge*ge);B>5&&(O.current.dismissOnTouchEnd=!0),B>10&&(_(P),L.clear(),O.current=null)}),ce=re(P=>{const Q=Ke(P);function V(){Y(P),Q?.removeEventListener(P.type,V)}Q?.addEventListener(P.type,V)}),G=re(P=>{A()!=="sloppy"||!O.current||pt(P,n.select("floatingElement"))||pt(P,n.select("domReferenceElement"))||(O.current.dismissOnTouchEnd&&_(P),L.clear(),O.current=null)}),te=re(P=>{const Q=Ke(P);function V(){G(P),Q?.removeEventListener(P.type,V)}Q?.addEventListener(P.type,V)});l.useEffect(()=>{if(!r||!u)return;a.current.__escapeKeyBubbles=S,a.current.__outsidePressBubbles=E;const P=new Tn;function Q(q){n.setOpen(!1,he(Zc,q))}function V(){P.clear(),D.current=!0}function ge(){P.start(ho()?5:0,()=>{D.current=!1})}const B=$e(o);B.addEventListener("pointerdown",N,!0),f&&(B.addEventListener("keydown",$),B.addEventListener("compositionstart",V),B.addEventListener("compositionend",ge)),R&&(B.addEventListener("click",z,!0),B.addEventListener("pointerdown",z,!0),B.addEventListener("touchstart",K,!0),B.addEventListener("touchmove",ce,!0),B.addEventListener("touchend",te,!0),B.addEventListener("mousedown",z,!0));let H=[];return h&&(Ee(c)&&(H=rn(c)),Ee(o)&&(H=H.concat(rn(o))),!Ee(s)&&s&&s.contextElement&&(H=H.concat(rn(s.contextElement)))),H=H.filter(q=>q!==B.defaultView?.visualViewport),H.forEach(q=>{q.addEventListener("scroll",Q,{passive:!0})}),()=>{B.removeEventListener("pointerdown",N,!0),f&&(B.removeEventListener("keydown",$),B.removeEventListener("compositionstart",V),B.removeEventListener("compositionend",ge)),R&&(B.removeEventListener("click",z,!0),B.removeEventListener("pointerdown",z,!0),B.removeEventListener("touchstart",K,!0),B.removeEventListener("touchmove",ce,!0),B.removeEventListener("touchend",te,!0),B.removeEventListener("mousedown",z,!0)),H.forEach(q=>{q.removeEventListener("scroll",Q)}),P.clear(),y.current=!1}},[a,o,s,c,f,R,r,i,h,u,S,E,$,_,z,j,K,ce,te,N,n]),l.useEffect(M,[R,M]);const de=l.useMemo(()=>({onKeyDown:$,...p&&{[Dl[v]]:P=>{n.setOpen(!1,he(wt,P.nativeEvent))},...v!=="intentional"&&{onClick(P){n.setOpen(!1,he(wt,P.nativeEvent))}}}}),[$,n,p,v]),le=re(P=>{const Q=Ke(P.nativeEvent);!pe(n.select("floatingElement"),Q)||P.button!==0||(y.current=!0)}),X=re(P=>{!r||!u||P.button!==0||(y.current=!0)}),ue=l.useMemo(()=>({onKeyDown:$,onPointerDown:le,onMouseDown:le,onMouseUp:le,onClickCapture:I,onMouseDownCapture(P){I(),X(P)},onPointerDownCapture(P){I(),X(P)},onMouseUpCapture:I,onTouchEndCapture:I,onTouchMoveCapture:I}),[$,le,I,X]);return l.useMemo(()=>u?{reference:de,floating:ue,trigger:de}:{},[u,de,ue])}var vr=Symbol("NOT_FOUND");function Ll(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function Nl(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function Fl(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var ys=e=>Array.isArray(e)?e:[e];function jl(e){const t=Array.isArray(e[0])?e[0]:e;return Fl(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function $l(e,t){const n=[],{length:r}=e;for(let o=0;o<r;o++)n.push(e[o].apply(null,t));return n}function _l(e){let t;return{get(n){return t&&e(t.key,n)?t.value:vr},put(n,r){t={key:n,value:r}},getEntries(){return t?[t]:[]},clear(){t=void 0}}}function Bl(e,t){let n=[];function r(i){const a=n.findIndex(u=>t(i,u.key));if(a>-1){const u=n[a];return a>0&&(n.splice(a,1),n.unshift(u)),u.value}return vr}function o(i,a){r(i)===vr&&(n.unshift({key:i,value:a}),n.length>e&&n.pop())}function s(){return n}function c(){n=[]}return{get:r,put:o,getEntries:s,clear:c}}var zl=(e,t)=>e===t;function Hl(e){return function(n,r){if(n===null||r===null||n.length!==r.length)return!1;const{length:o}=n;for(let s=0;s<o;s++)if(!e(n[s],r[s]))return!1;return!0}}function Vl(e,t){const n=typeof t=="object"?t:{equalityCheck:t},{equalityCheck:r=zl,maxSize:o=1,resultEqualityCheck:s}=n,c=Hl(r);let i=0;const a=o<=1?_l(c):Bl(o,c);function u(){let f=a.get(arguments);if(f===vr){if(f=e.apply(null,arguments),i++,s){const g=a.getEntries().find(p=>s(p.value,f));g&&(f=g.value,i!==0&&i--)}a.put(arguments,f)}return f}return u.clearCache=()=>{a.clear(),u.resetResultsCount()},u.resultsCount=()=>i,u.resetResultsCount=()=>{i=0},u}var Wl=class{constructor(e){this.value=e}deref(){return this.value}},Ul=typeof WeakRef<"u"?WeakRef:Wl,Yl=0,bs=1;function Xn(){return{s:Yl,v:void 0,o:null,p:null}}function Pi(e,t={}){let n=Xn();const{resultEqualityCheck:r}=t;let o,s=0;function c(){let i=n;const{length:a}=arguments;for(let d=0,g=a;d<g;d++){const p=arguments[d];if(typeof p=="function"||typeof p=="object"&&p!==null){let v=i.o;v===null&&(i.o=v=new WeakMap);const h=v.get(p);h===void 0?(i=Xn(),v.set(p,i)):i=h}else{let v=i.p;v===null&&(i.p=v=new Map);const h=v.get(p);h===void 0?(i=Xn(),v.set(p,i)):i=h}}const u=i;let f;if(i.s===bs)f=i.v;else if(f=e.apply(null,arguments),s++,r){const d=o?.deref?.()??o;d!=null&&r(d,f)&&(f=d,s!==0&&s--),o=typeof f=="object"&&f!==null||typeof f=="function"?new Ul(f):f}return u.s=bs,u.v=f,f}return c.clearCache=()=>{n=Xn(),c.resetResultsCount()},c.resultsCount=()=>s,c.resetResultsCount=()=>{s=0},c}function Di(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...o)=>{let s=0,c=0,i,a={},u=o.pop();typeof u=="object"&&(a=u,u=o.pop()),Ll(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const f={...n,...a},{memoize:d,memoizeOptions:g=[],argsMemoize:p=Pi,argsMemoizeOptions:v=[]}=f,h=ys(g),x=ys(v),b=jl(o),m=d(function(){return s++,u.apply(null,arguments)},...h),w=p(function(){c++;const y=$l(b,arguments);return i=m.apply(null,y),i},...x);return Object.assign(w,{resultFunc:u,memoizedResultFunc:m,dependencies:b,dependencyRecomputations:()=>c,resetDependencyRecomputations:()=>{c=0},lastResult:()=>i,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:d,argsMemoize:p})};return Object.assign(r,{withTypes:()=>r}),r}var Kl=Di(Pi),Xl=Object.assign((e,t=Kl)=>{Nl(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(s=>e[s]);return t(r,(...s)=>s.reduce((c,i,a)=>(c[n[a]]=i,c),{}))},{withTypes:()=>Xl});Di({memoize:Vl,memoizeOptions:{maxSize:1,equalityCheck:Object.is}});const ne=(e,t,n,r,o,s,...c)=>{if(c.length>0)throw new Error(bt(1));let i;if(e)i=e;else throw new Error("Missing arguments");return i};var Gl=ea();const ql=na(19),Jl=ql?Zl:eu;function Ql(e,t,n,r,o){return Jl(e,t,n,r,o)}function Zl(e,t,n,r,o){const s=l.useCallback(()=>t(e.getSnapshot(),n,r,o),[e,t,n,r,o]);return Gl.useSyncExternalStore(e.subscribe,s,s)}function eu(e,t,n,r,o){return ta.useSyncExternalStoreWithSelector(e.subscribe,e.getSnapshot,e.getSnapshot,s=>t(s,n,r,o))}class wn{constructor(t){this.state=t,this.listeners=new Set,this.updateTick=0}subscribe=t=>(this.listeners.add(t),()=>{this.listeners.delete(t)});getSnapshot=()=>this.state;setState(t){if(this.state===t)return;this.state=t,this.updateTick+=1;const n=this.updateTick;for(const r of this.listeners){if(n!==this.updateTick)return;r(t)}}update(t){for(const n in t)if(!Object.is(this.state[n],t[n])){wn.prototype.setState.call(this,{...this.state,...t});return}}set(t,n){Object.is(this.state[t],n)||wn.prototype.setState.call(this,{...this.state,[t]:n})}notifyAll(){const t={...this.state};wn.prototype.setState.call(this,t)}}class Mr extends wn{constructor(t,n={},r){super(t),this.context=n,this.selectors=r}controlledValues=new Map;useSyncedValue(t,n){l.useDebugValue(t),ie(()=>{this.state[t]!==n&&this.set(t,n)},[t,n])}useSyncedValueWithCleanup(t,n){const r=this;ie(()=>(r.state[t]!==n&&r.set(t,n),()=>{r.set(t,void 0)}),[r,t,n])}useSyncedValues(t){const n=this,r=Object.values(t);ie(()=>{n.update(t)},[n,...r])}useControlledProp(t,n,r){l.useDebugValue(t);const o=this,s=n!==void 0;this.controlledValues.has(t)||(this.controlledValues.set(t,s),!s&&!Object.is(this.state[t],r)&&super.setState({...this.state,[t]:r})),ie(()=>{s&&!Object.is(o.state[t],n)&&super.setState({...o.state,[t]:n})},[o,t,n,r,s])}set(t,n){this.controlledValues.get(t)!==!0&&super.set(t,n)}update(t){const n={...t};for(const r in n)if(Object.hasOwn(n,r)&&this.controlledValues.get(r)===!0){delete n[r];continue}super.update(n)}setState(t){const n={...t};for(const r in n)if(Object.hasOwn(n,r)&&this.controlledValues.get(r)===!0){delete n[r];continue}super.setState({...this.state,...n})}select=(t,n,r,o)=>{const s=this.selectors[t];return s(this.state,n,r,o)};useState=(t,n,r,o)=>{l.useDebugValue(t);const s=this.selectors[t];return Ql(this,s,n,r,o)};useContextCallback(t,n){l.useDebugValue(t);const r=re(n??Nt);this.context[t]=r}useStateSetter(t){const n=l.useRef(void 0);return n.current===void 0&&(n.current=r=>{this.set(t,r)}),n.current}observe(t,n){let r;typeof t=="function"?r=t:r=this.selectors[t];let o=r(this.state);return n(o,o,this),this.subscribe(s=>{const c=r(s);if(!Object.is(o,c)){const i=o;o=c,n(c,i,this)}})}}const tu={open:ne(e=>e.open),domReferenceElement:ne(e=>e.domReferenceElement),referenceElement:ne(e=>e.positionReference??e.referenceElement),floatingElement:ne(e=>e.floatingElement),floatingId:ne(e=>e.floatingId)};class Io extends Mr{constructor(t){const{nested:n,noEmit:r,onOpenChange:o,triggerElements:s,...c}=t;super({...c,positionReference:c.referenceElement,domReferenceElement:c.referenceElement},{onOpenChange:o,dataRef:{current:{}},events:mi(),nested:n,noEmit:r,triggerElements:s},tu)}setOpen=(t,n)=>{if((!t||!this.state.open||pi(n.event))&&(this.context.dataRef.current.openEvent=t?n.event:void 0),!this.context.noEmit){const r={open:t,reason:n.reason,nativeEvent:n.event,nested:this.context.nested,triggerElement:n.trigger};this.context.events.emit("openchange",r)}this.context.onOpenChange?.(t,n)}}function nu(e,t=!1,n=!1){const[r,o]=l.useState(e&&t?"idle":void 0),[s,c]=l.useState(e);return e&&!s&&(c(!0),o("starting")),!e&&s&&r!=="ending"&&!n&&o("ending"),!e&&!s&&r==="ending"&&o(void 0),ie(()=>{if(!e&&s&&r!=="ending"&&n){const i=qt.request(()=>{o("ending")});return()=>{qt.cancel(i)}}},[e,s,r,n]),ie(()=>{if(!e||t)return;const i=qt.request(()=>{o(void 0)});return()=>{qt.cancel(i)}},[t,e]),ie(()=>{if(!e||!t)return;e&&s&&r!=="idle"&&o("starting");const i=qt.request(()=>{o("idle")});return()=>{qt.cancel(i)}},[t,e,s,o,r]),l.useMemo(()=>({mounted:s,setMounted:c,transitionStatus:r}),[s,r])}function ru(e,t){const n=l.useRef(null),r=l.useRef(null);return l.useCallback(o=>{if(e!==void 0){if(n.current!==null){const s=n.current,c=r.current,i=t.context.triggerElements.getById(s);c&&i===c&&t.context.triggerElements.delete(s),n.current=null,r.current=null}o!==null&&(n.current=e,r.current=o,t.context.triggerElements.add(e,o))}},[t,e])}function Ai(e,t,n,r){const o=n.useState("isMountedByTrigger",e),s=ru(e,n),c=re(i=>{if(s(i),!i||!n.select("open"))return;const a=n.select("activeTriggerId");if(a===e){n.update({activeTriggerElement:i,...r});return}a==null&&n.update({activeTriggerId:e,activeTriggerElement:i,...r})});return ie(()=>{o&&n.update({activeTriggerElement:t.current,...r})},[o,n,t,...Object.values(r)]),{registerTrigger:c,isMountedByThisTrigger:o}}function Mo(e){const t=e.useState("open");ie(()=>{if(t&&!e.select("activeTriggerId")&&e.context.triggerElements.size===1){const n=e.context.triggerElements.entries().next();if(!n.done){const[r,o]=n.value;e.update({activeTriggerId:r,activeTriggerElement:o})}}},[t,e])}function Po(e,t,n){const{mounted:r,setMounted:o,transitionStatus:s}=nu(e);t.useSyncedValues({mounted:r,transitionStatus:s});const c=re(()=>{o(!1),t.update({activeTriggerId:null,activeTriggerElement:null,mounted:!1}),n?.(),t.context.onOpenChangeComplete?.(!1)}),i=t.useState("preventUnmountingOnClose");return Tr({enabled:!i,open:e,ref:t.context.popupRef,onComplete(){e||c()}}),{forceUnmount:c,transitionStatus:s}}class _n{constructor(){this.elements=new Set,this.idMap=new Map}add(t,n){const r=this.idMap.get(t);r!==n&&(r!==void 0&&this.elements.delete(r),this.elements.add(n),this.idMap.set(t,n))}delete(t){const n=this.idMap.get(t);n&&(this.elements.delete(n),this.idMap.delete(t))}hasElement(t){return this.elements.has(t)}hasMatchingElement(t){for(const n of this.elements)if(t(n))return!0;return!1}getById(t){return this.idMap.get(t)}entries(){return this.idMap.entries()}get size(){return this.idMap.size}}function ou(){return new Io({open:!1,floatingElement:null,referenceElement:null,triggerElements:new _n,floatingId:"",nested:!1,noEmit:!1,onOpenChange:void 0})}function Do(){return{open:!1,mounted:!1,transitionStatus:"idle",floatingRootContext:ou(),preventUnmountingOnClose:!1,payload:void 0,activeTriggerId:null,activeTriggerElement:null,popupElement:null,positionerElement:null,activeTriggerProps:mt,inactiveTriggerProps:mt,popupProps:mt}}const Ao={open:ne(e=>e.open),mounted:ne(e=>e.mounted),transitionStatus:ne(e=>e.transitionStatus),floatingRootContext:ne(e=>e.floatingRootContext),preventUnmountingOnClose:ne(e=>e.preventUnmountingOnClose),payload:ne(e=>e.payload),activeTriggerId:ne(e=>e.activeTriggerId),activeTriggerElement:ne(e=>e.mounted?e.activeTriggerElement:null),isTriggerActive:ne((e,t)=>t!==void 0&&e.activeTriggerId===t),isOpenedByTrigger:ne((e,t)=>t!==void 0&&e.activeTriggerId===t&&e.open),isMountedByTrigger:ne((e,t)=>t!==void 0&&e.activeTriggerId===t&&e.mounted),triggerProps:ne((e,t)=>t?e.activeTriggerProps:e.inactiveTriggerProps),popupProps:ne(e=>e.popupProps),popupElement:ne(e=>e.popupElement),positionerElement:ne(e=>e.positionerElement)};function su(e){const{open:t=!1,onOpenChange:n,elements:r={}}=e,o=Dn(),s=St()!=null,c=Ot(()=>new Io({open:t,onOpenChange:n,referenceElement:r.reference??null,floatingElement:r.floating??null,triggerElements:r.triggers??new _n,floatingId:o,nested:s,noEmit:e.noEmit||!1})).current;return ie(()=>{const i={open:t,floatingId:o};r.reference!==void 0&&(i.referenceElement=r.reference,i.domReferenceElement=Ee(r.reference)?r.reference:null),r.floating!==void 0&&(i.floatingElement=r.floating),c.update(i)},[t,o,r.reference,r.floating,c]),c.context.onOpenChange=n,c.context.nested=s,c.context.noEmit=e.noEmit||!1,c}function iu(e={}){const{nodeId:t,externalTree:n}=e,r=su(e),o=e.rootContext||r,s={reference:o.useState("referenceElement"),floating:o.useState("floatingElement"),domReference:o.useState("domReferenceElement")},[c,i]=l.useState(null),a=l.useRef(null),u=Yt(n);ie(()=>{s.domReference&&(a.current=s.domReference)},[s.domReference]);const f=Sl({...e,elements:{...s,...c&&{reference:c}}}),d=l.useCallback(E=>{const O=Ee(E)?{getBoundingClientRect:()=>E.getBoundingClientRect(),getClientRects:()=>E.getClientRects(),contextElement:E}:E;i(O),f.refs.setReference(O)},[f.refs]),[g,p]=l.useState(null),[v,h]=l.useState(null);o.useSyncedValue("referenceElement",g),o.useSyncedValue("domReferenceElement",Ee(g)?g:null),o.useSyncedValue("floatingElement",v);const x=l.useCallback(E=>{(Ee(E)||E===null)&&(a.current=E,p(E)),(Ee(f.refs.reference.current)||f.refs.reference.current===null||E!==null&&!Ee(E))&&f.refs.setReference(E)},[f.refs,p]),b=l.useCallback(E=>{h(E),f.refs.setFloating(E)},[f.refs]),m=l.useMemo(()=>({...f.refs,setReference:x,setFloating:b,setPositionReference:d,domReference:a}),[f.refs,x,b,d]),w=l.useMemo(()=>({...f.elements,domReference:s.domReference}),[f.elements,s.domReference]),R=o.useState("open"),y=o.useState("floatingId"),S=l.useMemo(()=>({...f,dataRef:o.context.dataRef,open:R,onOpenChange:o.setOpen,events:o.context.events,floatingId:y,refs:m,elements:w,nodeId:t,rootStore:o}),[f,m,w,t,o,R,y]);return ie(()=>{o.context.dataRef.current.floatingContext=S;const E=u?.nodesRef.current.find(O=>O.id===t);E&&(E.context=S)}),l.useMemo(()=>({...f,context:S,refs:m,elements:w,rootStore:o}),[f,m,w,S,o])}function Lo(e){const{popupStore:t,noEmit:n=!1,treatPopupAsFloatingElement:r=!1,onOpenChange:o}=e,s=Dn(),c=St()!=null,i=t.useState("open"),a=t.useState("activeTriggerElement"),u=t.useState(r?"popupElement":"positionerElement"),f=t.context.triggerElements,d=Ot(()=>new Io({open:i,referenceElement:a,floatingElement:u,triggerElements:f,onOpenChange:o,floatingId:s,nested:c,noEmit:n})).current;return ie(()=>{const g={open:i,floatingId:s,referenceElement:a,floatingElement:u};Ee(a)&&(g.domReferenceElement=a),d.state.positionReference===d.state.referenceElement&&(g.positionReference=a),d.update(g)},[i,s,a,u,d]),d.context.onOpenChange=o,d.context.nested=c,d.context.noEmit=n,d}const Yr=oa&&sa;function cu(e,t={}){const n="rootStore"in e?e.rootStore:e,{events:r,dataRef:o}=n.context,{enabled:s=!0,visibleOnly:c=!0,delay:i}=t,a=l.useRef(!1),u=l.useRef(null),f=nt(),d=l.useRef(!0);l.useEffect(()=>{const p=n.select("domReferenceElement");if(!s)return;const v=tt(p);function h(){const m=n.select("domReferenceElement");!n.select("open")&&De(m)&&m===Tt($e(m))&&(a.current=!0)}function x(){d.current=!0}function b(){d.current=!1}return v.addEventListener("blur",h),Yr&&(v.addEventListener("keydown",x,!0),v.addEventListener("pointerdown",b,!0)),()=>{v.removeEventListener("blur",h),Yr&&(v.removeEventListener("keydown",x,!0),v.removeEventListener("pointerdown",b,!0))}},[n,s]),l.useEffect(()=>{if(!s)return;function p(v){if(v.reason===wt||v.reason===Sr){const h=n.select("domReferenceElement");Ee(h)&&(u.current=h,a.current=!0)}}return r.on("openchange",p),()=>{r.off("openchange",p)}},[r,s,n]);const g=l.useMemo(()=>({onMouseLeave(){a.current=!1,u.current=null},onFocus(p){const v=p.currentTarget;if(a.current){if(u.current===v)return;a.current=!1,u.current=null}const h=Ke(p.nativeEvent);if(c&&Ee(h)){if(Yr&&!p.relatedTarget){if(!d.current&&!Zs(h))return}else if(!ra(h))return}const x=p.relatedTarget&&n.context.triggerElements.hasElement(p.relatedTarget),{nativeEvent:b,currentTarget:m}=p,w=typeof i=="function"?i():i;if(n.select("open")&&x||w===0||w===void 0){n.setOpen(!0,he(yn,b,m));return}f.start(w,()=>{a.current||n.setOpen(!0,he(yn,b,m))})},onBlur(p){a.current=!1,u.current=null;const v=p.relatedTarget,h=p.nativeEvent,x=Ee(v)&&v.hasAttribute(Sn("focus-guard"))&&v.getAttribute("data-type")==="outside";f.start(0,()=>{const b=n.select("domReferenceElement"),m=Tt(b?b.ownerDocument:document);if(!v&&m===b||pe(o.current.floatingContext?.refs.floating.current,m)||pe(b,m)||x)return;const w=v??m;if(Ee(w)){const R=n.context.triggerElements;if(R.hasElement(w)||R.hasMatchingElement(y=>pe(y,w)))return}n.setOpen(!1,he(yn,h))})}}),[o,n,c,f,i]);return l.useMemo(()=>s?{reference:g,trigger:g}:{},[s,g])}const oo=Sn("safe-polygon"),au=`button,a,[role="button"],select,[tabindex]:not([tabindex="-1"]),${ia}`;function lu(e){return e?!!e.closest(au):!1}function Li(e){const t=l.useRef(void 0),n=l.useRef(!1),r=l.useRef(void 0),o=l.useRef(!0),s=l.useRef(!1),c=l.useRef(()=>{}),i=l.useRef(!1),a=nt(),u=nt(),f=l.useRef(void 0);return l.useMemo(()=>{const d=e.context.dataRef.current;return d.hoverInteractionState||(d.hoverInteractionState={pointerTypeRef:t,interactedInsideRef:n,handlerRef:r,blockMouseMoveRef:o,performedPointerEventsMutationRef:s,unbindMouseMoveRef:c,restTimeoutPendingRef:i,openChangeTimeout:a,restTimeout:u,handleCloseOptionsRef:f}),d.hoverInteractionState},[e,t,n,r,o,s,c,i,a,u,f])}const uu=new Set(["click","mousedown"]);function Ni(e,t={}){const n="rootStore"in e?e.rootStore:e,r=n.useState("open"),o=n.useState("floatingElement"),s=n.useState("domReferenceElement"),{dataRef:c}=n.context,{enabled:i=!0,closeDelay:a=0,externalTree:u}=t,{pointerTypeRef:f,interactedInsideRef:d,handlerRef:g,performedPointerEventsMutationRef:p,unbindMouseMoveRef:v,restTimeoutPendingRef:h,openChangeTimeout:x,handleCloseOptionsRef:b}=Li(n),m=Yt(u),w=St(),R=re(()=>d.current?!0:c.current.openEvent?uu.has(c.current.openEvent.type):!1),y=re(()=>{const k=c.current.openEvent?.type;return k?.includes("mouse")&&k!=="mousedown"}),S=l.useCallback((k,M=!0)=>{const D=du(a,f.current);D&&!g.current?x.start(D,()=>n.setOpen(!1,he(Fe,k))):M&&(x.clear(),n.setOpen(!1,he(Fe,k)))},[a,g,n,f,x]),E=re(()=>{v.current(),g.current=void 0}),O=re(()=>{if(p.current){const k=$e(o).body;k.style.pointerEvents="",k.removeAttribute(oo),p.current=!1}}),L=re(k=>{const M=Ke(k);if(!lu(M)){d.current=!1;return}d.current=!0});ie(()=>{r||(f.current=void 0,h.current=!1,d.current=!1,E(),O())},[r,f,h,d,E,O]),l.useEffect(()=>()=>{E()},[E]),l.useEffect(()=>O,[O]),ie(()=>{if(i&&r&&b.current?.blockPointerEvents&&y()&&Ee(s)&&o){p.current=!0;const k=$e(o).body;k.setAttribute(oo,"");const M=s,D=o,T=m?.nodesRef.current.find(N=>N.id===w)?.context?.elements.floating;return T&&(T.style.pointerEvents=""),k.style.pointerEvents="none",M.style.pointerEvents="auto",D.style.pointerEvents="auto",()=>{k.style.pointerEvents="",M.style.pointerEvents="",D.style.pointerEvents=""}}},[i,r,s,o,b,y,m,w,p]),l.useEffect(()=>{if(!i)return;function k(N){if(R()||!c.current.floatingContext||!n.select("open"))return;const A=n.context.triggerElements;N.relatedTarget&&A.hasElement(N.relatedTarget)||(O(),E(),R()||S(N))}function M(N){x.clear(),O(),g.current?.(N),E()}function D(N){R()||S(N,!1)}const T=o;return T&&(T.addEventListener("mouseleave",k),T.addEventListener("mouseenter",M),T.addEventListener("mouseleave",D),T.addEventListener("pointerdown",L,!0)),()=>{T&&(T.removeEventListener("mouseleave",k),T.removeEventListener("mouseenter",M),T.removeEventListener("mouseleave",D),T.removeEventListener("pointerdown",L,!0))}})}function du(e,t){return t&&!ln(t)?0:typeof e=="function"?e():e}function Kr(e){return typeof e=="function"?e():e}const fu={current:null};function Fi(e,t={}){const n="rootStore"in e?e.rootStore:e,{dataRef:r,events:o}=n.context,{enabled:s=!0,delay:c=0,handleClose:i=null,mouseOnly:a=!1,restMs:u=0,move:f=!0,triggerElementRef:d=fu,externalTree:g,isActiveTrigger:p=!0}=t,v=Yt(g),{pointerTypeRef:h,interactedInsideRef:x,handlerRef:b,blockMouseMoveRef:m,performedPointerEventsMutationRef:w,unbindMouseMoveRef:R,restTimeoutPendingRef:y,openChangeTimeout:S,restTimeout:E,handleCloseOptionsRef:O}=Li(n),L=Ve(i),k=Ve(c),M=Ve(u);p&&(O.current=L.current?.__options);const D=re(()=>x.current?!0:r.current.openEvent?["click","mousedown"].includes(r.current.openEvent.type):!1),T=l.useCallback((F,I=!0)=>{const _=zr(k.current,"close",h.current);_&&!b.current?S.start(_,()=>n.setOpen(!1,he(Fe,F))):I&&(S.clear(),n.setOpen(!1,he(Fe,F)))},[k,b,n,h,S]),N=re(()=>{R.current(),b.current=void 0}),A=re(()=>{if(w.current){const F=$e(n.select("domReferenceElement")).body;F.style.pointerEvents="",F.removeAttribute(oo),w.current=!1}});l.useEffect(()=>{if(!s)return;function F(I){I.open||(S.clear(),E.clear(),m.current=!0,y.current=!1)}return o.on("openchange",F),()=>{o.off("openchange",F)}},[s,o,S,E,m,y]);const $=re(F=>{if(D()||!r.current.floatingContext)return;const I=n.context.triggerElements;if(F.relatedTarget&&I.hasElement(F.relatedTarget))return;const _=d.current;L.current?.({...r.current.floatingContext,tree:v,x:F.clientX,y:F.clientY,onClose(){A(),N(),!D()&&_===n.select("domReferenceElement")&&T(F)}})(F)});return l.useEffect(()=>{if(!s)return;const F=d.current??(p?n.select("domReferenceElement"):null);if(!Ee(F))return;function I(U){if(S.clear(),m.current=!1,a&&!ln(h.current)||Kr(M.current)>0&&!zr(k.current,"open"))return;const K=zr(k.current,"open",h.current),z=n.select("domReferenceElement"),Y=n.context.triggerElements,ce=(Y.hasElement(U.target)||Y.hasMatchingElement(le=>pe(le,U.target)))&&(!z||!pe(z,U.target)),G=U.currentTarget??null,te=n.select("open"),de=!te||ce;ce&&te?n.setOpen(!0,he(Fe,U,G)):K?S.start(K,()=>{de&&n.setOpen(!0,he(Fe,U,G))}):de&&n.setOpen(!0,he(Fe,U,G))}function _(U){if(D()){A();return}R.current();const K=n.select("domReferenceElement"),z=$e(K);E.clear(),y.current=!1;const Y=n.context.triggerElements;if(U.relatedTarget&&Y.hasElement(U.relatedTarget))return;if(L.current&&r.current.floatingContext){n.select("open")||S.clear();const G=d.current;b.current=L.current({...r.current.floatingContext,tree:v,x:U.clientX,y:U.clientY,onClose(){A(),N(),!D()&&G===n.select("domReferenceElement")&&T(U,!0)}});const te=b.current;te(U),z.addEventListener("mousemove",te),R.current=()=>{z.removeEventListener("mousemove",te)};return}(h.current!=="touch"||!pe(n.select("floatingElement"),U.relatedTarget))&&T(U)}function j(U){$(U)}return n.select("open")&&F.addEventListener("mouseleave",j),f&&F.addEventListener("mousemove",I,{once:!0}),F.addEventListener("mouseenter",I),F.addEventListener("mouseleave",_),()=>{F.removeEventListener("mouseleave",j),f&&F.removeEventListener("mousemove",I),F.removeEventListener("mouseenter",I),F.removeEventListener("mouseleave",_)}},[N,A,m,r,k,T,n,s,L,$,p,D,a,f,h,M,E,y,S,d,v,R,b]),l.useMemo(()=>{function F(I){h.current=I.pointerType}return{onPointerDown:F,onPointerEnter:F,onMouseMove(I){const{nativeEvent:_}=I,j=I.currentTarget,U=n.select("domReferenceElement"),K=n.context.triggerElements,z=n.select("open"),Y=(K.hasElement(I.target)||K.hasMatchingElement(G=>pe(G,I.target)))&&(!U||!pe(U,I.target));if(a&&!ln(h.current)||z&&!Y||Kr(M.current)===0||!Y&&y.current&&I.movementX**2+I.movementY**2<2)return;E.clear();function ce(){if(y.current=!1,D())return;const G=n.select("open");!m.current&&(!G||Y)&&n.setOpen(!0,he(Fe,_,j))}h.current==="touch"?et.flushSync(()=>{ce()}):Y&&z?ce():(y.current=!0,E.start(Kr(M.current),ce))}}},[m,D,a,n,h,M,E,y])}function Bn(e=[]){const t=e.map(u=>u?.reference),n=e.map(u=>u?.floating),r=e.map(u=>u?.item),o=e.map(u=>u?.trigger),s=l.useCallback(u=>Gn(u,e,"reference"),t),c=l.useCallback(u=>Gn(u,e,"floating"),n),i=l.useCallback(u=>Gn(u,e,"item"),r),a=l.useCallback(u=>Gn(u,e,"trigger"),o);return l.useMemo(()=>({getReferenceProps:s,getFloatingProps:c,getItemProps:i,getTriggerProps:a}),[s,c,i,a])}function Gn(e,t,n){const r=new Map,o=n==="item",s={};n==="floating"&&(s.tabIndex=-1,s[ca]="");for(const c in e)o&&e&&(c===ti||c===ni)||(s[c]=e[c]);for(let c=0;c<t.length;c+=1){let i;const a=t[c]?.[n];typeof a=="function"?i=e?a(e):null:i=a,i&&xs(s,i,o,r)}return xs(s,e,o,r),s}function xs(e,t,n,r){for(const o in t){const s=t[o];n&&(o===ti||o===ni)||(o.startsWith("on")?(r.has(o)||r.set(o,[]),typeof s=="function"&&(r.get(o)?.push(s),e[o]=(...c)=>r.get(o)?.map(i=>i(...c)).find(i=>i!==void 0))):e[o]=s)}}const gu="Escape";function Pr(e,t,n){switch(e){case"vertical":return t;case"horizontal":return n;default:return t||n}}function qn(e,t){return Pr(t,e===uo||e===Pn,e===$t||e===_t)}function Xr(e,t,n){return Pr(t,e===Pn,n?e===$t:e===_t)||e==="Enter"||e===" "||e===""}function pu(e,t,n){return Pr(t,n?e===$t:e===_t,e===Pn)}function hu(e,t,n,r){const o=n?e===_t:e===$t,s=e===uo;return t==="both"||t==="horizontal"&&r&&r>1?e===gu:Pr(t,o,s)}function mu(e,t){const n="rootStore"in e?e.rootStore:e,r=n.useState("open"),o=n.useState("floatingElement"),s=n.useState("domReferenceElement"),c=n.context.dataRef,{listRef:i,activeIndex:a,onNavigate:u=()=>{},enabled:f=!0,selectedIndex:d=null,allowEscape:g=!1,loopFocus:p=!1,nested:v=!1,rtl:h=!1,virtual:x=!1,focusItemOnOpen:b="auto",focusItemOnHover:m=!0,openOnArrowKeyDown:w=!0,disabledIndices:R=void 0,orientation:y="vertical",parentOrientation:S,cols:E=1,scrollItemIntoView:O=!0,itemSizes:L,dense:k=!1,id:M,resetOnPointerLeave:D=!0,externalTree:T}=t,N=dr(o),A=Ve(N),$=St(),F=Yt(T);ie(()=>{c.current.orientation=y},[c,y]);const I=eo(s),_=l.useRef(b),j=l.useRef(d??-1),U=l.useRef(null),K=l.useRef(!0),z=re(W=>{u(j.current===-1?null:j.current,W)}),Y=l.useRef(z),ce=l.useRef(!!o),G=l.useRef(r),te=l.useRef(!1),de=l.useRef(!1),le=Ve(R),X=Ve(r),ue=Ve(O),P=Ve(d),Q=Ve(D),V=re(()=>{function W(ye){x?F?.events.emit("virtualfocus",ye):or(ye,{sync:te.current,preventScroll:!0})}const se=i.current[j.current],J=de.current;se&&W(se),(te.current?ye=>ye():requestAnimationFrame)(()=>{const ye=i.current[j.current]||se;if(!ye)return;se||W(ye);const xe=ue.current;xe&&B&&(J||!K.current)&&ye.scrollIntoView?.(typeof xe=="boolean"?{block:"nearest",inline:"nearest"}:xe)})});ie(()=>{f&&(r&&o?(j.current=d??-1,_.current&&d!=null&&(de.current=!0,z())):ce.current&&(j.current=-1,Y.current()))},[f,r,o,d,z]),ie(()=>{if(f){if(!r){te.current=!1;return}if(o)if(a==null){if(te.current=!1,P.current!=null)return;if(ce.current&&(j.current=-1,V()),(!G.current||!ce.current)&&_.current&&(U.current!=null||_.current===!0&&U.current==null)){let W=0;const se=()=>{i.current[0]==null?(W<2&&(W?requestAnimationFrame:queueMicrotask)(se),W+=1):(j.current=U.current==null||Xr(U.current,y,h)||v?Br(i):ss(i),U.current=null,z())};se()}}else bn(i,a)||(j.current=a,V(),de.current=!1)}},[f,r,o,a,P,v,i,y,h,z,V,le]),ie(()=>{if(!f||o||!F||x||!ce.current)return;const W=F.nodesRef.current,se=W.find(ye=>ye.id===$)?.context?.elements.floating,J=Tt($e(o)),ve=W.some(ye=>ye.context&&pe(ye.context.elements.floating,J));se&&!ve&&K.current&&se.focus({preventScroll:!0})},[f,o,F,$,x]),ie(()=>{Y.current=z,G.current=r,ce.current=!!o}),ie(()=>{r||(U.current=null,_.current=b)},[r,b]);const ge=a!=null,B=l.useMemo(()=>{function W(J){if(!X.current)return;const ve=i.current.indexOf(J.currentTarget);ve!==-1&&j.current!==ve&&(j.current=ve,z(J))}return{onFocus(J){te.current=!0,W(J)},onClick:({currentTarget:J})=>J.focus({preventScroll:!0}),onMouseMove(J){te.current=!0,de.current=!1,m&&W(J)},onPointerLeave(J){if(!X.current||!K.current||J.pointerType==="touch")return;te.current=!0;const ve=J.relatedTarget;!m||i.current.includes(ve)||Q.current&&(j.current=-1,z(J),x||A.current?.focus({preventScroll:!0}))}}},[X,A,m,i,z,Q,x]),H=l.useCallback(()=>S??F?.nodesRef.current.find(W=>W.id===$)?.context?.dataRef?.current.orientation,[$,F,S]),q=re(W=>{if(K.current=!1,te.current=!0,W.which===229||!X.current&&W.currentTarget===A.current)return;if(v&&hu(W.key,y,h,E)){qn(W.key,H())||He(W),n.setOpen(!1,he(rr,W.nativeEvent)),De(s)&&(x?F?.events.emit("virtualfocus",s):s.focus());return}const se=j.current,J=Br(i,R),ve=ss(i,R);if(I||(W.key==="Home"&&(He(W),j.current=J,z(W)),W.key==="End"&&(He(W),j.current=ve,z(W))),E>1){const ye=L||Array.from({length:i.current.length},()=>({width:1,height:1})),xe=Na(ye,E,k),we=xe.findIndex(_e=>_e!=null&&!xn(i,_e,R)),Ae=xe.reduce((_e,Qe,fe)=>Qe!=null&&!xn(i,Qe,R)?fe:_e,-1),Ce=xe[La({current:xe.map(_e=>_e!=null?i.current[_e]:null)},{event:W,orientation:y,loopFocus:p,rtl:h,cols:E,disabledIndices:ja([...(typeof R!="function"?R:null)||i.current.map((_e,Qe)=>xn(i,Qe,R)?Qe:void 0),void 0],xe),minIndex:we,maxIndex:Ae,prevIndex:Fa(j.current>ve?J:j.current,ye,xe,E,W.key===Pn?"bl":W.key===(h?$t:_t)?"tr":"tl"),stopEvent:!0})];if(Ce!=null&&(j.current=Ce,z(W)),y==="both")return}if(qn(W.key,y)){if(He(W),r&&!x&&Tt(W.currentTarget.ownerDocument)===W.currentTarget){j.current=Xr(W.key,y,h)?J:ve,z(W);return}Xr(W.key,y,h)?p?se>=ve?g&&se!==i.current.length?j.current=-1:(te.current=!1,j.current=J):j.current=ze(i,{startingIndex:se,disabledIndices:R}):j.current=Math.min(ve,ze(i,{startingIndex:se,disabledIndices:R})):p?se<=J?g&&se!==-1?j.current=i.current.length:(te.current=!1,j.current=ve):j.current=ze(i,{startingIndex:se,decrement:!0,disabledIndices:R}):j.current=Math.max(J,ze(i,{startingIndex:se,decrement:!0,disabledIndices:R})),bn(i,j.current)&&(j.current=-1),z(W)}}),oe=l.useMemo(()=>x&&r&&ge&&{"aria-activedescendant":`${M}-${a}`},[x,r,ge,M,a]),ae=l.useMemo(()=>({"aria-orientation":y==="both"?void 0:y,...I?{}:oe,onKeyDown(W){if(W.key==="Tab"&&W.shiftKey&&r&&!x){const se=Ke(W.nativeEvent);if(se&&!pe(A.current,se))return;He(W),n.setOpen(!1,he(Vt,W.nativeEvent)),De(s)&&s.focus();return}q(W)},onPointerMove(){K.current=!0}}),[oe,q,A,y,I,n,r,x,s]),Z=l.useMemo(()=>{function W(J){b==="auto"&&fi(J.nativeEvent)&&(_.current=!x)}function se(J){_.current=b,b==="auto"&&gi(J.nativeEvent)&&(_.current=!0)}return{onKeyDown(J){const ve=n.select("open");K.current=!1;const ye=J.key.startsWith("Arrow"),xe=pu(J.key,H(),h),we=qn(J.key,y),Ae=(v?xe:we)||J.key==="Enter"||J.key.trim()==="";if(x&&ve)return q(J);if(!(!ve&&!w&&ye)){if(Ae){const Ce=qn(J.key,H());U.current=v&&Ce?null:J.key}if(v){xe&&(He(J),ve?(j.current=Br(i,le.current),z(J)):n.setOpen(!0,he(rr,J.nativeEvent,J.currentTarget)));return}we&&(P.current!=null&&(j.current=P.current),He(J),!ve&&w?n.setOpen(!0,he(rr,J.nativeEvent,J.currentTarget)):q(J),ve&&z(J))}},onFocus(J){n.select("open")&&!x&&(j.current=-1,z(J))},onPointerDown:se,onPointerEnter:se,onMouseDown:W,onClick:W}},[q,le,b,i,v,z,n,w,y,H,h,P,x]),ee=l.useMemo(()=>({...oe,...Z}),[oe,Z]);return l.useMemo(()=>f?{reference:ee,floating:ae,item:B,trigger:Z}:{},[f,ee,ae,Z,B])}const vu=new Map([["select","listbox"],["combobox","listbox"],["label",!1]]);function No(e,t={}){const n="rootStore"in e?e.rootStore:e,r=n.useState("open"),o=n.useState("floatingId"),s=n.useState("domReferenceElement"),c=n.useState("floatingElement"),{enabled:i=!0,role:a="dialog"}=t,u=Dn(),f=s?.id||u,d=l.useMemo(()=>dr(c)?.id||o,[c,o]),g=vu.get(a)??a,v=St()!=null,h=l.useMemo(()=>g==="tooltip"||a==="label"?mt:{"aria-haspopup":g==="alertdialog"?"dialog":g,"aria-expanded":"false",...g==="listbox"&&{role:"combobox"},...g==="menu"&&v&&{role:"menuitem"},...a==="select"&&{"aria-autocomplete":"none"},...a==="combobox"&&{"aria-autocomplete":"list"}},[g,v,a]),x=l.useMemo(()=>g==="tooltip"||a==="label"?{[`aria-${a==="label"?"labelledby":"describedby"}`]:r?d:void 0}:{...h,"aria-expanded":r?"true":"false","aria-controls":r?d:void 0,...g==="menu"&&{id:f}},[g,d,r,f,a,h]),b=l.useMemo(()=>{const w={id:d,...g&&{role:g}};return g==="tooltip"||a==="label"?w:{...w,...g==="menu"&&{"aria-labelledby":f}}},[g,d,f,a]),m=l.useCallback(({active:w,selected:R})=>{const y={role:"option",...w&&{id:`${d}-fui-option`}};switch(a){case"select":case"combobox":return{...y,"aria-selected":R}}return{}},[d,a]);return l.useMemo(()=>i?{reference:x,floating:b,item:m,trigger:h}:{},[i,x,b,h,m])}function yu(e,t){const n="rootStore"in e?e.rootStore:e,r=n.useState("open"),o=n.context.dataRef,{listRef:s,activeIndex:c,onMatch:i,onTypingChange:a,enabled:u=!0,findMatch:f=null,resetMs:d=750,ignoreKeys:g=gr,selectedIndex:p=null}=t,v=nt(),h=l.useRef(""),x=l.useRef(p??c??-1),b=l.useRef(null);ie(()=>{r&&(v.clear(),b.current=null,h.current="")},[r,v]),ie(()=>{r&&h.current===""&&(x.current=p??c??-1)},[r,p,c]);const m=re(S=>{S?o.current.typing||(o.current.typing=S,a?.(S)):o.current.typing&&(o.current.typing=S,a?.(S))}),w=re(S=>{function E(D,T,N){const A=f?f(T,N):T.find($=>$?.toLocaleLowerCase().indexOf(N.toLocaleLowerCase())===0);return A?D.indexOf(A):-1}const O=s.current;if(h.current.length>0&&h.current[0]!==" "&&(E(O,O,h.current)===-1?m(!1):S.key===" "&&He(S)),O==null||g.includes(S.key)||S.key.length!==1||S.ctrlKey||S.metaKey||S.altKey)return;r&&S.key!==" "&&(He(S),m(!0)),O.every(D=>D?D[0]?.toLocaleLowerCase()!==D[1]?.toLocaleLowerCase():!0)&&h.current===S.key&&(h.current="",x.current=b.current),h.current+=S.key,v.start(d,()=>{h.current="",x.current=b.current,m(!1)});const k=x.current,M=E(O,[...O.slice((k||0)+1),...O.slice(0,(k||0)+1)],h.current);M!==-1?(i?.(M),b.current=M):S.key!==" "&&(h.current="",m(!1))}),R=l.useMemo(()=>({onKeyDown:w}),[w]),y=l.useMemo(()=>({onKeyDown:w,onKeyUp(S){S.key===" "&&m(!1)}}),[w,m]);return l.useMemo(()=>u?{reference:R,floating:y}:{},[u,R,y])}function ws(e,t){const[n,r]=e;let o=!1;const s=t.length;for(let c=0,i=s-1;c<s;i=c++){const[a,u]=t[c]||[0,0],[f,d]=t[i]||[0,0];u>=r!=d>=r&&n<=(f-a)*(r-u)/(d-u)+a&&(o=!o)}return o}function bu(e,t){return e[0]>=t.x&&e[0]<=t.x+t.width&&e[1]>=t.y&&e[1]<=t.y+t.height}function ji(e={}){const{buffer:t=.5,blockPointerEvents:n=!1,requireIntent:r=!0}=e,o=new Tn;let s=!1,c=null,i=null,a=typeof performance<"u"?performance.now():0;function u(d,g){const p=performance.now(),v=p-a;if(c===null||i===null||v===0)return c=d,i=g,a=p,null;const h=d-c,x=g-i,m=Math.sqrt(h*h+x*x)/v;return c=d,i=g,a=p,m}const f=({x:d,y:g,placement:p,elements:v,onClose:h,nodeId:x,tree:b})=>function(w){function R(){o.clear(),h()}if(o.clear(),!v.domReference||!v.floating||p==null||d==null||g==null)return;const{clientX:y,clientY:S}=w,E=[y,S],O=Ke(w),L=w.type==="mouseleave",k=pe(v.floating,O),M=pe(v.domReference,O),D=v.domReference.getBoundingClientRect(),T=v.floating.getBoundingClientRect(),N=p.split("-")[0],A=d>T.right-T.width/2,$=g>T.bottom-T.height/2,F=bu(E,D),I=T.width>D.width,_=T.height>D.height,j=(I?D:T).left,U=(I?D:T).right,K=(_?D:T).top,z=(_?D:T).bottom;if(k&&(s=!0,!L))return;if(M&&(s=!1),M&&!L){s=!0;return}if(L&&Ee(w.relatedTarget)&&pe(v.floating,w.relatedTarget)||b&&Jt(b.nodesRef.current,x).some(({context:G})=>G?.open))return;if(N==="top"&&g>=D.bottom-1||N==="bottom"&&g<=D.top+1||N==="left"&&d>=D.right-1||N==="right"&&d<=D.left+1)return R();let Y=[];switch(N){case"top":Y=[[j,D.top+1],[j,T.bottom-1],[U,T.bottom-1],[U,D.top+1]];break;case"bottom":Y=[[j,T.top+1],[j,D.bottom-1],[U,D.bottom-1],[U,T.top+1]];break;case"left":Y=[[T.right-1,z],[T.right-1,K],[D.left+1,K],[D.left+1,z]];break;case"right":Y=[[D.right-1,z],[D.right-1,K],[T.left+1,K],[T.left+1,z]];break}function ce([G,te]){switch(N){case"top":{const de=[I?G+t/2:A?G+t*4:G-t*4,te+t+1],le=[I?G-t/2:A?G+t*4:G-t*4,te+t+1],X=[[T.left,A||I?T.bottom-t:T.top],[T.right,A?I?T.bottom-t:T.top:T.bottom-t]];return[de,le,...X]}case"bottom":{const de=[I?G+t/2:A?G+t*4:G-t*4,te-t],le=[I?G-t/2:A?G+t*4:G-t*4,te-t],X=[[T.left,A||I?T.top+t:T.bottom],[T.right,A?I?T.top+t:T.bottom:T.top+t]];return[de,le,...X]}case"left":{const de=[G+t+1,_?te+t/2:$?te+t*4:te-t*4],le=[G+t+1,_?te-t/2:$?te+t*4:te-t*4];return[...[[$||_?T.right-t:T.left,T.top],[$?_?T.right-t:T.left:T.right-t,T.bottom]],de,le]}case"right":{const de=[G-t,_?te+t/2:$?te+t*4:te-t*4],le=[G-t,_?te-t/2:$?te+t*4:te-t*4],X=[[$||_?T.left+t:T.right,T.top],[$?_?T.left+t:T.right:T.left+t,T.bottom]];return[de,le,...X]}default:return[]}}if(!ws([y,S],Y)){if(s&&!F)return R();if(!L&&r){const G=u(w.clientX,w.clientY);if(G!==null&&G<.1)return R()}ws([y,S],ce([d,g]))?!s&&r&&o.start(40,R):R()}};return f.__options={blockPointerEvents:n},f}const xu=l.createContext(void 0);function Fo(){return l.useContext(xu)?.direction??"ltr"}const wu=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:o,rects:s,platform:c,elements:i,middlewareData:a}=t,{element:u,padding:f=0,offsetParent:d="real"}=kt(e,t)||{};if(u==null)return{};const g=hi(f),p={x:n,y:r},v=Ro(o),h=wo(v),x=await c.getDimensions(u),b=v==="y",m=b?"top":"left",w=b?"bottom":"right",R=b?"clientHeight":"clientWidth",y=s.reference[h]+s.reference[v]-p[v]-s.floating[h],S=p[v]-s.reference[v],E=d==="real"?await c.getOffsetParent?.(u):i.floating;let O=i.floating[R]||s.floating[h];(!O||!await c.isElement?.(E))&&(O=i.floating[R]||s.floating[h]);const L=y/2-S/2,k=O/2-x[h]/2-1,M=Math.min(g[m],k),D=Math.min(g[w],k),T=M,N=O-x[h]-D,A=O/2-x[h]/2+L,$=no(T,A,N),F=!a.arrow&&Ut(o)!=null&&A!==$&&s.reference[h]/2-(A<T?M:D)-x[h]/2<0,I=F?A<T?A-T:A-N:0;return{[v]:p[v]+I,data:{[v]:$,centerOffset:A-$-I,...F&&{alignmentOffset:I}},reset:F}}}),Ru=(e,t)=>({...wu(e),options:[e,t]}),Eu={name:"hide",async fn(e){const{width:t,height:n,x:r,y:o}=e.rects.reference,s=t===0&&n===0&&r===0&&o===0;return{data:{referenceHidden:(await Pl().fn(e)).data?.referenceHidden||s}}}},ir={sideX:"left",sideY:"top"},Cu={name:"adaptiveOrigin",async fn(e){const{x:t,y:n,rects:{floating:r},elements:{floating:o},platform:s,strategy:c,placement:i}=e,a=tt(o),u=a.getComputedStyle(o);if(!(u.transitionDuration!=="0s"&&u.transitionDuration!==""))return{x:t,y:n,data:ir};const d=await s.getOffsetParent?.(o);let g={width:0,height:0};if(c==="fixed"&&a?.visualViewport)g={width:a.visualViewport.width,height:a.visualViewport.height};else if(d===a){const m=Ct(o);g={width:m.documentElement.clientWidth,height:m.documentElement.clientHeight}}else await s.isElement?.(d)&&(g=await s.getDimensions(d));const p=Je(i);let v=t,h=n;p==="left"&&(v=g.width-(t+r.width)),p==="top"&&(h=g.height-(n+r.height));const x=p==="left"?"right":ir.sideX,b=p==="top"?"bottom":ir.sideY;return{x:v,y:h,data:{sideX:x,sideY:b}}}};function $i(e,t,n){const r=e==="inline-start"||e==="inline-end";return{top:"top",right:r?n?"inline-start":"inline-end":"right",bottom:"bottom",left:r?n?"inline-end":"inline-start":"left"}[t]}function Rs(e,t,n){const{rects:r,placement:o}=e;return{side:$i(t,Je(o),n),align:Ut(o)||"center",anchor:{width:r.reference.width,height:r.reference.height},positioner:{width:r.floating.width,height:r.floating.height}}}function _i(e){const{anchor:t,positionMethod:n="absolute",side:r="bottom",sideOffset:o=0,align:s="center",alignOffset:c=0,collisionBoundary:i,collisionPadding:a=5,sticky:u=!1,arrowPadding:f=5,disableAnchorTracking:d=!1,keepMounted:g=!1,floatingRootContext:p,mounted:v,collisionAvoidance:h,shiftCrossAxis:x=!1,nodeId:b,adaptiveOrigin:m,lazyFlip:w=!1,externalTree:R}=e,[y,S]=l.useState(null);!v&&y!==null&&S(null);const E=h.side||"flip",O=h.align||"flip",L=h.fallbackAxisSide||"end",k=typeof t=="function"?t:void 0,M=re(k),D=k?M:t,T=Ve(t),A=Fo()==="rtl",$=y||{top:"top",right:"right",bottom:"bottom",left:"left","inline-end":A?"left":"right","inline-start":A?"right":"left"}[r],F=s==="center"?$:`${$}-${s}`;let I=a;const _=1,j=r==="bottom"?_:0,U=r==="top"?_:0,K=r==="right"?_:0,z=r==="left"?_:0;typeof I=="number"?I={top:I+j,right:I+z,bottom:I+U,left:I+K}:I&&(I={top:(I.top||0)+j,right:(I.right||0)+z,bottom:(I.bottom||0)+U,left:(I.left||0)+K});const Y={boundary:i==="clipping-ancestors"?"clippingAncestors":i,padding:I},ce=l.useRef(null),G=Ve(o),te=Ve(c),X=[Tl(Se=>{const ke=Rs(Se,r,A),Ue=typeof G.current=="function"?G.current(ke):G.current,Be=typeof te.current=="function"?te.current(ke):te.current;return{mainAxis:Ue,crossAxis:Be,alignmentAxis:Be}},[typeof o!="function"?o:0,typeof c!="function"?c:0,A,r])],ue=O==="none"&&E!=="shift",P=!ue&&(u||x||E==="shift"),Q=E==="none"?null:Il({...Y,padding:{top:I.top+_,right:I.right+_,bottom:I.bottom+_,left:I.left+_},mainAxis:!x&&E==="flip",crossAxis:O==="flip"?"alignment":!1,fallbackAxisSideDirection:L}),V=ue?null:Ol(Se=>{const ke=Ct(Se.elements.floating).documentElement;return{...Y,rootBoundary:x?{x:0,y:0,width:ke.clientWidth,height:ke.clientHeight}:void 0,mainAxis:O!=="none",crossAxis:P,limiter:u||x?void 0:kl(Ue=>{if(!ce.current)return{};const{width:Be,height:lt}=ce.current.getBoundingClientRect(),Re=ct(Je(Ue.placement)),Me=Re==="y"?Be:lt,je=Re==="y"?I.left+I.right:I.top+I.bottom;return{offset:Me/2+je/2}})}},[Y,u,x,I,O]);E==="shift"||O==="shift"||s==="center"?X.push(V,Q):X.push(Q,V),X.push(Ml({...Y,apply({elements:{floating:Se},rects:{reference:ke},availableWidth:Ue,availableHeight:Be}){Object.entries({"--available-width":`${Ue}px`,"--available-height":`${Be}px`,"--anchor-width":`${ke.width}px`,"--anchor-height":`${ke.height}px`}).forEach(([lt,Re])=>{Se.style.setProperty(lt,Re)})}}),Ru(()=>({element:ce.current||document.createElement("div"),padding:f,offsetParent:"floating"}),[f]),{name:"transformOrigin",fn(Se){const{elements:ke,middlewareData:Ue,placement:Be,rects:lt,y:Re}=Se,Me=Je(Be),je=ct(Me),ut=ce.current,qe=Ue.arrow?.x||0,Ye=Ue.arrow?.y||0,rt=ut?.clientWidth||0,Pt=ut?.clientHeight||0,Pe=qe+rt/2,dt=Ye+Pt/2,ot=Math.abs(Ue.shift?.y||0),ft=lt.reference.height/2,gt=typeof o=="function"?o(Rs(Se,r,A)):o,Xt=ot>gt,xt={top:`${Pe}px calc(100% + ${gt}px)`,bottom:`${Pe}px ${-gt}px`,left:`calc(100% + ${gt}px) ${dt}px`,right:`${-gt}px ${dt}px`}[Me],Gt=`${Pe}px ${lt.reference.y+ft-Re}px`;return ke.floating.style.setProperty("--transform-origin",P&&je==="y"&&Xt?Gt:xt),{}}},Eu,m),ie(()=>{!v&&p&&p.update({referenceElement:null,floatingElement:null,domReferenceElement:null})},[v,p]);const ge=l.useMemo(()=>({elementResize:!d&&typeof ResizeObserver<"u",layoutShift:!d&&typeof IntersectionObserver<"u"}),[d]),{refs:B,elements:H,x:q,y:oe,middlewareData:ae,update:Z,placement:ee,context:W,isPositioned:se,floatingStyles:J}=iu({rootContext:p,placement:F,middleware:X,strategy:n,whileElementsMounted:g?void 0:(...Se)=>ms(...Se,ge),nodeId:b,externalTree:R}),{sideX:ve,sideY:ye}=ae.adaptiveOrigin||ir,xe=se?n:"fixed",we=l.useMemo(()=>m?{position:xe,[ve]:q,[ye]:oe}:{position:xe,...J},[m,xe,ve,q,ye,oe,J]),Ae=l.useRef(null);ie(()=>{if(!v)return;const Se=T.current,ke=typeof Se=="function"?Se():Se,Be=(Es(ke)?ke.current:ke)||null||null;Be!==Ae.current&&(B.setPositionReference(Be),Ae.current=Be)},[v,B,D,T]),l.useEffect(()=>{if(!v)return;const Se=T.current;typeof Se!="function"&&Es(Se)&&Se.current!==Ae.current&&(B.setPositionReference(Se.current),Ae.current=Se.current)},[v,B,D,T]),l.useEffect(()=>{if(g&&v&&H.domReference&&H.floating)return ms(H.domReference,H.floating,Z,ge)},[g,v,H,Z,ge]);const Ce=Je(ee),_e=$i(r,Ce,A),Qe=Ut(ee)||"center",fe=!!ae.hide?.referenceHidden;ie(()=>{w&&v&&se&&S(Ce)},[w,v,se,Ce]);const be=l.useMemo(()=>({position:"absolute",top:ae.arrow?.y,left:ae.arrow?.x}),[ae.arrow]),Ie=ae.arrow?.centerOffset!==0;return l.useMemo(()=>({positionerStyles:we,arrowStyles:be,arrowRef:ce,arrowUncentered:Ie,side:_e,align:Qe,physicalSide:Ce,anchorHidden:fe,refs:B,context:W,isPositioned:se,update:Z}),[we,be,ce,Ie,_e,Qe,Ce,fe,B,W,se,Z])}function Es(e){return e!=null&&"current"in e}let ht=(function(e){return e.open="data-open",e.closed="data-closed",e[e.startingStyle=ts.startingStyle]="startingStyle",e[e.endingStyle=ts.endingStyle]="endingStyle",e.anchorHidden="data-anchor-hidden",e})({}),so=(function(e){return e.popupOpen="data-popup-open",e.pressed="data-pressed",e})({});const Su={[so.popupOpen]:""},Tu={[so.popupOpen]:"",[so.pressed]:""},Ou={[ht.open]:""},ku={[ht.closed]:""},Iu={[ht.anchorHidden]:""},Mu={open(e){return e?Su:null}},io={open(e){return e?Tu:null}},en={open(e){return e?Ou:ku},anchorHidden(e){return e?Iu:null}};function Pu(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return l.useMemo(()=>r=>{t.forEach(o=>o(r))},t)}const Dr=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function fn(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function jo(e){return"nodeType"in e}function Ge(e){var t,n;return e?fn(e)?e:jo(e)&&(t=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?t:window:window}function $o(e){const{Document:t}=Ge(e);return e instanceof t}function zn(e){return fn(e)?!1:e instanceof Ge(e).HTMLElement}function Bi(e){return e instanceof Ge(e).SVGElement}function gn(e){return e?fn(e)?e.document:jo(e)?$o(e)?e:zn(e)||Bi(e)?e.ownerDocument:document:document:document}const vt=Dr?l.useLayoutEffect:l.useEffect;function Ar(e){const t=l.useRef(e);return vt(()=>{t.current=e}),l.useCallback(function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t.current==null?void 0:t.current(...r)},[])}function Du(){const e=l.useRef(null),t=l.useCallback((r,o)=>{e.current=setInterval(r,o)},[]),n=l.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,n]}function kn(e,t){t===void 0&&(t=[e]);const n=l.useRef(e);return vt(()=>{n.current!==e&&(n.current=e)},t),n}function Hn(e,t){const n=l.useRef();return l.useMemo(()=>{const r=e(n.current);return n.current=r,r},[...t])}function yr(e){const t=Ar(e),n=l.useRef(null),r=l.useCallback(o=>{o!==n.current&&t?.(o,n.current),n.current=o},[]);return[n,r]}function br(e){const t=l.useRef();return l.useEffect(()=>{t.current=e},[e]),t.current}let Gr={};function Vn(e,t){return l.useMemo(()=>{if(t)return t;const n=Gr[e]==null?0:Gr[e]+1;return Gr[e]=n,e+"-"+n},[e,t])}function zi(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return r.reduce((s,c)=>{const i=Object.entries(c);for(const[a,u]of i){const f=s[a];f!=null&&(s[a]=f+e*u)}return s},{...t})}}const cn=zi(1),In=zi(-1);function Au(e){return"clientX"in e&&"clientY"in e}function Lr(e){if(!e)return!1;const{KeyboardEvent:t}=Ge(e.target);return t&&e instanceof t}function Lu(e){if(!e)return!1;const{TouchEvent:t}=Ge(e.target);return t&&e instanceof t}function xr(e){if(Lu(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return Au(e)?{x:e.clientX,y:e.clientY}:null}const It=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[It.Translate.toString(e),It.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:r}=e;return t+" "+n+"ms "+r}}}),Cs="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function Nu(e){return e.matches(Cs)?e:e.querySelector(Cs)}const Fu={display:"none"};function ju(e){let{id:t,value:n}=e;return Te.createElement("div",{id:t,style:Fu},n)}function $u(e){let{id:t,announcement:n,ariaLiveType:r="assertive"}=e;const o={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return Te.createElement("div",{id:t,style:o,role:"status","aria-live":r,"aria-atomic":!0},n)}function _u(){const[e,t]=l.useState("");return{announce:l.useCallback(r=>{r!=null&&t(r)},[]),announcement:e}}const Hi=l.createContext(null);function Bu(e){const t=l.useContext(Hi);l.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function zu(){const[e]=l.useState(()=>new Set),t=l.useCallback(r=>(e.add(r),()=>e.delete(r)),[e]);return[l.useCallback(r=>{let{type:o,event:s}=r;e.forEach(c=>{var i;return(i=c[o])==null?void 0:i.call(c,s)})},[e]),t]}const Hu={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},Vu={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function Wu(e){let{announcements:t=Vu,container:n,hiddenTextDescribedById:r,screenReaderInstructions:o=Hu}=e;const{announce:s,announcement:c}=_u(),i=Vn("DndLiveRegion"),[a,u]=l.useState(!1);if(l.useEffect(()=>{u(!0)},[]),Bu(l.useMemo(()=>({onDragStart(d){let{active:g}=d;s(t.onDragStart({active:g}))},onDragMove(d){let{active:g,over:p}=d;t.onDragMove&&s(t.onDragMove({active:g,over:p}))},onDragOver(d){let{active:g,over:p}=d;s(t.onDragOver({active:g,over:p}))},onDragEnd(d){let{active:g,over:p}=d;s(t.onDragEnd({active:g,over:p}))},onDragCancel(d){let{active:g,over:p}=d;s(t.onDragCancel({active:g,over:p}))}}),[s,t])),!a)return null;const f=Te.createElement(Te.Fragment,null,Te.createElement(ju,{id:r,value:o.draggable}),Te.createElement($u,{id:i,announcement:c}));return n?et.createPortal(f,n):f}var Le;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(Le||(Le={}));function wr(){}function Ss(e,t){return l.useMemo(()=>({sensor:e,options:t??{}}),[e,t])}function Uu(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return l.useMemo(()=>[...t].filter(r=>r!=null),[...t])}const yt=Object.freeze({x:0,y:0});function Vi(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function Yu(e,t){const n=xr(e);if(!n)return"0 0";const r={x:(n.x-t.left)/t.width*100,y:(n.y-t.top)/t.height*100};return r.x+"% "+r.y+"%"}function Wi(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return n-r}function Ku(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return r-n}function Ts(e){let{left:t,top:n,height:r,width:o}=e;return[{x:t,y:n},{x:t+o,y:n},{x:t,y:n+r},{x:t+o,y:n+r}]}function Ui(e,t){if(!e||e.length===0)return null;const[n]=e;return n[t]}function Os(e,t,n){return t===void 0&&(t=e.left),n===void 0&&(n=e.top),{x:t+e.width*.5,y:n+e.height*.5}}const Xu=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const o=Os(t,t.left,t.top),s=[];for(const c of r){const{id:i}=c,a=n.get(i);if(a){const u=Vi(Os(a),o);s.push({id:i,data:{droppableContainer:c,value:u}})}}return s.sort(Wi)},Gu=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const o=Ts(t),s=[];for(const c of r){const{id:i}=c,a=n.get(i);if(a){const u=Ts(a),f=o.reduce((g,p,v)=>g+Vi(u[v],p),0),d=Number((f/4).toFixed(4));s.push({id:i,data:{droppableContainer:c,value:d}})}}return s.sort(Wi)};function qu(e,t){const n=Math.max(t.top,e.top),r=Math.max(t.left,e.left),o=Math.min(t.left+t.width,e.left+e.width),s=Math.min(t.top+t.height,e.top+e.height),c=o-r,i=s-n;if(r<o&&n<s){const a=t.width*t.height,u=e.width*e.height,f=c*i,d=f/(a+u-f);return Number(d.toFixed(4))}return 0}const Ju=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const o=[];for(const s of r){const{id:c}=s,i=n.get(c);if(i){const a=qu(i,t);a>0&&o.push({id:c,data:{droppableContainer:s,value:a}})}}return o.sort(Ku)};function Qu(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}function Yi(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:yt}function Zu(e){return function(n){for(var r=arguments.length,o=new Array(r>1?r-1:0),s=1;s<r;s++)o[s-1]=arguments[s];return o.reduce((c,i)=>({...c,top:c.top+e*i.y,bottom:c.bottom+e*i.y,left:c.left+e*i.x,right:c.right+e*i.x}),{...n})}}const ed=Zu(1);function Ki(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function td(e,t,n){const r=Ki(t);if(!r)return e;const{scaleX:o,scaleY:s,x:c,y:i}=r,a=e.left-c-(1-o)*parseFloat(n),u=e.top-i-(1-s)*parseFloat(n.slice(n.indexOf(" ")+1)),f=o?e.width/o:e.width,d=s?e.height/s:e.height;return{width:f,height:d,top:u,right:a+f,bottom:u+d,left:a}}const nd={ignoreTransform:!1};function pn(e,t){t===void 0&&(t=nd);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:u,transformOrigin:f}=Ge(e).getComputedStyle(e);u&&(n=td(n,u,f))}const{top:r,left:o,width:s,height:c,bottom:i,right:a}=n;return{top:r,left:o,width:s,height:c,bottom:i,right:a}}function ks(e){return pn(e,{ignoreTransform:!0})}function rd(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}function od(e,t){return t===void 0&&(t=Ge(e).getComputedStyle(e)),t.position==="fixed"}function sd(e,t){t===void 0&&(t=Ge(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(o=>{const s=t[o];return typeof s=="string"?n.test(s):!1})}function Nr(e,t){const n=[];function r(o){if(t!=null&&n.length>=t||!o)return n;if($o(o)&&o.scrollingElement!=null&&!n.includes(o.scrollingElement))return n.push(o.scrollingElement),n;if(!zn(o)||Bi(o)||n.includes(o))return n;const s=Ge(e).getComputedStyle(o);return o!==e&&sd(o,s)&&n.push(o),od(o,s)?n:r(o.parentNode)}return e?r(e):n}function Xi(e){const[t]=Nr(e,1);return t??null}function qr(e){return!Dr||!e?null:fn(e)?e:jo(e)?$o(e)||e===gn(e).scrollingElement?window:zn(e)?e:null:null}function Gi(e){return fn(e)?e.scrollX:e.scrollLeft}function qi(e){return fn(e)?e.scrollY:e.scrollTop}function co(e){return{x:Gi(e),y:qi(e)}}var Ne;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(Ne||(Ne={}));function Ji(e){return!Dr||!e?!1:e===document.scrollingElement}function Qi(e){const t={x:0,y:0},n=Ji(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},r={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height},o=e.scrollTop<=t.y,s=e.scrollLeft<=t.x,c=e.scrollTop>=r.y,i=e.scrollLeft>=r.x;return{isTop:o,isLeft:s,isBottom:c,isRight:i,maxScroll:r,minScroll:t}}const id={x:.2,y:.2};function cd(e,t,n,r,o){let{top:s,left:c,right:i,bottom:a}=n;r===void 0&&(r=10),o===void 0&&(o=id);const{isTop:u,isBottom:f,isLeft:d,isRight:g}=Qi(e),p={x:0,y:0},v={x:0,y:0},h={height:t.height*o.y,width:t.width*o.x};return!u&&s<=t.top+h.height?(p.y=Ne.Backward,v.y=r*Math.abs((t.top+h.height-s)/h.height)):!f&&a>=t.bottom-h.height&&(p.y=Ne.Forward,v.y=r*Math.abs((t.bottom-h.height-a)/h.height)),!g&&i>=t.right-h.width?(p.x=Ne.Forward,v.x=r*Math.abs((t.right-h.width-i)/h.width)):!d&&c<=t.left+h.width&&(p.x=Ne.Backward,v.x=r*Math.abs((t.left+h.width-c)/h.width)),{direction:p,speed:v}}function ad(e){if(e===document.scrollingElement){const{innerWidth:s,innerHeight:c}=window;return{top:0,left:0,right:s,bottom:c,width:s,height:c}}const{top:t,left:n,right:r,bottom:o}=e.getBoundingClientRect();return{top:t,left:n,right:r,bottom:o,width:e.clientWidth,height:e.clientHeight}}function Zi(e){return e.reduce((t,n)=>cn(t,co(n)),yt)}function ld(e){return e.reduce((t,n)=>t+Gi(n),0)}function ud(e){return e.reduce((t,n)=>t+qi(n),0)}function ec(e,t){if(t===void 0&&(t=pn),!e)return;const{top:n,left:r,bottom:o,right:s}=t(e);Xi(e)&&(o<=0||s<=0||n>=window.innerHeight||r>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const dd=[["x",["left","right"],ld],["y",["top","bottom"],ud]];class _o{constructor(t,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=Nr(n),o=Zi(r);this.rect={...t},this.width=t.width,this.height=t.height;for(const[s,c,i]of dd)for(const a of c)Object.defineProperty(this,a,{get:()=>{const u=i(r),f=o[s]-u;return this.rect[a]+f},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Rn{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=t}add(t,n,r){var o;(o=this.target)==null||o.addEventListener(t,n,r),this.listeners.push([t,n,r])}}function fd(e){const{EventTarget:t}=Ge(e);return e instanceof t?e:gn(e)}function Jr(e,t){const n=Math.abs(e.x),r=Math.abs(e.y);return typeof t=="number"?Math.sqrt(n**2+r**2)>t:"x"in t&&"y"in t?n>t.x&&r>t.y:"x"in t?n>t.x:"y"in t?r>t.y:!1}var it;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(it||(it={}));function Is(e){e.preventDefault()}function gd(e){e.stopPropagation()}var me;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(me||(me={}));const tc={start:[me.Space,me.Enter],cancel:[me.Esc],end:[me.Space,me.Enter,me.Tab]},pd=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case me.Right:return{...n,x:n.x+25};case me.Left:return{...n,x:n.x-25};case me.Down:return{...n,y:n.y+25};case me.Up:return{...n,y:n.y-25}}};class Bo{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:n}}=t;this.props=t,this.listeners=new Rn(gn(n)),this.windowListeners=new Rn(Ge(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(it.Resize,this.handleCancel),this.windowListeners.add(it.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(it.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:n}=this.props,r=t.node.current;r&&ec(r),n(yt)}handleKeyDown(t){if(Lr(t)){const{active:n,context:r,options:o}=this.props,{keyboardCodes:s=tc,coordinateGetter:c=pd,scrollBehavior:i="smooth"}=o,{code:a}=t;if(s.end.includes(a)){this.handleEnd(t);return}if(s.cancel.includes(a)){this.handleCancel(t);return}const{collisionRect:u}=r.current,f=u?{x:u.left,y:u.top}:yt;this.referenceCoordinates||(this.referenceCoordinates=f);const d=c(t,{active:n,context:r.current,currentCoordinates:f});if(d){const g=In(d,f),p={x:0,y:0},{scrollableAncestors:v}=r.current;for(const h of v){const x=t.code,{isTop:b,isRight:m,isLeft:w,isBottom:R,maxScroll:y,minScroll:S}=Qi(h),E=ad(h),O={x:Math.min(x===me.Right?E.right-E.width/2:E.right,Math.max(x===me.Right?E.left:E.left+E.width/2,d.x)),y:Math.min(x===me.Down?E.bottom-E.height/2:E.bottom,Math.max(x===me.Down?E.top:E.top+E.height/2,d.y))},L=x===me.Right&&!m||x===me.Left&&!w,k=x===me.Down&&!R||x===me.Up&&!b;if(L&&O.x!==d.x){const M=h.scrollLeft+g.x,D=x===me.Right&&M<=y.x||x===me.Left&&M>=S.x;if(D&&!g.y){h.scrollTo({left:M,behavior:i});return}D?p.x=h.scrollLeft-M:p.x=x===me.Right?h.scrollLeft-y.x:h.scrollLeft-S.x,p.x&&h.scrollBy({left:-p.x,behavior:i});break}else if(k&&O.y!==d.y){const M=h.scrollTop+g.y,D=x===me.Down&&M<=y.y||x===me.Up&&M>=S.y;if(D&&!g.x){h.scrollTo({top:M,behavior:i});return}D?p.y=h.scrollTop-M:p.y=x===me.Down?h.scrollTop-y.y:h.scrollTop-S.y,p.y&&h.scrollBy({top:-p.y,behavior:i});break}}this.handleMove(t,cn(In(d,this.referenceCoordinates),p))}}}handleMove(t,n){const{onMove:r}=this.props;t.preventDefault(),r(n)}handleEnd(t){const{onEnd:n}=this.props;t.preventDefault(),this.detach(),n()}handleCancel(t){const{onCancel:n}=this.props;t.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}Bo.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:r=tc,onActivation:o}=t,{active:s}=n;const{code:c}=e.nativeEvent;if(r.start.includes(c)){const i=s.activatorNode.current;return i&&e.target!==i?!1:(e.preventDefault(),o?.({event:e.nativeEvent}),!0)}return!1}}];function Ms(e){return!!(e&&"distance"in e)}function Ps(e){return!!(e&&"delay"in e)}class zo{constructor(t,n,r){var o;r===void 0&&(r=fd(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=n;const{event:s}=t,{target:c}=s;this.props=t,this.events=n,this.document=gn(c),this.documentListeners=new Rn(this.document),this.listeners=new Rn(r),this.windowListeners=new Rn(Ge(c)),this.initialCoordinates=(o=xr(s))!=null?o:yt,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(it.Resize,this.handleCancel),this.windowListeners.add(it.DragStart,Is),this.windowListeners.add(it.VisibilityChange,this.handleCancel),this.windowListeners.add(it.ContextMenu,Is),this.documentListeners.add(it.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(Ps(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(Ms(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,n){const{active:r,onPending:o}=this.props;o(r,t,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:t}=this,{onStart:n}=this.props;t&&(this.activated=!0,this.documentListeners.add(it.Click,gd,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(it.SelectionChange,this.removeTextSelection),n(t))}handleMove(t){var n;const{activated:r,initialCoordinates:o,props:s}=this,{onMove:c,options:{activationConstraint:i}}=s;if(!o)return;const a=(n=xr(t))!=null?n:yt,u=In(o,a);if(!r&&i){if(Ms(i)){if(i.tolerance!=null&&Jr(u,i.tolerance))return this.handleCancel();if(Jr(u,i.distance))return this.handleStart()}if(Ps(i)&&Jr(u,i.tolerance))return this.handleCancel();this.handlePending(i,u);return}t.cancelable&&t.preventDefault(),c(a)}handleEnd(){const{onAbort:t,onEnd:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleCancel(){const{onAbort:t,onCancel:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleKeydown(t){t.code===me.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const hd={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class Ho extends zo{constructor(t){const{event:n}=t,r=gn(n.target);super(t,hd,r)}}Ho.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return!n.isPrimary||n.button!==0?!1:(r?.({event:n}),!0)}}];const md={move:{name:"mousemove"},end:{name:"mouseup"}};var ao;(function(e){e[e.RightClick=2]="RightClick"})(ao||(ao={}));class vd extends zo{constructor(t){super(t,md,gn(t.event.target))}}vd.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return n.button===ao.RightClick?!1:(r?.({event:n}),!0)}}];const Qr={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class yd extends zo{constructor(t){super(t,Qr)}static setup(){return window.addEventListener(Qr.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(Qr.move.name,t)};function t(){}}}yd.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;const{touches:o}=n;return o.length>1?!1:(r?.({event:n}),!0)}}];var En;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(En||(En={}));var Rr;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(Rr||(Rr={}));function bd(e){let{acceleration:t,activator:n=En.Pointer,canScroll:r,draggingRect:o,enabled:s,interval:c=5,order:i=Rr.TreeOrder,pointerCoordinates:a,scrollableAncestors:u,scrollableAncestorRects:f,delta:d,threshold:g}=e;const p=wd({delta:d,disabled:!s}),[v,h]=Du(),x=l.useRef({x:0,y:0}),b=l.useRef({x:0,y:0}),m=l.useMemo(()=>{switch(n){case En.Pointer:return a?{top:a.y,bottom:a.y,left:a.x,right:a.x}:null;case En.DraggableRect:return o}},[n,o,a]),w=l.useRef(null),R=l.useCallback(()=>{const S=w.current;if(!S)return;const E=x.current.x*b.current.x,O=x.current.y*b.current.y;S.scrollBy(E,O)},[]),y=l.useMemo(()=>i===Rr.TreeOrder?[...u].reverse():u,[i,u]);l.useEffect(()=>{if(!s||!u.length||!m){h();return}for(const S of y){if(r?.(S)===!1)continue;const E=u.indexOf(S),O=f[E];if(!O)continue;const{direction:L,speed:k}=cd(S,O,m,t,g);for(const M of["x","y"])p[M][L[M]]||(k[M]=0,L[M]=0);if(k.x>0||k.y>0){h(),w.current=S,v(R,c),x.current=k,b.current=L;return}}x.current={x:0,y:0},b.current={x:0,y:0},h()},[t,R,r,h,s,c,JSON.stringify(m),JSON.stringify(p),v,u,y,f,JSON.stringify(g)])}const xd={x:{[Ne.Backward]:!1,[Ne.Forward]:!1},y:{[Ne.Backward]:!1,[Ne.Forward]:!1}};function wd(e){let{delta:t,disabled:n}=e;const r=br(t);return Hn(o=>{if(n||!r||!o)return xd;const s={x:Math.sign(t.x-r.x),y:Math.sign(t.y-r.y)};return{x:{[Ne.Backward]:o.x[Ne.Backward]||s.x===-1,[Ne.Forward]:o.x[Ne.Forward]||s.x===1},y:{[Ne.Backward]:o.y[Ne.Backward]||s.y===-1,[Ne.Forward]:o.y[Ne.Forward]||s.y===1}}},[n,t,r])}function Rd(e,t){const n=t!=null?e.get(t):void 0,r=n?n.node.current:null;return Hn(o=>{var s;return t==null?null:(s=r??o)!=null?s:null},[r,t])}function Ed(e,t){return l.useMemo(()=>e.reduce((n,r)=>{const{sensor:o}=r,s=o.activators.map(c=>({eventName:c.eventName,handler:t(c.handler,r)}));return[...n,...s]},[]),[e,t])}var Mn;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(Mn||(Mn={}));var lo;(function(e){e.Optimized="optimized"})(lo||(lo={}));const Ds=new Map;function Cd(e,t){let{dragging:n,dependencies:r,config:o}=t;const[s,c]=l.useState(null),{frequency:i,measure:a,strategy:u}=o,f=l.useRef(e),d=x(),g=kn(d),p=l.useCallback(function(b){b===void 0&&(b=[]),!g.current&&c(m=>m===null?b:m.concat(b.filter(w=>!m.includes(w))))},[g]),v=l.useRef(null),h=Hn(b=>{if(d&&!n)return Ds;if(!b||b===Ds||f.current!==e||s!=null){const m=new Map;for(let w of e){if(!w)continue;if(s&&s.length>0&&!s.includes(w.id)&&w.rect.current){m.set(w.id,w.rect.current);continue}const R=w.node.current,y=R?new _o(a(R),R):null;w.rect.current=y,y&&m.set(w.id,y)}return m}return b},[e,s,n,d,a]);return l.useEffect(()=>{f.current=e},[e]),l.useEffect(()=>{d||p()},[n,d]),l.useEffect(()=>{s&&s.length>0&&c(null)},[JSON.stringify(s)]),l.useEffect(()=>{d||typeof i!="number"||v.current!==null||(v.current=setTimeout(()=>{p(),v.current=null},i))},[i,d,p,...r]),{droppableRects:h,measureDroppableContainers:p,measuringScheduled:s!=null};function x(){switch(u){case Mn.Always:return!1;case Mn.BeforeDragging:return n;default:return!n}}}function Vo(e,t){return Hn(n=>e?n||(typeof t=="function"?t(e):e):null,[t,e])}function Sd(e,t){return Vo(e,t)}function Td(e){let{callback:t,disabled:n}=e;const r=Ar(t),o=l.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:s}=window;return new s(r)},[r,n]);return l.useEffect(()=>()=>o?.disconnect(),[o]),o}function Fr(e){let{callback:t,disabled:n}=e;const r=Ar(t),o=l.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:s}=window;return new s(r)},[n]);return l.useEffect(()=>()=>o?.disconnect(),[o]),o}function Od(e){return new _o(pn(e),e)}function As(e,t,n){t===void 0&&(t=Od);const[r,o]=l.useState(null);function s(){o(a=>{if(!e)return null;if(e.isConnected===!1){var u;return(u=a??n)!=null?u:null}const f=t(e);return JSON.stringify(a)===JSON.stringify(f)?a:f})}const c=Td({callback(a){if(e)for(const u of a){const{type:f,target:d}=u;if(f==="childList"&&d instanceof HTMLElement&&d.contains(e)){s();break}}}}),i=Fr({callback:s});return vt(()=>{s(),e?(i?.observe(e),c?.observe(document.body,{childList:!0,subtree:!0})):(i?.disconnect(),c?.disconnect())},[e]),r}function kd(e){const t=Vo(e);return Yi(e,t)}const Ls=[];function Id(e){const t=l.useRef(e),n=Hn(r=>e?r&&r!==Ls&&e&&t.current&&e.parentNode===t.current.parentNode?r:Nr(e):Ls,[e]);return l.useEffect(()=>{t.current=e},[e]),n}function Md(e){const[t,n]=l.useState(null),r=l.useRef(e),o=l.useCallback(s=>{const c=qr(s.target);c&&n(i=>i?(i.set(c,co(c)),new Map(i)):null)},[]);return l.useEffect(()=>{const s=r.current;if(e!==s){c(s);const i=e.map(a=>{const u=qr(a);return u?(u.addEventListener("scroll",o,{passive:!0}),[u,co(u)]):null}).filter(a=>a!=null);n(i.length?new Map(i):null),r.current=e}return()=>{c(e),c(s)};function c(i){i.forEach(a=>{const u=qr(a);u?.removeEventListener("scroll",o)})}},[o,e]),l.useMemo(()=>e.length?t?Array.from(t.values()).reduce((s,c)=>cn(s,c),yt):Zi(e):yt,[e,t])}function Ns(e,t){t===void 0&&(t=[]);const n=l.useRef(null);return l.useEffect(()=>{n.current=null},t),l.useEffect(()=>{const r=e!==yt;r&&!n.current&&(n.current=e),!r&&n.current&&(n.current=null)},[e]),n.current?In(e,n.current):yt}function Pd(e){l.useEffect(()=>{if(!Dr)return;const t=e.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of t)n?.()}},e.map(t=>{let{sensor:n}=t;return n}))}function Dd(e,t){return l.useMemo(()=>e.reduce((n,r)=>{let{eventName:o,handler:s}=r;return n[o]=c=>{s(c,t)},n},{}),[e,t])}function nc(e){return l.useMemo(()=>e?rd(e):null,[e])}const Fs=[];function Ad(e,t){t===void 0&&(t=pn);const[n]=e,r=nc(n?Ge(n):null),[o,s]=l.useState(Fs);function c(){s(()=>e.length?e.map(a=>Ji(a)?r:new _o(t(a),a)):Fs)}const i=Fr({callback:c});return vt(()=>{i?.disconnect(),c(),e.forEach(a=>i?.observe(a))},[e]),o}function rc(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return zn(t)?t:e}function Ld(e){let{measure:t}=e;const[n,r]=l.useState(null),o=l.useCallback(u=>{for(const{target:f}of u)if(zn(f)){r(d=>{const g=t(f);return d?{...d,width:g.width,height:g.height}:g});break}},[t]),s=Fr({callback:o}),c=l.useCallback(u=>{const f=rc(u);s?.disconnect(),f&&s?.observe(f),r(f?t(f):null)},[t,s]),[i,a]=yr(c);return l.useMemo(()=>({nodeRef:i,rect:n,setRef:a}),[n,i,a])}const Nd=[{sensor:Ho,options:{}},{sensor:Bo,options:{}}],Fd={current:{}},cr={draggable:{measure:ks},droppable:{measure:ks,strategy:Mn.WhileDragging,frequency:lo.Optimized},dragOverlay:{measure:pn}};class Cn extends Map{get(t){var n;return t!=null&&(n=super.get(t))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:n}=t;return!n})}getNodeFor(t){var n,r;return(n=(r=this.get(t))==null?void 0:r.node.current)!=null?n:void 0}}const jd={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Cn,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:wr},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:cr,measureDroppableContainers:wr,windowRect:null,measuringScheduled:!1},oc={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:wr,draggableNodes:new Map,over:null,measureDroppableContainers:wr},Wn=l.createContext(oc),sc=l.createContext(jd);function $d(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Cn}}}function _d(e,t){switch(t.type){case Le.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case Le.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case Le.DragEnd:case Le.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Le.RegisterDroppable:{const{element:n}=t,{id:r}=n,o=new Cn(e.droppable.containers);return o.set(r,n),{...e,droppable:{...e.droppable,containers:o}}}case Le.SetDroppableDisabled:{const{id:n,key:r,disabled:o}=t,s=e.droppable.containers.get(n);if(!s||r!==s.key)return e;const c=new Cn(e.droppable.containers);return c.set(n,{...s,disabled:o}),{...e,droppable:{...e.droppable,containers:c}}}case Le.UnregisterDroppable:{const{id:n,key:r}=t,o=e.droppable.containers.get(n);if(!o||r!==o.key)return e;const s=new Cn(e.droppable.containers);return s.delete(n),{...e,droppable:{...e.droppable,containers:s}}}default:return e}}function Bd(e){let{disabled:t}=e;const{active:n,activatorEvent:r,draggableNodes:o}=l.useContext(Wn),s=br(r),c=br(n?.id);return l.useEffect(()=>{if(!t&&!r&&s&&c!=null){if(!Lr(s)||document.activeElement===s.target)return;const i=o.get(c);if(!i)return;const{activatorNode:a,node:u}=i;if(!a.current&&!u.current)return;requestAnimationFrame(()=>{for(const f of[a.current,u.current]){if(!f)continue;const d=Nu(f);if(d){d.focus();break}}})}},[r,t,o,c,s]),null}function ic(e,t){let{transform:n,...r}=t;return e!=null&&e.length?e.reduce((o,s)=>s({transform:o,...r}),n):n}function zd(e){return l.useMemo(()=>({draggable:{...cr.draggable,...e?.draggable},droppable:{...cr.droppable,...e?.droppable},dragOverlay:{...cr.dragOverlay,...e?.dragOverlay}}),[e?.draggable,e?.droppable,e?.dragOverlay])}function Hd(e){let{activeNode:t,measure:n,initialRect:r,config:o=!0}=e;const s=l.useRef(!1),{x:c,y:i}=typeof o=="boolean"?{x:o,y:o}:o;vt(()=>{if(!c&&!i||!t){s.current=!1;return}if(s.current||!r)return;const u=t?.node.current;if(!u||u.isConnected===!1)return;const f=n(u),d=Yi(f,r);if(c||(d.x=0),i||(d.y=0),s.current=!0,Math.abs(d.x)>0||Math.abs(d.y)>0){const g=Xi(u);g&&g.scrollBy({top:d.y,left:d.x})}},[t,c,i,r,n])}const jr=l.createContext({...yt,scaleX:1,scaleY:1});var Lt;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(Lt||(Lt={}));const Vd=l.memo(function(t){var n,r,o,s;let{id:c,accessibility:i,autoScroll:a=!0,children:u,sensors:f=Nd,collisionDetection:d=Ju,measuring:g,modifiers:p,...v}=t;const h=l.useReducer(_d,void 0,$d),[x,b]=h,[m,w]=zu(),[R,y]=l.useState(Lt.Uninitialized),S=R===Lt.Initialized,{draggable:{active:E,nodes:O,translate:L},droppable:{containers:k}}=x,M=E!=null?O.get(E):null,D=l.useRef({initial:null,translated:null}),T=l.useMemo(()=>{var Re;return E!=null?{id:E,data:(Re=M?.data)!=null?Re:Fd,rect:D}:null},[E,M]),N=l.useRef(null),[A,$]=l.useState(null),[F,I]=l.useState(null),_=kn(v,Object.values(v)),j=Vn("DndDescribedBy",c),U=l.useMemo(()=>k.getEnabled(),[k]),K=zd(g),{droppableRects:z,measureDroppableContainers:Y,measuringScheduled:ce}=Cd(U,{dragging:S,dependencies:[L.x,L.y],config:K.droppable}),G=Rd(O,E),te=l.useMemo(()=>F?xr(F):null,[F]),de=lt(),le=Sd(G,K.draggable.measure);Hd({activeNode:E!=null?O.get(E):null,config:de.layoutShiftCompensation,initialRect:le,measure:K.draggable.measure});const X=As(G,K.draggable.measure,le),ue=As(G?G.parentElement:null),P=l.useRef({activatorEvent:null,active:null,activeNode:G,collisionRect:null,collisions:null,droppableRects:z,draggableNodes:O,draggingNode:null,draggingNodeRect:null,droppableContainers:k,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Q=k.getNodeFor((n=P.current.over)==null?void 0:n.id),V=Ld({measure:K.dragOverlay.measure}),ge=(r=V.nodeRef.current)!=null?r:G,B=S?(o=V.rect)!=null?o:X:null,H=!!(V.nodeRef.current&&V.rect),q=kd(H?null:X),oe=nc(ge?Ge(ge):null),ae=Id(S?Q??G:null),Z=Ad(ae),ee=ic(p,{transform:{x:L.x-q.x,y:L.y-q.y,scaleX:1,scaleY:1},activatorEvent:F,active:T,activeNodeRect:X,containerNodeRect:ue,draggingNodeRect:B,over:P.current.over,overlayNodeRect:V.rect,scrollableAncestors:ae,scrollableAncestorRects:Z,windowRect:oe}),W=te?cn(te,L):null,se=Md(ae),J=Ns(se),ve=Ns(se,[X]),ye=cn(ee,J),xe=B?ed(B,ee):null,we=T&&xe?d({active:T,collisionRect:xe,droppableRects:z,droppableContainers:U,pointerCoordinates:W}):null,Ae=Ui(we,"id"),[Ce,_e]=l.useState(null),Qe=H?ee:cn(ee,ve),fe=Qu(Qe,(s=Ce?.rect)!=null?s:null,X),be=l.useRef(null),Ie=l.useCallback((Re,Me)=>{let{sensor:je,options:ut}=Me;if(N.current==null)return;const qe=O.get(N.current);if(!qe)return;const Ye=Re.nativeEvent,rt=new je({active:N.current,activeNode:qe,event:Ye,options:ut,context:P,onAbort(Pe){if(!O.get(Pe))return;const{onDragAbort:ot}=_.current,ft={id:Pe};ot?.(ft),m({type:"onDragAbort",event:ft})},onPending(Pe,dt,ot,ft){if(!O.get(Pe))return;const{onDragPending:Xt}=_.current,xt={id:Pe,constraint:dt,initialCoordinates:ot,offset:ft};Xt?.(xt),m({type:"onDragPending",event:xt})},onStart(Pe){const dt=N.current;if(dt==null)return;const ot=O.get(dt);if(!ot)return;const{onDragStart:ft}=_.current,gt={activatorEvent:Ye,active:{id:dt,data:ot.data,rect:D}};et.unstable_batchedUpdates(()=>{ft?.(gt),y(Lt.Initializing),b({type:Le.DragStart,initialCoordinates:Pe,active:dt}),m({type:"onDragStart",event:gt}),$(be.current),I(Ye)})},onMove(Pe){b({type:Le.DragMove,coordinates:Pe})},onEnd:Pt(Le.DragEnd),onCancel:Pt(Le.DragCancel)});be.current=rt;function Pt(Pe){return async function(){const{active:ot,collisions:ft,over:gt,scrollAdjustedTranslate:Xt}=P.current;let xt=null;if(ot&&Xt){const{cancelDrop:Gt}=_.current;xt={activatorEvent:Ye,active:ot,collisions:ft,delta:Xt,over:gt},Pe===Le.DragEnd&&typeof Gt=="function"&&await Promise.resolve(Gt(xt))&&(Pe=Le.DragCancel)}N.current=null,et.unstable_batchedUpdates(()=>{b({type:Pe}),y(Lt.Uninitialized),_e(null),$(null),I(null),be.current=null;const Gt=Pe===Le.DragEnd?"onDragEnd":"onDragCancel";if(xt){const _r=_.current[Gt];_r?.(xt),m({type:Gt,event:xt})}})}}},[O]),Se=l.useCallback((Re,Me)=>(je,ut)=>{const qe=je.nativeEvent,Ye=O.get(ut);if(N.current!==null||!Ye||qe.dndKit||qe.defaultPrevented)return;const rt={active:Ye};Re(je,Me.options,rt)===!0&&(qe.dndKit={capturedBy:Me.sensor},N.current=ut,Ie(je,Me))},[O,Ie]),ke=Ed(f,Se);Pd(f),vt(()=>{X&&R===Lt.Initializing&&y(Lt.Initialized)},[X,R]),l.useEffect(()=>{const{onDragMove:Re}=_.current,{active:Me,activatorEvent:je,collisions:ut,over:qe}=P.current;if(!Me||!je)return;const Ye={active:Me,activatorEvent:je,collisions:ut,delta:{x:ye.x,y:ye.y},over:qe};et.unstable_batchedUpdates(()=>{Re?.(Ye),m({type:"onDragMove",event:Ye})})},[ye.x,ye.y]),l.useEffect(()=>{const{active:Re,activatorEvent:Me,collisions:je,droppableContainers:ut,scrollAdjustedTranslate:qe}=P.current;if(!Re||N.current==null||!Me||!qe)return;const{onDragOver:Ye}=_.current,rt=ut.get(Ae),Pt=rt&&rt.rect.current?{id:rt.id,rect:rt.rect.current,data:rt.data,disabled:rt.disabled}:null,Pe={active:Re,activatorEvent:Me,collisions:je,delta:{x:qe.x,y:qe.y},over:Pt};et.unstable_batchedUpdates(()=>{_e(Pt),Ye?.(Pe),m({type:"onDragOver",event:Pe})})},[Ae]),vt(()=>{P.current={activatorEvent:F,active:T,activeNode:G,collisionRect:xe,collisions:we,droppableRects:z,draggableNodes:O,draggingNode:ge,draggingNodeRect:B,droppableContainers:k,over:Ce,scrollableAncestors:ae,scrollAdjustedTranslate:ye},D.current={initial:B,translated:xe}},[T,G,we,xe,O,ge,B,z,k,Ce,ae,ye]),bd({...de,delta:L,draggingRect:xe,pointerCoordinates:W,scrollableAncestors:ae,scrollableAncestorRects:Z});const Ue=l.useMemo(()=>({active:T,activeNode:G,activeNodeRect:X,activatorEvent:F,collisions:we,containerNodeRect:ue,dragOverlay:V,draggableNodes:O,droppableContainers:k,droppableRects:z,over:Ce,measureDroppableContainers:Y,scrollableAncestors:ae,scrollableAncestorRects:Z,measuringConfiguration:K,measuringScheduled:ce,windowRect:oe}),[T,G,X,F,we,ue,V,O,k,z,Ce,Y,ae,Z,K,ce,oe]),Be=l.useMemo(()=>({activatorEvent:F,activators:ke,active:T,activeNodeRect:X,ariaDescribedById:{draggable:j},dispatch:b,draggableNodes:O,over:Ce,measureDroppableContainers:Y}),[F,ke,T,X,b,j,O,Ce,Y]);return Te.createElement(Hi.Provider,{value:w},Te.createElement(Wn.Provider,{value:Be},Te.createElement(sc.Provider,{value:Ue},Te.createElement(jr.Provider,{value:fe},u)),Te.createElement(Bd,{disabled:i?.restoreFocus===!1})),Te.createElement(Wu,{...i,hiddenTextDescribedById:j}));function lt(){const Re=A?.autoScrollEnabled===!1,Me=typeof a=="object"?a.enabled===!1:a===!1,je=S&&!Re&&!Me;return typeof a=="object"?{...a,enabled:je}:{enabled:je}}}),Wd=l.createContext(null),js="button",Ud="Draggable";function Yd(e){let{id:t,data:n,disabled:r=!1,attributes:o}=e;const s=Vn(Ud),{activators:c,activatorEvent:i,active:a,activeNodeRect:u,ariaDescribedById:f,draggableNodes:d,over:g}=l.useContext(Wn),{role:p=js,roleDescription:v="draggable",tabIndex:h=0}=o??{},x=a?.id===t,b=l.useContext(x?jr:Wd),[m,w]=yr(),[R,y]=yr(),S=Dd(c,t),E=kn(n);vt(()=>(d.set(t,{id:t,key:s,node:m,activatorNode:R,data:E}),()=>{const L=d.get(t);L&&L.key===s&&d.delete(t)}),[d,t]);const O=l.useMemo(()=>({role:p,tabIndex:h,"aria-disabled":r,"aria-pressed":x&&p===js?!0:void 0,"aria-roledescription":v,"aria-describedby":f.draggable}),[r,p,h,x,v,f.draggable]);return{active:a,activatorEvent:i,activeNodeRect:u,attributes:O,isDragging:x,listeners:r?void 0:S,node:m,over:g,setNodeRef:w,setActivatorNodeRef:y,transform:b}}function Wo(){return l.useContext(sc)}const Kd="Droppable",Xd={timeout:25};function Gd(e){let{data:t,disabled:n=!1,id:r,resizeObserverConfig:o}=e;const s=Vn(Kd),{active:c,dispatch:i,over:a,measureDroppableContainers:u}=l.useContext(Wn),f=l.useRef({disabled:n}),d=l.useRef(!1),g=l.useRef(null),p=l.useRef(null),{disabled:v,updateMeasurementsFor:h,timeout:x}={...Xd,...o},b=kn(h??r),m=l.useCallback(()=>{if(!d.current){d.current=!0;return}p.current!=null&&clearTimeout(p.current),p.current=setTimeout(()=>{u(Array.isArray(b.current)?b.current:[b.current]),p.current=null},x)},[x]),w=Fr({callback:m,disabled:v||!c}),R=l.useCallback((O,L)=>{w&&(L&&(w.unobserve(L),d.current=!1),O&&w.observe(O))},[w]),[y,S]=yr(R),E=kn(t);return l.useEffect(()=>{!w||!y.current||(w.disconnect(),d.current=!1,w.observe(y.current))},[y,w]),l.useEffect(()=>(i({type:Le.RegisterDroppable,element:{id:r,key:s,disabled:n,node:y,rect:g,data:E}}),()=>i({type:Le.UnregisterDroppable,key:s,id:r})),[r]),l.useEffect(()=>{n!==f.current.disabled&&(i({type:Le.SetDroppableDisabled,id:r,key:s,disabled:n}),f.current.disabled=n)},[r,s,n,i]),{active:c,rect:g,isOver:a?.id===r,node:y,over:a,setNodeRef:S}}function qd(e){let{animation:t,children:n}=e;const[r,o]=l.useState(null),[s,c]=l.useState(null),i=br(n);return!n&&!r&&i&&o(i),vt(()=>{if(!s)return;const a=r?.key,u=r?.props.id;if(a==null||u==null){o(null);return}Promise.resolve(t(u,s)).then(()=>{o(null)})},[t,r,s]),Te.createElement(Te.Fragment,null,n,r?l.cloneElement(r,{ref:c}):null)}const Jd={x:0,y:0,scaleX:1,scaleY:1};function Qd(e){let{children:t}=e;return Te.createElement(Wn.Provider,{value:oc},Te.createElement(jr.Provider,{value:Jd},t))}const Zd={position:"fixed",touchAction:"none"},ef=e=>Lr(e)?"transform 250ms ease":void 0,tf=l.forwardRef((e,t)=>{let{as:n,activatorEvent:r,adjustScale:o,children:s,className:c,rect:i,style:a,transform:u,transition:f=ef}=e;if(!i)return null;const d=o?u:{...u,scaleX:1,scaleY:1},g={...Zd,width:i.width,height:i.height,top:i.top,left:i.left,transform:It.Transform.toString(d),transformOrigin:o&&r?Yu(r,i):void 0,transition:typeof f=="function"?f(r):f,...a};return Te.createElement(n,{className:c,style:g,ref:t},s)}),nf=e=>t=>{let{active:n,dragOverlay:r}=t;const o={},{styles:s,className:c}=e;if(s!=null&&s.active)for(const[i,a]of Object.entries(s.active))a!==void 0&&(o[i]=n.node.style.getPropertyValue(i),n.node.style.setProperty(i,a));if(s!=null&&s.dragOverlay)for(const[i,a]of Object.entries(s.dragOverlay))a!==void 0&&r.node.style.setProperty(i,a);return c!=null&&c.active&&n.node.classList.add(c.active),c!=null&&c.dragOverlay&&r.node.classList.add(c.dragOverlay),function(){for(const[a,u]of Object.entries(o))n.node.style.setProperty(a,u);c!=null&&c.active&&n.node.classList.remove(c.active)}},rf=e=>{let{transform:{initial:t,final:n}}=e;return[{transform:It.Transform.toString(t)},{transform:It.Transform.toString(n)}]},of={duration:250,easing:"ease",keyframes:rf,sideEffects:nf({styles:{active:{opacity:"0"}}})};function sf(e){let{config:t,draggableNodes:n,droppableContainers:r,measuringConfiguration:o}=e;return Ar((s,c)=>{if(t===null)return;const i=n.get(s);if(!i)return;const a=i.node.current;if(!a)return;const u=rc(c);if(!u)return;const{transform:f}=Ge(c).getComputedStyle(c),d=Ki(f);if(!d)return;const g=typeof t=="function"?t:cf(t);return ec(a,o.draggable.measure),g({active:{id:s,data:i.data,node:a,rect:o.draggable.measure(a)},draggableNodes:n,dragOverlay:{node:c,rect:o.dragOverlay.measure(u)},droppableContainers:r,measuringConfiguration:o,transform:d})})}function cf(e){const{duration:t,easing:n,sideEffects:r,keyframes:o}={...of,...e};return s=>{let{active:c,dragOverlay:i,transform:a,...u}=s;if(!t)return;const f={x:i.rect.left-c.rect.left,y:i.rect.top-c.rect.top},d={scaleX:a.scaleX!==1?c.rect.width*a.scaleX/i.rect.width:1,scaleY:a.scaleY!==1?c.rect.height*a.scaleY/i.rect.height:1},g={x:a.x-f.x,y:a.y-f.y,...d},p=o({...u,active:c,dragOverlay:i,transform:{initial:a,final:g}}),[v]=p,h=p[p.length-1];if(JSON.stringify(v)===JSON.stringify(h))return;const x=r?.({active:c,dragOverlay:i,...u}),b=i.node.animate(p,{duration:t,easing:n,fill:"forwards"});return new Promise(m=>{b.onfinish=()=>{x?.(),m()}})}}let $s=0;function af(e){return l.useMemo(()=>{if(e!=null)return $s++,$s},[e])}const lf=Te.memo(e=>{let{adjustScale:t=!1,children:n,dropAnimation:r,style:o,transition:s,modifiers:c,wrapperElement:i="div",className:a,zIndex:u=999}=e;const{activatorEvent:f,active:d,activeNodeRect:g,containerNodeRect:p,draggableNodes:v,droppableContainers:h,dragOverlay:x,over:b,measuringConfiguration:m,scrollableAncestors:w,scrollableAncestorRects:R,windowRect:y}=Wo(),S=l.useContext(jr),E=af(d?.id),O=ic(c,{activatorEvent:f,active:d,activeNodeRect:g,containerNodeRect:p,draggingNodeRect:x.rect,over:b,overlayNodeRect:x.rect,scrollableAncestors:w,scrollableAncestorRects:R,transform:S,windowRect:y}),L=Vo(g),k=sf({config:r,draggableNodes:v,droppableContainers:h,measuringConfiguration:m}),M=L?x.setRef:void 0;return Te.createElement(Qd,null,Te.createElement(qd,{animation:k},d&&E?Te.createElement(tf,{key:E,id:d.id,ref:M,as:i,activatorEvent:f,adjustScale:t,className:a,transition:s,rect:L,style:{zIndex:u,...o},transform:O},n):null))});function Uo(e,t,n){const r=e.slice();return r.splice(n<0?r.length+n:n,0,r.splice(t,1)[0]),r}function uf(e,t){return e.reduce((n,r,o)=>{const s=t.get(r);return s&&(n[o]=s),n},Array(e.length))}function Jn(e){return e!==null&&e>=0}function df(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function ff(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const Yo=e=>{let{rects:t,activeIndex:n,overIndex:r,index:o}=e;const s=Uo(t,r,n),c=t[o],i=s[o];return!i||!c?null:{x:i.left-c.left,y:i.top-c.top,scaleX:i.width/c.width,scaleY:i.height/c.height}},Qn={scaleX:1,scaleY:1},gf=e=>{var t;let{activeIndex:n,activeNodeRect:r,index:o,rects:s,overIndex:c}=e;const i=(t=s[n])!=null?t:r;if(!i)return null;if(o===n){const u=s[c];return u?{x:0,y:n<c?u.top+u.height-(i.top+i.height):u.top-i.top,...Qn}:null}const a=pf(s,o,n);return o>n&&o<=c?{x:0,y:-i.height-a,...Qn}:o<n&&o>=c?{x:0,y:i.height+a,...Qn}:{x:0,y:0,...Qn}};function pf(e,t,n){const r=e[t],o=e[t-1],s=e[t+1];return r?n<t?o?r.top-(o.top+o.height):s?s.top-(r.top+r.height):0:s?s.top-(r.top+r.height):o?r.top-(o.top+o.height):0:0}const cc="Sortable",ac=Te.createContext({activeIndex:-1,containerId:cc,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:Yo,disabled:{draggable:!1,droppable:!1}});function lc(e){let{children:t,id:n,items:r,strategy:o=Yo,disabled:s=!1}=e;const{active:c,dragOverlay:i,droppableRects:a,over:u,measureDroppableContainers:f}=Wo(),d=Vn(cc,n),g=i.rect!==null,p=l.useMemo(()=>r.map(S=>typeof S=="object"&&"id"in S?S.id:S),[r]),v=c!=null,h=c?p.indexOf(c.id):-1,x=u?p.indexOf(u.id):-1,b=l.useRef(p),m=!df(p,b.current),w=x!==-1&&h===-1||m,R=ff(s);vt(()=>{m&&v&&f(p)},[m,p,v,f]),l.useEffect(()=>{b.current=p},[p]);const y=l.useMemo(()=>({activeIndex:h,containerId:d,disabled:R,disableTransforms:w,items:p,overIndex:x,useDragOverlay:g,sortedRects:uf(p,a),strategy:o}),[h,d,R.draggable,R.droppable,w,p,x,a,g,o]);return Te.createElement(ac.Provider,{value:y},t)}const hf=e=>{let{id:t,items:n,activeIndex:r,overIndex:o}=e;return Uo(n,r,o).indexOf(t)},mf=e=>{let{containerId:t,isSorting:n,wasDragging:r,index:o,items:s,newIndex:c,previousItems:i,previousContainerId:a,transition:u}=e;return!u||!r||i!==s&&o===c?!1:n?!0:c!==o&&t===a},vf={duration:200,easing:"ease"},uc="transform",yf=It.Transition.toString({property:uc,duration:0,easing:"linear"}),bf={roleDescription:"sortable"};function xf(e){let{disabled:t,index:n,node:r,rect:o}=e;const[s,c]=l.useState(null),i=l.useRef(n);return vt(()=>{if(!t&&n!==i.current&&r.current){const a=o.current;if(a){const u=pn(r.current,{ignoreTransform:!0}),f={x:a.left-u.left,y:a.top-u.top,scaleX:a.width/u.width,scaleY:a.height/u.height};(f.x||f.y)&&c(f)}}n!==i.current&&(i.current=n)},[t,n,r,o]),l.useEffect(()=>{s&&c(null)},[s]),s}function dc(e){let{animateLayoutChanges:t=mf,attributes:n,disabled:r,data:o,getNewIndex:s=hf,id:c,strategy:i,resizeObserverConfig:a,transition:u=vf}=e;const{items:f,containerId:d,activeIndex:g,disabled:p,disableTransforms:v,sortedRects:h,overIndex:x,useDragOverlay:b,strategy:m}=l.useContext(ac),w=wf(r,p),R=f.indexOf(c),y=l.useMemo(()=>({sortable:{containerId:d,index:R,items:f},...o}),[d,o,R,f]),S=l.useMemo(()=>f.slice(f.indexOf(c)),[f,c]),{rect:E,node:O,isOver:L,setNodeRef:k}=Gd({id:c,data:y,disabled:w.droppable,resizeObserverConfig:{updateMeasurementsFor:S,...a}}),{active:M,activatorEvent:D,activeNodeRect:T,attributes:N,setNodeRef:A,listeners:$,isDragging:F,over:I,setActivatorNodeRef:_,transform:j}=Yd({id:c,data:y,attributes:{...bf,...n},disabled:w.draggable}),U=Pu(k,A),K=!!M,z=K&&!v&&Jn(g)&&Jn(x),Y=!b&&F,ce=Y&&z?j:null,te=z?ce??(i??m)({rects:h,activeNodeRect:T,activeIndex:g,overIndex:x,index:R}):null,de=Jn(g)&&Jn(x)?s({id:c,items:f,activeIndex:g,overIndex:x}):R,le=M?.id,X=l.useRef({activeId:le,items:f,newIndex:de,containerId:d}),ue=f!==X.current.items,P=t({active:M,containerId:d,isDragging:F,isSorting:K,id:c,index:R,items:f,newIndex:X.current.newIndex,previousItems:X.current.items,previousContainerId:X.current.containerId,transition:u,wasDragging:X.current.activeId!=null}),Q=xf({disabled:!P,index:R,node:O,rect:E});return l.useEffect(()=>{K&&X.current.newIndex!==de&&(X.current.newIndex=de),d!==X.current.containerId&&(X.current.containerId=d),f!==X.current.items&&(X.current.items=f)},[K,de,d,f]),l.useEffect(()=>{if(le===X.current.activeId)return;if(le&&!X.current.activeId){X.current.activeId=le;return}const ge=setTimeout(()=>{X.current.activeId=le},50);return()=>clearTimeout(ge)},[le]),{active:M,activeIndex:g,attributes:N,data:y,rect:E,index:R,newIndex:de,items:f,isOver:L,isSorting:K,isDragging:F,listeners:$,node:O,overIndex:x,over:I,setNodeRef:U,setActivatorNodeRef:_,setDroppableNodeRef:k,setDraggableNodeRef:A,transform:Q??te,transition:V()};function V(){if(Q||ue&&X.current.newIndex===R)return yf;if(!(Y&&!Lr(D)||!u)&&(K||P))return It.Transition.toString({...u,property:uc})}}function wf(e,t){var n,r;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(n=e?.draggable)!=null?n:t.draggable,droppable:(r=e?.droppable)!=null?r:t.droppable}}function Er(e){if(!e)return!1;const t=e.data.current;return!!(t&&"sortable"in t&&typeof t.sortable=="object"&&"containerId"in t.sortable&&"items"in t.sortable&&"index"in t.sortable)}const Rf=[me.Down,me.Right,me.Up,me.Left],Ef=(e,t)=>{let{context:{active:n,collisionRect:r,droppableRects:o,droppableContainers:s,over:c,scrollableAncestors:i}}=t;if(Rf.includes(e.code)){if(e.preventDefault(),!n||!r)return;const a=[];s.getEnabled().forEach(d=>{if(!d||d!=null&&d.disabled)return;const g=o.get(d.id);if(g)switch(e.code){case me.Down:r.top<g.top&&a.push(d);break;case me.Up:r.top>g.top&&a.push(d);break;case me.Left:r.left>g.left&&a.push(d);break;case me.Right:r.left<g.left&&a.push(d);break}});const u=Gu({collisionRect:r,droppableRects:o,droppableContainers:a});let f=Ui(u,"id");if(f===c?.id&&u.length>1&&(f=u[1].id),f!=null){const d=s.get(n.id),g=s.get(f),p=g?o.get(g.id):null,v=g?.node.current;if(v&&p&&d&&g){const x=Nr(v).some((S,E)=>i[E]!==S),b=fc(d,g),m=Cf(d,g),w=x||!b?{x:0,y:0}:{x:m?r.width-p.width:0,y:m?r.height-p.height:0},R={x:p.left,y:p.top};return w.x&&w.y?R:In(R,w)}}}};function fc(e,t){return!Er(e)||!Er(t)?!1:e.data.current.sortable.containerId===t.data.current.sortable.containerId}function Cf(e,t){return!Er(e)||!Er(t)||!fc(e,t)?!1:e.data.current.sortable.index<t.data.current.sortable.index}const Sf=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],Tf=Fn("ellipsis",Sf);const Of=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],gc=Fn("grip-vertical",Of);const kf=[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],If=Fn("link-2",kf);const Mf=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Pf=Fn("trash-2",Mf);const Df=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],pc=Fn("x",Df);function hc(e,t){const n={get(r,o){if(typeof o=="string"){const s=[...t,o];return hc(e,s)}else if(o===aa){if(t.length<1){const s=[e,...t].join(".");throw new Error(`API path is expected to be of the form \`${e}.childComponent.functionName\`. Found: \`${s}\``)}return"_reference/childComponent/"+t.join("/")}else return}};return new Proxy({},n)}const Af=()=>hc("components",[]),Et=la;Af();function Lf(){const e=Oe.c(7),{isAuthenticated:t}=Wt();let n;e[0]!==t?(n=t?{}:"skip",e[0]=t,e[1]=n):n=e[1];const r=ri(Et.bookmarks.listByUser,n);let o;e[2]!==r?(o=r??[],e[2]=r,e[3]=o):o=e[3];const s=o,c=t&&r===void 0;let i;return e[4]!==s||e[5]!==c?(i={categories:s,isLoading:c},e[4]=s,e[5]=c,e[6]=i):i=e[6],i}const Nf=e=>{try{return!!new URL(e)}catch{return!1}};function Ff(e){return e.replace(/^https?:\/\//,"")}let _s={},Bs={},zs="";function jf(e){if(typeof document>"u")return!1;const t=Ct(e);return tt(t).innerWidth-t.documentElement.clientWidth>0}function $f(e){if(!(typeof CSS<"u"&&CSS.supports&&CSS.supports("scrollbar-gutter","stable"))||typeof document>"u")return!1;const r=Ct(e).documentElement,o={scrollbarGutter:r.style.scrollbarGutter,overflowY:r.style.overflowY};r.style.scrollbarGutter="stable",r.style.overflowY="scroll";const s=r.offsetWidth;r.style.overflowY="hidden";const c=r.offsetWidth;return Object.assign(r.style,o),s===c}function _f(e){const t=Ct(e),n=t.documentElement,r=t.body,o=Nn(n)?n:r,s=o.style.overflow;return o.style.overflow="hidden",()=>{o.style.overflow=s}}function Bf(e){const t=Ct(e),n=t.documentElement,r=t.body,o=tt(n);let s=0,c=0,i=!1;const a=qt.create();if(ua&&(o.visualViewport?.scale??1)!==1)return()=>{};function u(){const g=o.getComputedStyle(n),p=o.getComputedStyle(r),x=(g.scrollbarGutter||"").includes("both-edges")?"stable both-edges":"stable";s=n.scrollTop,c=n.scrollLeft,_s={scrollbarGutter:n.style.scrollbarGutter,overflowY:n.style.overflowY,overflowX:n.style.overflowX},zs=n.style.scrollBehavior,Bs={position:r.style.position,height:r.style.height,width:r.style.width,boxSizing:r.style.boxSizing,overflowY:r.style.overflowY,overflowX:r.style.overflowX,scrollBehavior:r.style.scrollBehavior};const b=n.scrollHeight>n.clientHeight,m=n.scrollWidth>n.clientWidth,w=g.overflowY==="scroll"||p.overflowY==="scroll",R=g.overflowX==="scroll"||p.overflowX==="scroll",y=Math.max(0,o.innerWidth-r.clientWidth),S=Math.max(0,o.innerHeight-r.clientHeight),E=parseFloat(p.marginTop)+parseFloat(p.marginBottom),O=parseFloat(p.marginLeft)+parseFloat(p.marginRight),L=Nn(n)?n:r;if(i=$f(e),i){n.style.scrollbarGutter=x,L.style.overflowY="hidden",L.style.overflowX="hidden";return}Object.assign(n.style,{scrollbarGutter:x,overflowY:"hidden",overflowX:"hidden"}),(b||w)&&(n.style.overflowY="scroll"),(m||R)&&(n.style.overflowX="scroll"),Object.assign(r.style,{position:"relative",height:E||S?`calc(100dvh - ${E+S}px)`:"100dvh",width:O||y?`calc(100vw - ${O+y}px)`:"100vw",boxSizing:"border-box",overflow:"hidden",scrollBehavior:"unset"}),r.scrollTop=s,r.scrollLeft=c,n.setAttribute("data-base-ui-scroll-locked",""),n.style.scrollBehavior="unset"}function f(){Object.assign(n.style,_s),Object.assign(r.style,Bs),i||(n.scrollTop=s,n.scrollLeft=c,n.removeAttribute("data-base-ui-scroll-locked"),n.style.scrollBehavior=zs)}function d(){f(),a.request(u)}return u(),o.addEventListener("resize",d),()=>{a.cancel(),f(),typeof o.removeEventListener=="function"&&o.removeEventListener("resize",d)}}class zf{lockCount=0;restore=null;timeoutLock=Tn.create();timeoutUnlock=Tn.create();acquire(t){return this.lockCount+=1,this.lockCount===1&&this.restore===null&&this.timeoutLock.start(0,()=>this.lock(t)),this.release}release=()=>{this.lockCount-=1,this.lockCount===0&&this.restore&&this.timeoutUnlock.start(0,this.unlock)};unlock=()=>{this.lockCount===0&&this.restore&&(this.restore?.(),this.restore=null)};lock(t){if(this.lockCount===0||this.restore!==null)return;const r=Ct(t).documentElement,o=tt(r).getComputedStyle(r).overflowY;if(o==="hidden"||o==="clip"){this.restore=Nt;return}const s=oi||!jf(t);this.restore=s?_f(t):Bf(t)}}const Hf=new zf;function Ko(e=!0,t=null){ie(()=>{if(e)return Hf.acquire(t)},[e,t])}const mc=l.createContext(void 0);function hn(e){const t=l.useContext(mc);if(t===void 0&&!e)throw new Error(bt(47));return t}function Vf(){return{...Do(),disabled:!1,modal:!1,instantType:void 0,openMethod:null,openChangeReason:null,titleElementId:void 0,descriptionElementId:void 0,stickIfOpen:!0,nested:!1,openOnHover:!1,closeDelay:0,hasViewport:!1}}const Wf={...Ao,disabled:ne(e=>e.disabled),instantType:ne(e=>e.instantType),openMethod:ne(e=>e.openMethod),openChangeReason:ne(e=>e.openChangeReason),modal:ne(e=>e.modal),stickIfOpen:ne(e=>e.stickIfOpen),titleElementId:ne(e=>e.titleElementId),descriptionElementId:ne(e=>e.descriptionElementId),openOnHover:ne(e=>e.openOnHover),closeDelay:ne(e=>e.closeDelay),hasViewport:ne(e=>e.hasViewport)};class Xo extends Mr{constructor(t){const n={...Vf(),...t};n.open&&t?.mounted===void 0&&(n.mounted=!0),super(n,{popupRef:l.createRef(),backdropRef:l.createRef(),internalBackdropRef:l.createRef(),onOpenChange:void 0,onOpenChangeComplete:void 0,triggerFocusTargetRef:l.createRef(),beforeContentFocusGuardRef:l.createRef(),stickIfOpenTimeout:new Tn,triggerElements:new _n},Wf)}setOpen=(t,n)=>{const r=n.reason===Fe,o=n.reason===wt&&n.event.detail===0,s=!t&&(n.reason===Sr||n.reason==null);if(n.preventUnmountOnClose=()=>{this.set("preventUnmountingOnClose",!0)},this.context.onOpenChange?.(t,n),n.isCanceled)return;const c={open:t,nativeEvent:n.event,reason:n.reason,nested:this.state.nested,triggerElement:n.trigger};this.state.floatingRootContext.context.events?.emit("openchange",c);const a=()=>{const u={open:t,openChangeReason:n.reason},f=n.trigger?.id??null;(f||t)&&(u.activeTriggerId=f,u.activeTriggerElement=n.trigger??null),this.update(u)};r?(this.set("stickIfOpen",!0),this.context.stickIfOpenTimeout.start(si,()=>{this.set("stickIfOpen",!1)}),et.flushSync(a)):a(),o||s?this.set("instantType",o?"click":"dismiss"):n.reason===Vt?this.set("instantType","focus"):this.set("instantType",void 0)};static useStore(t,n){const r=Ot(()=>new Xo(n)).current,o=t??r;return da(r.disposeEffect),o}disposeEffect=()=>this.context.stickIfOpenTimeout.disposeEffect()}function Uf(e){const t=l.useRef(""),n=l.useCallback(o=>{o.defaultPrevented||(t.current=o.pointerType,e(o,o.pointerType))},[e]);return{onClick:l.useCallback(o=>{if(o.detail===0){e(o,"keyboard");return}"pointerType"in o&&e(o,o.pointerType),e(o,t.current),t.current=""},[e]),onPointerDown:n}}function Go(e){const[t,n]=l.useState(null),r=re((i,a)=>{e||n(a||(oi?"touch":""))}),o=l.useCallback(()=>{n(null)},[]),{onClick:s,onPointerDown:c}=Uf(r);return l.useMemo(()=>({openMethod:t,reset:o,triggerProps:{onClick:s,onPointerDown:c}}),[t,o,s,c])}function Hs({props:e}){const{children:t,open:n,defaultOpen:r=!1,onOpenChange:o,onOpenChangeComplete:s,modal:c=!1,handle:i,triggerId:a,defaultTriggerId:u=null}=e,f=Xo.useStore(i?.store,{open:n??r,modal:c,activeTriggerId:a!==void 0?a:u});f.useControlledProp("open",n,r),f.useControlledProp("activeTriggerId",a,u);const d=f.useState("open"),g=f.useState("positionerElement"),p=f.useState("payload"),v=f.useState("openChangeReason");f.useContextCallback("onOpenChange",o),f.useContextCallback("onOpenChangeComplete",s);const{openMethod:h,triggerProps:x,reset:b}=Go(d);Mo(f);const{forceUnmount:m}=Po(d,f,()=>{f.update({stickIfOpen:!0,openChangeReason:null}),b()});Ko(d&&c===!0&&v!==Fe&&h!=="touch",g),l.useEffect(()=>{d||f.context.stickIfOpenTimeout.clear()},[f,d]);const w=l.useCallback(A=>{const $=he(A);return $.preventUnmountOnClose=()=>{f.set("preventUnmountingOnClose",!0)},$},[f]),R=l.useCallback(()=>{f.setOpen(!1,w(vo))},[f,w]);l.useImperativeHandle(e.actionsRef,()=>({unmount:m,close:R}),[m,R]);const y=Lo({popupStore:f,onOpenChange:f.setOpen}),S=ko(y,{outsidePressEvent:{mouse:c==="trap-focus"?"sloppy":"intentional",touch:"sloppy"}}),E=No(y),{getReferenceProps:O,getFloatingProps:L,getTriggerProps:k}=Bn([S,E]),M=l.useMemo(()=>O(x),[O,x]),D=l.useMemo(()=>k(x),[k,x]),T=l.useMemo(()=>L(),[L]);f.useSyncedValues({modal:c,openMethod:h,activeTriggerProps:M,inactiveTriggerProps:D,popupProps:T,floatingRootContext:y,nested:St()!=null});const N=l.useMemo(()=>({store:f}),[f]);return C.jsx(mc.Provider,{value:N,children:typeof t=="function"?t({payload:p}):t})}function Yf(e){return hn(!0)?C.jsx(Hs,{props:e}):C.jsx(xi,{children:C.jsx(Hs,{props:e})})}const Kf=300,Xf=l.forwardRef(function(t,n){const{render:r,className:o,disabled:s=!1,nativeButton:c=!0,handle:i,payload:a,openOnHover:u=!1,delay:f=Kf,closeDelay:d=0,id:g,...p}=t,v=hn(!0),h=i?.store??v?.store;if(!h)throw new Error(bt(74));const x=$n(g),b=h.useState("isTriggerActive",x),m=h.useState("floatingRootContext"),w=h.useState("isOpenedByTrigger",x),R=l.useRef(null),{registerTrigger:y,isMountedByThisTrigger:S}=Ai(x,R,h,{payload:a,disabled:s,openOnHover:u,closeDelay:d}),E=h.useState("openChangeReason"),O=h.useState("stickIfOpen"),L=h.useState("openMethod"),k=Fi(m,{enabled:m!=null&&u&&(L!=="touch"||E!==wt),mouseOnly:!0,move:!1,handleClose:ji(),restMs:f,delay:{close:d},triggerElementRef:R,isActiveTrigger:b}),M=Ri(m,{enabled:m!=null,stickIfOpen:O}),D=Bn([M]),T=h.useState("triggerProps",S),N=l.useMemo(()=>({disabled:s,open:w}),[s,w]),{getButtonProps:A,buttonRef:$}=Or({disabled:s,native:c}),F=l.useMemo(()=>({open(K){return K&&E===wt?io.open(K):Mu.open(K)}}),[E]),I=Xe("button",t,{state:N,ref:[$,n,y,R],props:[D.getReferenceProps(),k,T,{[Qs]:"",id:x},p,A],stateAttributesMapping:F}),_=l.useRef(null),j=re(K=>{et.flushSync(()=>{h.setOpen(!1,he(Vt,K.nativeEvent,K.currentTarget))}),ii(_.current)?.focus()}),U=re(K=>{const z=h.select("positionerElement");if(z&&fr(K,z))h.context.beforeContentFocusGuardRef.current?.focus();else{et.flushSync(()=>{h.setOpen(!1,he(Vt,K.nativeEvent,K.currentTarget))});let Y=ci(h.context.triggerFocusTargetRef.current||R.current);for(;Y!==null&&pe(z,Y);){const ce=Y;if(Y=po(Y),Y===ce)break}Y?.focus()}});return b?C.jsxs(l.Fragment,{children:[C.jsx(an,{ref:_,onFocus:j}),C.jsx(l.Fragment,{children:I},x),C.jsx(an,{ref:h.context.triggerFocusTargetRef,onFocus:U})]}):C.jsx(l.Fragment,{children:I},x)}),vc=l.createContext(void 0);function Gf(){const e=l.useContext(vc);if(e===void 0)throw new Error(bt(45));return e}const qf=l.forwardRef(function(t,n){const{keepMounted:r=!1,...o}=t,{store:s}=hn();return s.useState("mounted")||r?C.jsx(vc.Provider,{value:r,children:C.jsx(yo,{ref:n,...o,renderGuards:!1})}):null}),yc=l.createContext(void 0);function bc(){const e=l.useContext(yc);if(!e)throw new Error(bt(46));return e}const qo=l.forwardRef(function(t,n){const{cutout:r,...o}=t;let s;if(r){const c=r?.getBoundingClientRect();s=`polygon(
      0% 0%,
      100% 0%,
      100% 100%,
      0% 100%,
      0% 0%,
      ${c.left}px ${c.top}px,
      ${c.left}px ${c.bottom}px,
      ${c.right}px ${c.bottom}px,
      ${c.right}px ${c.top}px,
      ${c.left}px ${c.top}px
    )`}return C.jsx("div",{ref:n,role:"presentation","data-base-ui-inert":"",...o,style:{position:"fixed",inset:0,userSelect:"none",WebkitUserSelect:"none",clipPath:s}})});function Jo(e){return e==="starting"?fa:mt}const Jf=l.forwardRef(function(t,n){const{render:r,className:o,anchor:s,positionMethod:c="absolute",side:i="bottom",align:a="center",sideOffset:u=0,alignOffset:f=0,collisionBoundary:d="clipping-ancestors",collisionPadding:g=5,arrowPadding:p=5,sticky:v=!1,disableAnchorTracking:h=!1,collisionAvoidance:x=ai,...b}=t,{store:m}=hn(),w=Gf(),R=Co(),y=m.useState("floatingRootContext"),S=m.useState("mounted"),E=m.useState("open"),O=m.useState("openChangeReason"),L=m.useState("activeTriggerElement"),k=m.useState("modal"),M=m.useState("positionerElement"),D=m.useState("instantType"),T=m.useState("transitionStatus"),N=m.useState("hasViewport"),A=l.useRef(null),$=bo(M,!1,!1),F=_i({anchor:s,floatingRootContext:y,positionMethod:c,mounted:S,side:i,sideOffset:u,align:a,alignOffset:f,arrowPadding:p,collisionBoundary:d,collisionPadding:g,sticky:v,disableAnchorTracking:h,keepMounted:w,nodeId:R,collisionAvoidance:x,adaptiveOrigin:N?Cu:void 0}),I=l.useMemo(()=>{const Y={};return E||(Y.pointerEvents="none"),{role:"presentation",hidden:!S,style:{...F.positionerStyles,...Y}}},[E,S,F.positionerStyles]),_=l.useMemo(()=>({props:I,...F}),[I,F]),j=y?.select("domReferenceElement");ie(()=>{const Y=j,ce=A.current;if(Y&&(A.current=Y),ce&&Y&&Y!==ce){m.set("instantType",void 0);const G=new AbortController;return $(()=>{m.set("instantType","trigger-change")},G.signal),()=>{G.abort()}}},[j,$,m]);const U=l.useMemo(()=>({open:E,side:_.side,align:_.align,anchorHidden:_.anchorHidden,instant:D}),[E,_.side,_.align,_.anchorHidden,D]),K=l.useCallback(Y=>{m.set("positionerElement",Y)},[m]),z=Xe("div",t,{state:U,props:[_.props,Jo(T),b],ref:[n,K],stateAttributesMapping:en});return C.jsxs(yc.Provider,{value:_,children:[S&&k===!0&&O!==Fe&&C.jsx(qo,{ref:m.context.internalBackdropRef,inert:kr(!E),cutout:L}),C.jsx(bi,{id:R,children:z})]})}),xc="ArrowUp",wc="ArrowDown",Rc="ArrowLeft",Ec="ArrowRight",Cc="Home",Sc="End",Qf=new Set([Rc,Ec]),Zf=new Set([xc,wc]),eg=new Set([...Qf,...Zf]);[...eg];const Qo=new Set([xc,wc,Rc,Ec,Cc,Sc]),tg=l.createContext(void 0);function Tc(e){return l.useContext(tg)}const ng={...en,...jn},rg=l.forwardRef(function(t,n){const{className:r,render:o,initialFocus:s,finalFocus:c,...i}=t,{store:a}=hn(),u=bc(),f=Tc()!=null,d=a.useState("open"),g=a.useState("openMethod"),p=a.useState("instantType"),v=a.useState("transitionStatus"),h=a.useState("popupProps"),x=a.useState("titleElementId"),b=a.useState("descriptionElementId"),m=a.useState("modal"),w=a.useState("mounted"),R=a.useState("openChangeReason"),y=a.useState("activeTriggerElement"),S=a.useState("floatingRootContext");Tr({open:d,ref:a.context.popupRef,onComplete(){d&&a.context.onOpenChangeComplete?.(!0)}});const E=a.useState("disabled"),O=a.useState("openOnHover"),L=a.useState("closeDelay");Ni(S,{enabled:O&&!E,closeDelay:L});function k(A){return A==="touch"?a.context.popupRef.current:!0}const M=s===void 0?k:s,D=l.useMemo(()=>({open:d,side:u.side,align:u.align,instant:p,transitionStatus:v}),[d,u.side,u.align,p,v]),T=l.useCallback(A=>{a.set("popupElement",A)},[a]),N=Xe("div",t,{state:D,ref:[n,a.context.popupRef,T],props:[h,{"aria-labelledby":x,"aria-describedby":b,onKeyDown(A){f&&Qo.has(A.key)&&A.stopPropagation()}},Jo(v),i],stateAttributesMapping:ng});return C.jsx(To,{context:S,openInteractionType:g,modal:m==="trap-focus",disabled:!w||R===Fe,initialFocus:M,returnFocus:c,restoreFocus:"popup",previousFocusableElement:De(y)?y:void 0,nextFocusableElement:a.context.triggerFocusTargetRef,beforeContentFocusGuardRef:a.context.beforeContentFocusGuardRef,children:N})});function og(e){const[t,n]=l.useState({current:e,previous:null});return e!==t.current&&n({current:e,previous:t.current}),t.previous}function Vs(e){const t=at(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const o=De(e),s=o?e.offsetWidth:n,c=o?e.offsetHeight:r;return(dn(n)!==s||dn(r)!==c)&&(n=s,r=c),{width:n,height:r}}const sg=typeof ResizeObserver<"u",ig=()=>!0;function cg(e){const{popupElement:t,positionerElement:n,content:r,mounted:o,enabled:s=ig,onMeasureLayout:c,onMeasureLayoutComplete:i,side:a,direction:u}=e,f=bo(t,!0,!1),d=Ln(),g=l.useRef(null),p=l.useRef(null),v=l.useRef(!0),h=l.useRef(Nt),x=re(c),b=re(i),m=l.useMemo(()=>{let w=a==="top",R=a==="left";return u==="rtl"?(w=w||a==="inline-end",R=R||a==="inline-end"):(w=w||a==="inline-start",R=R||a==="inline-start"),w?{position:"absolute",[a==="top"?"bottom":"top"]:"0",[R?"right":"left"]:"0"}:mt},[a,u]);ie(()=>{if(!o||!s()||!sg){h.current=Nt,v.current=!0,g.current=null,p.current=null;return}if(!t||!n)return;h.current=Ws(t,m);const w=new ResizeObserver(T=>{const N=T[0];N&&(p.current={width:Math.ceil(N.borderBoxSize[0].inlineSize),height:Math.ceil(N.borderBoxSize[0].blockSize)})});w.observe(t),Zn(t,"auto");const R=ar(t,"position","static"),y=ar(t,"transform","none"),S=ar(t,"scale","1"),E=Ws(n,{"--available-width":"max-content","--available-height":"max-content"});function O(){R(),y(),E()}function L(){O(),S()}if(x?.(),v.current||g.current===null){mn(n,"max-content");const T=Vs(t);return g.current=T,mn(n,T),L(),b?.(null,T),v.current=!1,()=>{w.disconnect(),h.current(),h.current=Nt}}Zn(t,"auto"),mn(n,"max-content");const k=g.current??p.current,M=Vs(t);if(g.current=M,!k)return mn(n,M),L(),b?.(null,M),()=>{w.disconnect(),d.cancel(),h.current(),h.current=Nt};Zn(t,k),O(),b?.(k,M),mn(n,M);const D=new AbortController;return d.request(()=>{Zn(t,M),f(()=>{t.style.setProperty("--popup-width","auto"),t.style.setProperty("--popup-height","auto")},D.signal)}),()=>{w.disconnect(),D.abort(),d.cancel(),h.current(),h.current=Nt}},[r,t,n,f,d,s,o,x,b,m])}function ar(e,t,n){const r=e.style.getPropertyValue(t);return e.style.setProperty(t,n),()=>{e.style.setProperty(t,r)}}function Ws(e,t){const n=[];for(const[r,o]of Object.entries(t))n.push(ar(e,r,o));return n.length?()=>{n.forEach(r=>r())}:Nt}function Zn(e,t){const n=t==="auto"?"auto":`${t.width}px`,r=t==="auto"?"auto":`${t.height}px`;e.style.setProperty("--popup-width",n),e.style.setProperty("--popup-height",r)}function mn(e,t){const n=t==="max-content"?"max-content":`${t.width}px`,r=t==="max-content"?"max-content":`${t.height}px`;e.style.setProperty("--positioner-width",n),e.style.setProperty("--positioner-height",r)}let Us=(function(e){return e.popupWidth="--popup-width",e.popupHeight="--popup-height",e})({});const ag={activationDirection:e=>e?{"data-activation-direction":e}:null},lg=l.forwardRef(function(t,n){const{render:r,className:o,children:s,...c}=t,{store:i}=hn(),a=bc(),u=Fo(),f=i.useState("activeTriggerElement"),d=i.useState("open"),g=i.useState("mounted"),p=i.useState("payload"),v=i.useState("popupElement"),h=i.useState("positionerElement"),x=og(d?f:null),b=l.useRef(null),[m,w]=l.useState(null),[R,y]=l.useState(null),S=l.useRef(null),E=l.useRef(null),O=bo(S,!0,!1),L=Ln(),[k,M]=l.useState(null),[D,T]=l.useState(!1);ie(()=>(i.set("hasViewport",!0),()=>{i.set("hasViewport",!1)}),[i]),ie(()=>{const j=S.current;if(!j)return;const U=document.createElement("div");for(const K of Array.from(j.childNodes))U.appendChild(K.cloneNode(!0));b.current=U});const N=re(()=>{S.current?.style.setProperty("animation","none"),S.current?.style.setProperty("transition","none"),E.current?.style.setProperty("display","none")}),A=re(j=>{S.current?.style.removeProperty("animation"),S.current?.style.removeProperty("transition"),E.current?.style.removeProperty("display"),j&&M(j)}),$=l.useRef(null);ie(()=>{if(f&&x&&f!==x&&$.current!==f&&b.current){w(b.current),T(!0);const j=dg(x,f);y(j),L.request(()=>{L.request(()=>{T(!1),O(()=>{w(null),M(null),b.current=null})})}),$.current=f}},[f,x,m,O,L]);const F=m!=null;let I;F?I=C.jsxs(l.Fragment,{children:[C.jsx("div",{"data-previous":!0,inert:kr(!0),ref:E,style:{[Us.popupWidth]:`${k?.width}px`,[Us.popupHeight]:`${k?.height}px`,position:"absolute"},"data-ending-style":D?void 0:""},"previous"),C.jsx("div",{"data-current":!0,ref:S,"data-starting-style":D?"":void 0,children:s},"current")]}):I=C.jsx("div",{"data-current":!0,ref:S,children:s},"current"),ie(()=>{const j=E.current;!j||!m||j.replaceChildren(...Array.from(m.childNodes))},[m]),cg({popupElement:v,positionerElement:h,mounted:g,content:p,onMeasureLayout:N,onMeasureLayoutComplete:A,side:a.side,direction:u});const _=l.useMemo(()=>({activationDirection:ug(R),transitioning:F}),[R,F]);return Xe("div",t,{state:_,ref:n,props:[c,{children:I}],stateAttributesMapping:ag})});function ug(e){if(e)return`${Ys(e.horizontal,5,"right","left")} ${Ys(e.vertical,5,"down","up")}`}function Ys(e,t,n,r){return e>t?n:e<-t?r:""}function dg(e,t){const n=e.getBoundingClientRect(),r=t.getBoundingClientRect(),o={x:n.left+n.width/2,y:n.top+n.height/2},s={x:r.left+r.width/2,y:r.top+r.height/2};return{horizontal:s.x-o.x,vertical:s.y-o.y}}const Oc=Yf;function kc(e){const t=Oe.c(2);let n;return t[0]!==e?(n=C.jsx(Xf,{"data-slot":"popover-trigger",...e}),t[0]=e,t[1]=n):n=t[1],n}function Ic(e){const t=Oe.c(27);let n,r,o,s,c,i,a,u;t[0]!==e?({children:n,className:r,side:s,align:c,sideOffset:i,alignOffset:a,tooltipStyle:u,...o}=e,t[0]=e,t[1]=n,t[2]=r,t[3]=o,t[4]=s,t[5]=c,t[6]=i,t[7]=a,t[8]=u):(n=t[1],r=t[2],o=t[3],s=t[4],c=t[5],i=t[6],a=t[7],u=t[8]);const f=s===void 0?"bottom":s,d=c===void 0?"center":c,g=i===void 0?4:i,p=a===void 0?0:a,v=u===void 0?!1:u,h=v&&"w-fit text-balance rounded-md text-xs shadow-md/5 before:rounded-[calc(var(--radius-md)-1px)]";let x;t[9]!==r||t[10]!==h?(x=We("relative flex h-(--popup-height,auto) w-(--popup-width,auto) origin-(--transform-origin) rounded-lg border bg-popover not-dark:bg-clip-padding text-popover-foreground shadow-lg/5 transition-[width,height,scale,opacity] before:pointer-events-none before:absolute before:inset-0 before:rounded-[calc(var(--radius-lg)-1px)] before:shadow-[0_1px_--theme(--color-black/6%)] data-starting-style:scale-98 data-starting-style:opacity-0 dark:before:shadow-[0_-1px_--theme(--color-white/6%)]",h,r),t[9]=r,t[10]=h,t[11]=x):x=t[11];const b=v?"py-1 [--viewport-inline-padding:--spacing(2)]":"not-data-transitioning:overflow-y-auto";let m;t[12]!==b?(m=We("relative size-full max-h-(--available-height) overflow-clip px-(--viewport-inline-padding) py-4 outline-none [--viewport-inline-padding:--spacing(4)] data-instant:transition-none **:data-current:data-ending-style:opacity-0 **:data-current:data-starting-style:opacity-0 **:data-previous:data-ending-style:opacity-0 **:data-previous:data-starting-style:opacity-0 **:data-current:w-[calc(var(--popup-width)-2*var(--viewport-inline-padding)-2px)] **:data-previous:w-[calc(var(--popup-width)-2*var(--viewport-inline-padding)-2px)] **:data-current:opacity-100 **:data-previous:opacity-100 **:data-current:transition-opacity **:data-previous:transition-opacity",b),t[12]=b,t[13]=m):m=t[13];let w;t[14]!==n||t[15]!==m?(w=C.jsx(lg,{className:m,"data-slot":"popover-viewport",children:n}),t[14]=n,t[15]=m,t[16]=w):w=t[16];let R;t[17]!==o||t[18]!==w||t[19]!==x?(R=C.jsx(rg,{className:x,"data-slot":"popover-popup",...o,children:w}),t[17]=o,t[18]=w,t[19]=x,t[20]=R):R=t[20];let y;return t[21]!==d||t[22]!==p||t[23]!==f||t[24]!==g||t[25]!==R?(y=C.jsx(qf,{children:C.jsx(Jf,{align:d,alignOffset:p,className:"z-50 h-(--positioner-height) w-(--positioner-width) max-w-(--available-width) transition-[top,left,right,bottom,transform] data-instant:transition-none","data-slot":"popover-positioner",side:f,sideOffset:g,children:R})}),t[21]=d,t[22]=p,t[23]=f,t[24]=g,t[25]=R,t[26]=y):y=t[26],y}const fg=(e,t)=>!e||t==="bookmark"&&!Nf(e),Ks=(e,t)=>{if(t==="bookmark"){const n=e.replace(/^(https?:\/\/)+/i,"");return n?`https://${n}`:"https://"}return e};function Mc(e){const t=Oe.c(27),{type:n,errorText:r,inputType:o,label:s,text:c,placeholder:i,id:a,onFocus:u,onBlur:f,onSuccessHandler:d,inputRef:g}=e,p=o===void 0?"text":o,[v,h]=l.useState(c||(n==="bookmark"?"https://":"")),[x,b]=l.useState(!1);let m;t[0]!==d||t[1]!==v||t[2]!==n?(m=M=>{if(M.key!=="Enter")return;const D=Ks(v,n);if(fg(D,n)){b(!0);return}d(D)},t[0]=d,t[1]=v,t[2]=n,t[3]=m):m=t[3];const w=m;let R;t[4]!==n?(R=M=>{b(!1);const D=M.target.value,T=Ks(D,n);h(T)},t[4]=n,t[5]=R):R=t[5];const y=R;let S;t[6]!==a||t[7]!==s?(S=s?C.jsx(ba,{htmlFor:a??s,children:s}):null,t[6]=a,t[7]=s,t[8]=S):S=t[8];const E=a??s;let O;t[9]!==y||t[10]!==w||t[11]!==g||t[12]!==p||t[13]!==x||t[14]!==f||t[15]!==u||t[16]!==i||t[17]!==E||t[18]!==v?(O=C.jsx(di,{ref:g,id:E,placeholder:i,type:p,value:v,onChange:y,onKeyDown:w,onFocus:u,onBlur:f,"aria-invalid":x}),t[9]=y,t[10]=w,t[11]=g,t[12]=p,t[13]=x,t[14]=f,t[15]=u,t[16]=i,t[17]=E,t[18]=v,t[19]=O):O=t[19];let L;t[20]!==r||t[21]!==x?(L=x?C.jsx(xa,{children:r}):null,t[20]=r,t[21]=x,t[22]=L):L=t[22];let k;return t[23]!==S||t[24]!==O||t[25]!==L?(k=C.jsxs(wa,{children:[S,O,L]}),t[23]=S,t[24]=O,t[25]=L,t[26]=k):k=t[26],k}function gg({categoryId:e}){const{isAuthenticated:t}=Wt(),n=zt(Et.links.create),r=l.useRef(null),[o,s]=l.useState(!1);l.useEffect(()=>{o&&r.current?.focus()},[o]);const c=async i=>{if(t)try{await n({url:i,categoryId:e}),r.current?.blur(),s(!1)}catch(a){Ft({status:"danger",title:"Error!",description:a instanceof Error?a.message:"Failed to add a new bookmark."})}};return C.jsxs(Oc,{open:o,onOpenChange:s,children:[C.jsx(kc,{render:C.jsx(Ht,{variant:"secondary",size:"xs",className:"h-6 rounded-md px-2.5 text-xs font-semibold text-slate-600 shadow-none hover:bg-slate-200",children:"New+"})}),C.jsx(Ic,{side:"top",align:"start",className:"w-80",children:C.jsx(Mc,{inputRef:r,errorText:"invalid url",type:"bookmark",placeholder:"https://www.google.com/",id:"category",inputType:"url",onSuccessHandler:c})})]})}const Pc=e=>`category:${e}`,Dc=e=>`link:${e}`;function pg(e){const t=Oe.c(18);let n;t[0]!==e.list?(n=e.list.map(hg),t[0]=e.list,t[1]=n):n=t[1];const r=n;let o;if(t[2]!==e.categoryId||t[3]!==e.isLinksEditing||t[4]!==e.list){let a;t[6]!==e.categoryId||t[7]!==e.isLinksEditing?(a=u=>C.jsx(mg,{...u,categoryId:e.categoryId,isLinksEditing:e.isLinksEditing},u._id),t[6]=e.categoryId,t[7]=e.isLinksEditing,t[8]=a):a=t[8],o=e.list.map(a),t[2]=e.categoryId,t[3]=e.isLinksEditing,t[4]=e.list,t[5]=o}else o=t[5];let s;t[9]!==e.categoryId||t[10]!==e.isLinksEditing?(s=e.isLinksEditing?null:C.jsx("li",{children:C.jsx(gg,{categoryId:e.categoryId})}),t[9]=e.categoryId,t[10]=e.isLinksEditing,t[11]=s):s=t[11];let c;t[12]!==o||t[13]!==s?(c=C.jsxs("ul",{className:"list-none flex min-h-[40px] flex-wrap items-center  gap-y-3 p-0",children:[o,s]}),t[12]=o,t[13]=s,t[14]=c):c=t[14];let i;return t[15]!==r||t[16]!==c?(i=C.jsx(lc,{items:r,strategy:Yo,children:c}),t[15]=r,t[16]=c,t[17]=i):i=t[17],i}function hg(e){return Dc(e._id)}function mg(e){const t=Oe.c(45),[n,r]=l.useState(!1),{isAuthenticated:o}=Wt(),s=zt(Et.links.remove),c=e.isLinksEditing?"h-[34px] w-[34px]":"h-6 w-6";let i;t[0]!==e._id?(i=Dc(e._id),t[0]=e._id,t[1]=i):i=t[1];const a=i,{active:u}=Wo();let f;t[2]!==e._id||t[3]!==e.categoryId?(f={type:"link",linkId:e._id,categoryId:e.categoryId},t[2]=e._id,t[3]=e.categoryId,t[4]=f):f=t[4];let d;t[5]!==a||t[6]!==f?(d={id:a,data:f},t[5]=a,t[6]=f,t[7]=d):d=t[7];const{setNodeRef:g,listeners:p,attributes:v,transform:h,transition:x,isDragging:b,isOver:m}=dc(d),R=u?.data.current?.type==="link"&&m&&u?.id!==a;let y;t[8]!==o||t[9]!==s?(y=async j=>{if(o)try{await s({linkId:j})}catch(U){console.error(U)}},t[8]=o,t[9]=s,t[10]=y):y=t[10];const S=y;let E;t[11]!==h?(E=It.Transform.toString(h),t[11]=h,t[12]=E):E=t[12];let O;t[13]!==E||t[14]!==x?(O={transform:E,transition:x},t[13]=E,t[14]=x,t[15]=O):O=t[15];const L=R&&"bg-sky-100 ring-2 ring-sky-300/50",k=b&&"opacity-30 scale-95";let M;t[16]!==L||t[17]!==k?(M=We("group relative rounded-full bg-slate-50/70 p-0.5 transition-[background-color,transform,opacity] duration-200",L,k),t[16]=L,t[17]=k,t[18]=M):M=t[18];const D=R&&"bg-sky-400/90 scale-110";let T;t[19]!==D?(T=We("pointer-events-none absolute -top-2 left-1/2 h-1 w-12 -translate-x-1/2 rounded-full bg-sky-400/0 transition-all duration-200",D),t[19]=D,t[20]=T):T=t[20];let N;t[21]!==T?(N=C.jsx("div",{className:T}),t[21]=T,t[22]=N):N=t[22];let A;t[23]!==c||t[24]!==n||t[25]!==e.url?(A=n?C.jsx("span",{className:`${c} grid place-items-center rounded-full bg-black text-[10px] text-white`,children:"404"}):C.jsx("img",{className:`${c} rounded-full object-cover`,src:`https://icon.horse/icon/${Ff(e.url)}`,onError:()=>r(!0),alt:e.url}),t[23]=c,t[24]=n,t[25]=e.url,t[26]=A):A=t[26];let $;t[27]!==e.url||t[28]!==A?($=C.jsx("a",{href:e.url,target:"_blank",rel:"noreferrer",className:"inline-flex items-center",children:A}),t[27]=e.url,t[28]=A,t[29]=$):$=t[29];let F;t[30]!==v||t[31]!==p||t[32]!==$?(F=C.jsx("div",{...p,...v,className:"flex items-center rounded-full p-1 transition hover:bg-slate-100/80 cursor-grab active:cursor-grabbing","aria-label":"Drag link",children:$}),t[30]=v,t[31]=p,t[32]=$,t[33]=F):F=t[33];let I;t[34]!==S||t[35]!==e._id||t[36]!==e.isLinksEditing?(I=e.isLinksEditing?C.jsx(Ht,{variant:"destructive",size:"icon-xs",className:"absolute -right-1 -top-1 h-4 w-4 rounded-full border-transparent p-0 text-white shadow-sm","aria-label":"Delete current link",onClick:j=>{j.stopPropagation(),j.preventDefault(),S(e._id)},children:C.jsx(pc,{size:10})}):null,t[34]=S,t[35]=e._id,t[36]=e.isLinksEditing,t[37]=I):I=t[37];let _;return t[38]!==g||t[39]!==N||t[40]!==F||t[41]!==I||t[42]!==O||t[43]!==M?(_=C.jsxs("li",{ref:g,style:O,className:M,children:[N,F,I]}),t[38]=g,t[39]=N,t[40]=F,t[41]=I,t[42]=O,t[43]=M,t[44]=_):_=t[44],_}function vg(){const e=Oe.c(12),{isAuthenticated:t}=Wt(),n=zt(Et.bookmarks.create),r=l.useRef(null),[o,s]=l.useState(!1);let c,i;e[0]!==o?(c=()=>{o&&r.current?.focus()},i=[o],e[0]=o,e[1]=c,e[2]=i):(c=e[1],i=e[2]),l.useEffect(c,i);let a;e[3]!==n||e[4]!==t?(a=async p=>{if(t)try{await n({title:p}),s(!1)}catch(v){console.error(v)}},e[3]=n,e[4]=t,e[5]=a):a=e[5];const u=a;let f;e[6]===Symbol.for("react.memo_cache_sentinel")?(f=C.jsx(kc,{render:C.jsx(Ht,{className:"border-transparent bg-[#0EA5B7] text-white shadow-sm hover:bg-[#0B8EA0]",children:"Add new category"})}),e[6]=f):f=e[6];let d;e[7]!==u?(d=C.jsx(Ic,{side:"top",align:"start",className:"w-72",children:C.jsx(Mc,{inputRef:r,placeholder:"Social",id:"category",errorText:"please enter a category",type:"category",onSuccessHandler:u})}),e[7]=u,e[8]=d):d=e[8];let g;return e[9]!==o||e[10]!==d?(g=C.jsxs(Oc,{open:o,onOpenChange:s,children:[f,d]}),e[9]=o,e[10]=d,e[11]=g):g=e[11],g}function yg(e){const{store:t,parentContext:n,actionsRef:r}=e,o=t.useState("open"),s=t.useState("disablePointerDismissal"),c=t.useState("modal"),i=t.useState("popupElement"),{openMethod:a,triggerProps:u,reset:f}=Go(o);Mo(t);const{forceUnmount:d}=Po(o,t,()=>{f()}),g=re(k=>{const M=he(k);return M.preventUnmountOnClose=()=>{t.set("preventUnmountingOnClose",!0)},M}),p=l.useCallback(()=>{t.setOpen(!1,g(vo))},[t,g]);l.useImperativeHandle(r,()=>({unmount:d,close:p}),[d,p]);const v=Lo({popupStore:t,onOpenChange:t.setOpen,treatPopupAsFloatingElement:!0,noEmit:!0}),[h,x]=l.useState(0),b=h===0,m=No(v),w=ko(v,{outsidePressEvent(){return t.context.internalBackdropRef.current||t.context.backdropRef.current?"intentional":{mouse:c==="trap-focus"?"sloppy":"intentional",touch:"sloppy"}},outsidePress(k){if("button"in k&&k.button!==0||"touches"in k&&k.touches.length!==1)return!1;const M=Ke(k);if(b&&!s){const D=M;return c&&(t.context.internalBackdropRef.current||t.context.backdropRef.current)?t.context.internalBackdropRef.current===D||t.context.backdropRef.current===D||pe(D,i)&&!D?.hasAttribute("data-base-ui-portal"):!0}return!1},escapeKey:b});Ko(o&&c===!0,i);const{getReferenceProps:R,getFloatingProps:y,getTriggerProps:S}=Bn([m,w]);t.useContextCallback("onNestedDialogOpen",k=>{x(k+1)}),t.useContextCallback("onNestedDialogClose",()=>{x(0)}),l.useEffect(()=>(n?.onNestedDialogOpen&&o&&n.onNestedDialogOpen(h),n?.onNestedDialogClose&&!o&&n.onNestedDialogClose(),()=>{n?.onNestedDialogClose&&o&&n.onNestedDialogClose()}),[o,n,h]);const E=l.useMemo(()=>R(u),[R,u]),O=l.useMemo(()=>S(u),[S,u]),L=l.useMemo(()=>y(),[y]);t.useSyncedValues({openMethod:a,activeTriggerProps:E,inactiveTriggerProps:O,popupProps:L,floatingRootContext:v,nestedOpenDialogCount:h})}const Ac=l.createContext(void 0);function Kt(e){return l.useContext(Ac)}const bg={...Ao,modal:ne(e=>e.modal),nested:ne(e=>e.nested),nestedOpenDialogCount:ne(e=>e.nestedOpenDialogCount),disablePointerDismissal:ne(e=>e.disablePointerDismissal),openMethod:ne(e=>e.openMethod),descriptionElementId:ne(e=>e.descriptionElementId),titleElementId:ne(e=>e.titleElementId),viewportElement:ne(e=>e.viewportElement),role:ne(e=>e.role)};class xg extends Mr{constructor(t){super(wg(t),{popupRef:l.createRef(),backdropRef:l.createRef(),internalBackdropRef:l.createRef(),triggerElements:new _n,onOpenChange:void 0,onOpenChangeComplete:void 0},bg)}setOpen=(t,n)=>{if(n.preventUnmountOnClose=()=>{this.set("preventUnmountingOnClose",!0)},!t&&n.trigger==null&&this.state.activeTriggerId!=null&&(n.trigger=this.state.activeTriggerElement??void 0),this.context.onOpenChange?.(t,n),n.isCanceled)return;const r={open:t,nativeEvent:n.event,reason:n.reason,nested:this.state.nested};this.state.floatingRootContext.context.events?.emit("openchange",r);const o={open:t},s=n.trigger?.id??null;(s||t)&&(o.activeTriggerId=s,o.activeTriggerElement=n.trigger??null),this.update(o)}}function wg(e={}){return{...Do(),modal:!0,disablePointerDismissal:!1,popupElement:null,viewportElement:null,descriptionElementId:void 0,titleElementId:void 0,openMethod:null,nested:!1,nestedOpenDialogCount:0,role:"dialog",...e}}function Rg(e){const{children:t,open:n,defaultOpen:r=!1,onOpenChange:o,onOpenChangeComplete:s,actionsRef:c,handle:i,triggerId:a,defaultTriggerId:u=null}=e,f=Kt(),d=!!f,g=Ot(()=>i?.store??new xg({open:n??r,activeTriggerId:a!==void 0?a:u,modal:!0,disablePointerDismissal:!0,nested:d,role:"alertdialog"})).current;g.useControlledProp("open",n,r),g.useControlledProp("activeTriggerId",a,u),g.useSyncedValue("nested",d),g.useContextCallback("onOpenChange",o),g.useContextCallback("onOpenChangeComplete",s);const p=g.useState("payload");yg({store:g,actionsRef:c,parentContext:f?.store.context});const v=l.useMemo(()=>({store:g}),[g]);return C.jsx(Ac.Provider,{value:v,children:typeof t=="function"?t({payload:p}):t})}const Eg={...en,...jn},Cg=l.forwardRef(function(t,n){const{render:r,className:o,forceRender:s=!1,...c}=t,{store:i}=Kt(),a=i.useState("open"),u=i.useState("nested"),f=i.useState("mounted"),d=i.useState("transitionStatus"),g=l.useMemo(()=>({open:a,transitionStatus:d}),[a,d]);return Xe("div",t,{state:g,ref:[i.context.backdropRef,n],stateAttributesMapping:Eg,props:[{role:"presentation",hidden:!f,style:{userSelect:"none",WebkitUserSelect:"none"}},c],enabled:s||!u})}),Sg=l.forwardRef(function(t,n){const{render:r,className:o,disabled:s=!1,nativeButton:c=!0,...i}=t,{store:a}=Kt(),u=a.useState("open");function f(v){u&&a.setOpen(!1,he(ga,v.nativeEvent))}const{getButtonProps:d,buttonRef:g}=Or({disabled:s,native:c}),p=l.useMemo(()=>({disabled:s}),[s]);return Xe("button",t,{state:p,ref:[n,g],props:[{onClick:f},i,d]})}),Tg=l.forwardRef(function(t,n){const{render:r,className:o,id:s,...c}=t,{store:i}=Kt(),a=$n(s);return i.useSyncedValueWithCleanup("descriptionElementId",a),Xe("p",t,{ref:n,props:[{id:a},c]})});let Og=(function(e){return e.nestedDialogs="--nested-dialogs",e})({}),kg=(function(e){return e[e.open=ht.open]="open",e[e.closed=ht.closed]="closed",e[e.startingStyle=ht.startingStyle]="startingStyle",e[e.endingStyle=ht.endingStyle]="endingStyle",e.nested="data-nested",e.nestedDialogOpen="data-nested-dialog-open",e})({});const Lc=l.createContext(void 0);function Nc(){const e=l.useContext(Lc);if(e===void 0)throw new Error(bt(26));return e}const Ig={...en,...jn,nestedDialogOpen(e){return e?{[kg.nestedDialogOpen]:""}:null}},Mg=l.forwardRef(function(t,n){const{className:r,finalFocus:o,initialFocus:s,render:c,...i}=t,{store:a}=Kt(),u=a.useState("descriptionElementId"),f=a.useState("disablePointerDismissal"),d=a.useState("floatingRootContext"),g=a.useState("popupProps"),p=a.useState("modal"),v=a.useState("mounted"),h=a.useState("nested"),x=a.useState("nestedOpenDialogCount"),b=a.useState("open"),m=a.useState("openMethod"),w=a.useState("titleElementId"),R=a.useState("transitionStatus"),y=a.useState("role");Nc(),Tr({open:b,ref:a.context.popupRef,onComplete(){b&&a.context.onOpenChangeComplete?.(!0)}});function S(M){return M==="touch"?a.context.popupRef.current:!0}const E=s===void 0?S:s,O=x>0,L=l.useMemo(()=>({open:b,nested:h,transitionStatus:R,nestedDialogOpen:O}),[b,h,R,O]),k=Xe("div",t,{state:L,props:[g,{"aria-labelledby":w??void 0,"aria-describedby":u??void 0,role:y,tabIndex:-1,hidden:!v,onKeyDown(M){Qo.has(M.key)&&M.stopPropagation()},style:{[Og.nestedDialogs]:x}},i],ref:[n,a.context.popupRef,a.useStateSetter("popupElement")],stateAttributesMapping:Ig});return C.jsx(To,{context:d,openInteractionType:m,disabled:!v,closeOnFocusOut:!f,initialFocus:E,returnFocus:o,modal:p!==!1,restoreFocus:"popup",children:k})}),Pg=l.forwardRef(function(t,n){const{keepMounted:r=!1,...o}=t,{store:s}=Kt(),c=s.useState("mounted"),i=s.useState("modal"),a=s.useState("open");return c||r?C.jsx(Lc.Provider,{value:r,children:C.jsxs(yo,{ref:n,...o,children:[c&&i===!0&&C.jsx(qo,{ref:s.context.internalBackdropRef,inert:kr(!a)}),t.children]})}):null}),Dg=l.forwardRef(function(t,n){const{render:r,className:o,id:s,...c}=t,{store:i}=Kt(),a=$n(s);return i.useSyncedValueWithCleanup("titleElementId",a),Xe("h2",t,{ref:n,props:[{id:a},c]})});let Xs=(function(e){return e[e.open=ht.open]="open",e[e.closed=ht.closed]="closed",e[e.startingStyle=ht.startingStyle]="startingStyle",e[e.endingStyle=ht.endingStyle]="endingStyle",e.nested="data-nested",e.nestedDialogOpen="data-nested-dialog-open",e})({});const Ag={...en,...jn,nested(e){return e?{[Xs.nested]:""}:null},nestedDialogOpen(e){return e?{[Xs.nestedDialogOpen]:""}:null}},Lg=l.forwardRef(function(t,n){const{className:r,render:o,children:s,...c}=t,i=Nc(),{store:a}=Kt(),u=a.useState("open"),f=a.useState("nested"),d=a.useState("transitionStatus"),g=a.useState("nestedOpenDialogCount"),p=a.useState("mounted"),v=g>0,h=l.useMemo(()=>({open:u,nested:f,transitionStatus:d,nestedDialogOpen:v}),[u,f,d,v]);return Xe("div",t,{enabled:i||p,state:h,ref:[n,a.useStateSetter("viewportElement")],stateAttributesMapping:Ag,props:[{role:"presentation",hidden:!p,children:s},c]})}),Ng=Rg,Fg=Pg;function jg(e){const t=Oe.c(8);let n,r;t[0]!==e?({className:n,...r}=e,t[0]=e,t[1]=n,t[2]=r):(n=t[1],r=t[2]);let o;t[3]!==n?(o=We("fixed inset-0 z-50 bg-black/32 backdrop-blur-sm transition-all duration-200 ease-out data-ending-style:opacity-0 data-starting-style:opacity-0",n),t[3]=n,t[4]=o):o=t[4];let s;return t[5]!==r||t[6]!==o?(s=C.jsx(Cg,{className:o,"data-slot":"alert-dialog-backdrop",...r}),t[5]=r,t[6]=o,t[7]=s):s=t[7],s}function $g(e){const t=Oe.c(8);let n,r;t[0]!==e?({className:n,...r}=e,t[0]=e,t[1]=n,t[2]=r):(n=t[1],r=t[2]);let o;t[3]!==n?(o=We("fixed inset-0 z-50 grid grid-rows-[1fr_auto_3fr] justify-items-center p-4",n),t[3]=n,t[4]=o):o=t[4];let s;return t[5]!==r||t[6]!==o?(s=C.jsx(Lg,{className:o,"data-slot":"alert-dialog-viewport",...r}),t[5]=r,t[6]=o,t[7]=s):s=t[7],s}function _g(e){const t=Oe.c(16);let n,r,o;t[0]!==e?({className:n,bottomStickOnMobile:o,...r}=e,t[0]=e,t[1]=n,t[2]=r,t[3]=o):(n=t[1],r=t[2],o=t[3]);const s=o===void 0?!0:o;let c;t[4]===Symbol.for("react.memo_cache_sentinel")?(c=C.jsx(jg,{}),t[4]=c):c=t[4];const i=s&&"max-sm:grid-rows-[1fr_auto] max-sm:p-0 max-sm:pt-12";let a;t[5]!==i?(a=We(i),t[5]=i,t[6]=a):a=t[6];const u=s&&"max-sm:max-w-none max-sm:rounded-none max-sm:border-x-0 max-sm:border-t max-sm:border-b-0 max-sm:opacity-[calc(1-min(var(--nested-dialogs),1))] max-sm:data-ending-style:translate-y-4 max-sm:data-starting-style:translate-y-4 max-sm:before:hidden max-sm:before:rounded-none";let f;t[7]!==n||t[8]!==u?(f=We("-translate-y-[calc(1.25rem*var(--nested-dialogs))] relative row-start-2 flex max-h-full min-h-0 w-full min-w-0 max-w-lg scale-[calc(1-0.1*var(--nested-dialogs))] flex-col rounded-2xl border bg-popover not-dark:bg-clip-padding text-popover-foreground opacity-[calc(1-0.1*var(--nested-dialogs))] shadow-lg/5 transition-[scale,opacity,translate] duration-200 ease-in-out will-change-transform before:pointer-events-none before:absolute before:inset-0 before:rounded-[calc(var(--radius-2xl)-1px)] before:shadow-[0_1px_--theme(--color-black/6%)] data-nested:data-ending-style:translate-y-8 data-nested:data-starting-style:translate-y-8 data-nested-dialog-open:origin-top data-ending-style:scale-98 data-starting-style:scale-98 data-ending-style:opacity-0 data-starting-style:opacity-0 dark:before:shadow-[0_-1px_--theme(--color-white/6%)]",u,n),t[7]=n,t[8]=u,t[9]=f):f=t[9];let d;t[10]!==r||t[11]!==f?(d=C.jsx(Mg,{className:f,"data-slot":"alert-dialog-popup",...r}),t[10]=r,t[11]=f,t[12]=d):d=t[12];let g;return t[13]!==a||t[14]!==d?(g=C.jsxs(Fg,{children:[c,C.jsx($g,{className:a,children:d})]}),t[13]=a,t[14]=d,t[15]=g):g=t[15],g}function Bg(e){const t=Oe.c(8);let n,r;t[0]!==e?({className:n,...r}=e,t[0]=e,t[1]=n,t[2]=r):(n=t[1],r=t[2]);let o;t[3]!==n?(o=We("flex flex-col gap-2 p-6 not-has-[+[data-slot=alert-dialog-footer]]:pb-4 text-center max-sm:pb-4 sm:text-left",n),t[3]=n,t[4]=o):o=t[4];let s;return t[5]!==r||t[6]!==o?(s=C.jsx("div",{className:o,"data-slot":"alert-dialog-header",...r}),t[5]=r,t[6]=o,t[7]=s):s=t[7],s}function zg(e){const t=Oe.c(11);let n,r,o;t[0]!==e?({className:n,variant:o,...r}=e,t[0]=e,t[1]=n,t[2]=r,t[3]=o):(n=t[1],r=t[2],o=t[3]);const s=o===void 0?"default":o,c=s==="default"&&"border-t bg-muted/72 py-4",i=s==="bare"&&"pt-4 pb-6";let a;t[4]!==n||t[5]!==c||t[6]!==i?(a=We("flex flex-col-reverse gap-2 px-6 sm:flex-row sm:justify-end sm:rounded-b-[calc(var(--radius-2xl)-1px)]",c,i,n),t[4]=n,t[5]=c,t[6]=i,t[7]=a):a=t[7];let u;return t[8]!==r||t[9]!==a?(u=C.jsx("div",{className:a,"data-slot":"alert-dialog-footer",...r}),t[8]=r,t[9]=a,t[10]=u):u=t[10],u}function Hg(e){const t=Oe.c(8);let n,r;t[0]!==e?({className:n,...r}=e,t[0]=e,t[1]=n,t[2]=r):(n=t[1],r=t[2]);let o;t[3]!==n?(o=We("font-heading text-xl leading-none",n),t[3]=n,t[4]=o):o=t[4];let s;return t[5]!==r||t[6]!==o?(s=C.jsx(Dg,{className:o,"data-slot":"alert-dialog-title",...r}),t[5]=r,t[6]=o,t[7]=s):s=t[7],s}function Vg(e){const t=Oe.c(8);let n,r;t[0]!==e?({className:n,...r}=e,t[0]=e,t[1]=n,t[2]=r):(n=t[1],r=t[2]);let o;t[3]!==n?(o=We("text-muted-foreground text-sm",n),t[3]=n,t[4]=o):o=t[4];let s;return t[5]!==r||t[6]!==o?(s=C.jsx(Tg,{className:o,"data-slot":"alert-dialog-description",...r}),t[5]=r,t[6]=o,t[7]=s):s=t[7],s}function Wg(e){const t=Oe.c(2);let n;return t[0]!==e?(n=C.jsx(Sg,{"data-slot":"alert-dialog-close",...e}),t[0]=e,t[1]=n):n=t[1],n}const Fc=l.createContext(void 0);function jc(e){const t=l.useContext(Fc);if(t===void 0&&!e)throw new Error(bt(33));return t}const $c=l.createContext(void 0);function tn(e){const t=l.useContext($c);if(t===void 0&&!e)throw new Error(bt(36));return t}const Ug=l.createContext(void 0);function $r(e=!0){const t=l.useContext(Ug);if(t===void 0&&!e)throw new Error(bt(25));return t}const Yg={type:"regular-item"};function Kg(e){const{closeOnClick:t,disabled:n=!1,highlighted:r,id:o,store:s,nativeButton:c,itemMetadata:i,nodeId:a}=e,u=l.useRef(null),f=$r(!0),d=f!==void 0,{events:g}=s.useState("floatingTreeRoot"),{getButtonProps:p,buttonRef:v}=Or({disabled:n,focusableWhenDisabled:!0,native:c}),h=l.useCallback(b=>to({id:o,role:"menuitem",tabIndex:r?0:-1,onMouseMove(m){a&&g.emit("itemhover",{nodeId:a,target:m.currentTarget})},onMouseEnter(){i.type==="submenu-trigger"&&i.setActive()},onKeyUp(m){m.key===" "&&s.context.typingRef.current&&m.preventBaseUIHandler()},onClick(m){t&&g.emit("close",{domEvent:m,reason:li})},onMouseUp(m){if(f){const w=f.initialCursorPointRef.current;if(f.initialCursorPointRef.current=null,d&&w&&Math.abs(m.clientX-w.x)<=1&&Math.abs(m.clientY-w.y)<=1)return}u.current&&s.context.allowMouseUpTriggerRef.current&&(!d||m.button===2)&&i.type==="regular-item"&&u.current.click()}},b,p),[o,r,p,t,g,s,d,f,i,a]),x=ur(u,v);return l.useMemo(()=>({getItemProps:h,itemRef:x}),[h,x])}const _c=l.createContext({register:()=>{},unregister:()=>{},subscribeMapChange:()=>()=>{},elementsRef:{current:[]},nextIndexRef:{current:0}});function Xg(){return l.useContext(_c)}let Gg=(function(e){return e[e.None=0]="None",e[e.GuessFromOrder=1]="GuessFromOrder",e})({});function Bc(e={}){const{label:t,metadata:n,textRef:r,indexGuessBehavior:o,index:s}=e,{register:c,unregister:i,subscribeMapChange:a,elementsRef:u,labelsRef:f,nextIndexRef:d}=Xg(),g=l.useRef(-1),[p,v]=l.useState(s??(o===Gg.GuessFromOrder?()=>{if(g.current===-1){const b=d.current;d.current+=1,g.current=b}return g.current}:-1)),h=l.useRef(null),x=l.useCallback(b=>{if(h.current=b,p!==-1&&b!==null&&(u.current[p]=b,f)){const m=t!==void 0;f.current[p]=m?t:r?.current?.textContent??b.textContent}},[p,u,f,t,r]);return ie(()=>{if(s!=null)return;const b=h.current;if(b)return c(b,n),()=>{i(b)}},[s,c,i,n]),ie(()=>{if(s==null)return a(b=>{const m=h.current?b.get(h.current)?.index:null;m!=null&&v(m)})},[s,a,v]),l.useMemo(()=>({ref:x,index:p}),[p,x])}const qg=l.forwardRef(function(t,n){const{render:r,className:o,id:s,label:c,nativeButton:i=!1,disabled:a=!1,closeOnClick:u=!0,...f}=t,d=Bc({label:c}),g=jc(!0),p=$n(s),{store:v}=tn(),h=v.useState("isActive",d.index),x=v.useState("itemProps"),{getItemProps:b,itemRef:m}=Kg({closeOnClick:u,disabled:a,highlighted:h,id:p,store:v,nativeButton:i,nodeId:g?.nodeId,itemMetadata:Yg}),w=l.useMemo(()=>({disabled:a,highlighted:h}),[a,h]);return Xe("div",t,{state:w,props:[x,f,b],ref:[m,n,d.ref]})}),Jg={...en,...jn},Qg=l.forwardRef(function(t,n){const{render:r,className:o,finalFocus:s,...c}=t,{store:i}=tn(),{side:a,align:u}=jc(),f=Tc()!=null,d=i.useState("open"),g=i.useState("transitionStatus"),p=i.useState("popupProps"),v=i.useState("mounted"),h=i.useState("instantType"),x=i.useState("activeTriggerElement"),b=i.useState("parent"),m=i.useState("lastOpenChangeReason"),w=i.useState("rootId"),R=i.useState("floatingRootContext"),y=i.useState("floatingTreeRoot"),S=i.useState("closeDelay"),E=i.useState("activeTriggerElement"),O=b.type==="context-menu";Tr({open:d,ref:i.context.popupRef,onComplete(){d&&i.context.onOpenChangeComplete?.(!0)}}),l.useEffect(()=>{function N(A){i.setOpen(!1,he(A.reason,A.domEvent))}return y.events.on("close",N),()=>{y.events.off("close",N)}},[y.events,i]);const L=i.useState("hoverEnabled"),k=i.useState("disabled");Ni(R,{enabled:L&&!k&&!O&&b.type!=="menubar",closeDelay:S});const M=l.useMemo(()=>({transitionStatus:g,side:a,align:u,open:d,nested:b.type==="menu",instant:h}),[g,a,u,d,b.type,h]),D=Xe("div",t,{state:M,ref:[n,i.context.popupRef],stateAttributesMapping:Jg,props:[p,{onKeyDown(N){f&&Qo.has(N.key)&&N.stopPropagation()}},Jo(g),c,{"data-rootownerid":w}]});let T=b.type===void 0||O;return(x||b.type==="menubar"&&m!==go)&&(T=!0),C.jsx(To,{context:R,modal:O,disabled:!v,returnFocus:s===void 0?T:s,initialFocus:b.type!=="menu",restoreFocus:!0,externalTree:b.type!=="menubar"?y:void 0,previousFocusableElement:E,nextFocusableElement:b.type===void 0?i.context.triggerFocusTargetRef:void 0,beforeContentFocusGuardRef:b.type===void 0?i.context.beforeContentFocusGuardRef:void 0,children:D})}),zc=l.createContext(void 0);function Zg(){const e=l.useContext(zc);if(e===void 0)throw new Error(bt(32));return e}const ep=l.forwardRef(function(t,n){const{keepMounted:r=!1,...o}=t,{store:s}=tn();return s.useState("mounted")||r?C.jsx(zc.Provider,{value:r,children:C.jsx(yo,{ref:n,...o})}):null});function tp(e){const{children:t,elementsRef:n,labelsRef:r,onMapChange:o}=e,s=re(o),c=l.useRef(0),i=Ot(rp).current,a=Ot(np).current,[u,f]=l.useState(0),d=l.useRef(u),g=re((b,m)=>{a.set(b,m??null),d.current+=1,f(d.current)}),p=re(b=>{a.delete(b),d.current+=1,f(d.current)}),v=l.useMemo(()=>{const b=new Map;return Array.from(a.keys()).filter(w=>w.isConnected).sort(op).forEach((w,R)=>{const y=a.get(w)??{};b.set(w,{...y,index:R})}),b},[a,u]);ie(()=>{if(typeof MutationObserver!="function"||v.size===0)return;const b=new MutationObserver(m=>{const w=new Set,R=y=>w.has(y)?w.delete(y):w.add(y);m.forEach(y=>{y.removedNodes.forEach(R),y.addedNodes.forEach(R)}),w.size===0&&(d.current+=1,f(d.current))});return v.forEach((m,w)=>{w.parentElement&&b.observe(w.parentElement,{childList:!0})}),()=>{b.disconnect()}},[v]),ie(()=>{d.current===u&&(n.current.length!==v.size&&(n.current.length=v.size),r&&r.current.length!==v.size&&(r.current.length=v.size),c.current=v.size),s(v)},[s,v,n,r,u]),ie(()=>()=>{n.current=[]},[n]),ie(()=>()=>{r&&(r.current=[])},[r]);const h=re(b=>(i.add(b),()=>{i.delete(b)}));ie(()=>{i.forEach(b=>b(v))},[i,v]);const x=l.useMemo(()=>({register:g,unregister:p,subscribeMapChange:h,elementsRef:n,labelsRef:r,nextIndexRef:c}),[g,p,h,n,r,c]);return C.jsx(_c.Provider,{value:x,children:t})}function np(){return new Map}function rp(){return new Set}function op(e,t){const n=e.compareDocumentPosition(t);return n&Node.DOCUMENT_POSITION_FOLLOWING||n&Node.DOCUMENT_POSITION_CONTAINED_BY?-1:n&Node.DOCUMENT_POSITION_PRECEDING||n&Node.DOCUMENT_POSITION_CONTAINS?1:0}const sp=l.forwardRef(function(t,n){const{anchor:r,positionMethod:o="absolute",className:s,render:c,side:i,align:a,sideOffset:u=0,alignOffset:f=0,collisionBoundary:d="clipping-ancestors",collisionPadding:g=5,arrowPadding:p=5,sticky:v=!1,disableAnchorTracking:h=!1,collisionAvoidance:x=pa,...b}=t,{store:m}=tn(),w=Zg(),R=$r(!0),y=m.useState("parent"),S=m.useState("floatingRootContext"),E=m.useState("floatingTreeRoot"),O=m.useState("mounted"),L=m.useState("open"),k=m.useState("modal"),M=m.useState("activeTriggerElement"),D=m.useState("lastOpenChangeReason"),T=m.useState("floatingNodeId"),N=m.useState("floatingParentNodeId");let A=r,$=u,F=f,I=a,_=x;y.type==="context-menu"&&(A=r??y.context?.anchor,I=I??"start",!i&&I!=="center"&&(F=t.alignOffset??2,$=t.sideOffset??-5));let j=i,U=I;y.type==="menu"?(j=j??"inline-end",U=U??"start",_=t.collisionAvoidance??ai):y.type==="menubar"&&(j=j??"bottom",U=U??"start");const K=y.type==="context-menu",z=_i({anchor:A,floatingRootContext:S,positionMethod:R?"fixed":o,mounted:O,side:j,sideOffset:$,align:U,alignOffset:F,arrowPadding:K?0:p,collisionBoundary:d,collisionPadding:g,sticky:v,nodeId:T,keepMounted:w,disableAnchorTracking:h,collisionAvoidance:_,shiftCrossAxis:K,externalTree:E}),Y=l.useMemo(()=>{const X={};return L||(X.pointerEvents="none"),{role:"presentation",hidden:!O,style:{...z.positionerStyles,...X}}},[L,O,z.positionerStyles]);l.useEffect(()=>{function X(ue){ue.open?(ue.parentNodeId===T&&m.set("hoverEnabled",!1),ue.nodeId!==T&&ue.parentNodeId===m.select("floatingParentNodeId")&&m.setOpen(!1,he(vn))):ue.parentNodeId===T&&ue.reason!==vn&&m.set("hoverEnabled",!0)}return E.events.on("menuopenchange",X),()=>{E.events.off("menuopenchange",X)}},[m,E.events,T]),l.useEffect(()=>{if(m.select("floatingParentNodeId")==null)return;function X(ue){if(ue.open||ue.nodeId!==m.select("floatingParentNodeId"))return;const P=ue.reason??vn;m.setOpen(!1,he(P))}return E.events.on("menuopenchange",X),()=>{E.events.off("menuopenchange",X)}},[E.events,m]),l.useEffect(()=>{function X(ue){!L||ue.nodeId!==m.select("floatingParentNodeId")||ue.target&&M&&M!==ue.target&&m.setOpen(!1,he(vn))}return E.events.on("itemhover",X),()=>{E.events.off("itemhover",X)}},[E.events,L,M,m]),l.useEffect(()=>{const X={open:L,nodeId:T,parentNodeId:N,reason:m.select("lastOpenChangeReason")};E.events.emit("menuopenchange",X)},[E.events,L,m,T,N]);const ce=l.useMemo(()=>({open:L,side:z.side,align:z.align,anchorHidden:z.anchorHidden,nested:y.type==="menu"}),[L,z.side,z.align,z.anchorHidden,y.type]),G=l.useMemo(()=>({side:z.side,align:z.align,arrowRef:z.arrowRef,arrowUncentered:z.arrowUncentered,arrowStyles:z.arrowStyles,nodeId:z.context.nodeId}),[z.side,z.align,z.arrowRef,z.arrowUncentered,z.arrowStyles,z.context.nodeId]),te=Xe("div",t,{state:ce,stateAttributesMapping:en,ref:[n,m.useStateSetter("positionerElement")],props:[Y,b]}),de=O&&y.type!=="menu"&&(y.type!=="menubar"&&k&&D!==Fe||y.type==="menubar"&&y.context.modal);let le=null;return y.type==="menubar"?le=y.context.contentElement:y.type===void 0&&(le=M),C.jsxs(Fc.Provider,{value:G,children:[de&&C.jsx(qo,{ref:y.type==="context-menu"||y.type==="nested-context-menu"?y.context.internalBackdropRef:null,inert:kr(!L),cutout:le}),C.jsx(bi,{id:T,children:C.jsx(tp,{elementsRef:m.context.itemDomElements,labelsRef:m.context.itemLabels,children:te})})]})}),ip=l.createContext(null);function Hc(e){return l.useContext(ip)}const cp={...Ao,disabled:ne(e=>e.parent.type==="menubar"&&e.parent.context.disabled||e.disabled),modal:ne(e=>(e.parent.type===void 0||e.parent.type==="context-menu")&&(e.modal??!0)),allowMouseEnter:ne(e=>e.parent.type==="menu"?e.parent.store.select("allowMouseEnter"):e.allowMouseEnter),stickIfOpen:ne(e=>e.stickIfOpen),parent:ne(e=>e.parent),rootId:ne(e=>e.parent.type==="menu"?e.parent.store.select("rootId"):e.parent.type!==void 0?e.parent.context.rootId:e.rootId),activeIndex:ne(e=>e.activeIndex),isActive:ne((e,t)=>e.activeIndex===t),hoverEnabled:ne(e=>e.hoverEnabled),instantType:ne(e=>e.instantType),lastOpenChangeReason:ne(e=>e.openChangeReason),floatingTreeRoot:ne(e=>e.parent.type==="menu"?e.parent.store.select("floatingTreeRoot"):e.floatingTreeRoot),floatingNodeId:ne(e=>e.floatingNodeId),floatingParentNodeId:ne(e=>e.floatingParentNodeId),itemProps:ne(e=>e.itemProps),closeDelay:ne(e=>e.closeDelay),keyboardEventRelay:ne(e=>{if(e.keyboardEventRelay)return e.keyboardEventRelay;if(e.parent.type==="menu")return e.parent.store.select("keyboardEventRelay")})};class Zo extends Mr{constructor(t){super({...ap(),...t},{positionerRef:l.createRef(),popupRef:l.createRef(),typingRef:{current:!1},itemDomElements:{current:[]},itemLabels:{current:[]},allowMouseUpTriggerRef:{current:!1},triggerFocusTargetRef:l.createRef(),beforeContentFocusGuardRef:l.createRef(),onOpenChangeComplete:void 0,triggerElements:new _n},cp),this.observe(ne(n=>n.allowMouseEnter),(n,r)=>{this.state.parent.type==="menu"&&n!==r&&this.state.parent.store.set("allowMouseEnter",n)}),this.unsubscribeParentListener=this.observe("parent",n=>{if(this.unsubscribeParentListener?.(),n.type==="menu"){this.unsubscribeParentListener=n.store.subscribe(()=>{this.notifyAll()}),this.context.allowMouseUpTriggerRef=n.store.context.allowMouseUpTriggerRef;return}n.type!==void 0&&(this.context.allowMouseUpTriggerRef=n.context.allowMouseUpTriggerRef),this.unsubscribeParentListener=null})}setOpen(t,n){this.state.floatingRootContext.context.events.emit("setOpen",{open:t,eventDetails:n})}static useStore(t,n){const r=Ot(()=>new Zo(n)).current;return t??r}unsubscribeParentListener=null}function ap(){return{...Do(),disabled:!1,modal:!0,allowMouseEnter:!0,stickIfOpen:!0,parent:{type:void 0},rootId:void 0,activeIndex:null,hoverEnabled:!0,instantType:void 0,openChangeReason:null,floatingTreeRoot:new Eo,floatingNodeId:void 0,floatingParentNodeId:null,itemProps:mt,keyboardEventRelay:void 0,closeDelay:0}}const lp=l.createContext(void 0);function up(){return l.useContext(lp)}function dp(e){const{children:t,open:n,onOpenChange:r,onOpenChangeComplete:o,defaultOpen:s=!1,disabled:c=!1,modal:i,loopFocus:a=!0,orientation:u="vertical",actionsRef:f,closeParentOnEsc:d=!1,handle:g,triggerId:p,defaultTriggerId:v=null,highlightItemOnHover:h=!0}=e,x=$r(!0),b=tn(!0),m=Hc(),w=up(),R=l.useMemo(()=>w&&b?{type:"menu",store:b.store}:m?{type:"menubar",context:m}:x&&!b?{type:"context-menu",context:x}:{type:void 0},[x,b,m,w]),y=Zo.useStore(g?.store,{parent:R}),S=y.useState("floatingTreeRoot"),E=Co(S),O=St();ie(()=>{x&&!b?y.update({parent:{type:"context-menu",context:x},floatingNodeId:E,floatingParentNodeId:O}):b&&y.update({floatingNodeId:E,floatingParentNodeId:O})},[x,b,E,O,y]),y.useControlledProp("open",n,s),y.useControlledProp("activeTriggerId",p,v),y.useContextCallback("onOpenChangeComplete",o);const L=y.useState("open"),k=y.useState("activeTriggerElement"),M=y.useState("positionerElement"),D=y.useState("hoverEnabled"),T=y.useState("modal"),N=y.useState("disabled"),A=y.useState("lastOpenChangeReason"),$=y.useState("parent"),F=y.useState("activeIndex"),I=y.useState("payload"),_=y.useState("floatingParentNodeId"),j=l.useRef(null),U=_!=null;let K;y.useSyncedValues({disabled:c,modal:$.type===void 0?i:void 0,rootId:Dn()});const{openMethod:z,triggerProps:Y,reset:ce}=Go(L);Mo(y);const{forceUnmount:G}=Po(L,y,()=>{y.update({allowMouseEnter:!1,stickIfOpen:!0}),ce()}),te=l.useRef($.type!=="context-menu"),de=nt();l.useEffect(()=>{if(L||(j.current=null),$.type==="context-menu"){if(!L){de.clear(),te.current=!1;return}de.start(500,()=>{te.current=!0})}},[de,L,$.type]),Ko(L&&T&&A!==Fe&&z!=="touch",M),ie(()=>{!L&&!D&&y.set("hoverEnabled",!0)},[L,D,y]);const le=l.useRef(!0),X=nt(),ue=re((fe,be)=>{const Ie=be.reason;if(L===fe&&be.trigger===k&&A===Ie||(be.preventUnmountOnClose=()=>{y.set("preventUnmountingOnClose",!0)},!fe&&be.trigger==null&&(be.trigger=k??void 0),r?.(fe,be),be.isCanceled))return;const Se={open:fe,nativeEvent:be.event,reason:be.reason,nested:U};K?.emit("openchange",Se);const ke=be.event;if(fe===!1&&ke?.type==="click"&&ke.pointerType==="touch"&&!le.current)return;if(!fe&&F!==null){const Re=y.context.itemDomElements.current[F];queueMicrotask(()=>{Re?.setAttribute("tabindex","-1")})}fe&&Ie===yn?(le.current=!1,X.start(300,()=>{le.current=!0})):(le.current=!0,X.clear());const Ue=(Ie===wt||Ie===li)&&ke.detail===0&&ke?.isTrusted,Be=!fe&&(Ie===Sr||Ie==null);function lt(){const Re={open:fe,openChangeReason:Ie};j.current=be.event??null;const Me=be.trigger?.id??null;(Me||fe)&&(Re.activeTriggerId=Me,Re.activeTriggerElement=be.trigger??null),y.update(Re)}Ie===Fe?et.flushSync(lt):lt(),$.type==="menubar"&&(Ie===yn||Ie===Vt||Ie===Fe||Ie===rr||Ie===vn)?y.set("instantType","group"):Ue||Be?y.set("instantType",Ue?"click":"dismiss"):y.set("instantType",void 0)}),P=l.useCallback(fe=>{const be=he(fe);return be.preventUnmountOnClose=()=>{y.set("preventUnmountingOnClose",!0)},be},[y]),Q=l.useCallback(()=>{y.setOpen(!1,P(vo))},[y,P]);l.useImperativeHandle(f,()=>({unmount:G,close:Q}),[G,Q]);let V;$.type==="context-menu"&&(V=$.context),l.useImperativeHandle(V?.positionerRef,()=>M,[M]),l.useImperativeHandle(V?.actionsRef,()=>({setOpen:ue}),[ue]);const ge=Lo({popupStore:y,onOpenChange:ue});K=ge.context.events,l.useEffect(()=>{const fe=({open:be,eventDetails:Ie})=>ue(be,Ie);return K.on("setOpen",fe),()=>{K?.off("setOpen",fe)}},[K,ue]);const B=ko(ge,{enabled:!N,bubbles:{escapeKey:d&&$.type==="menu"},outsidePress(){return $.type!=="context-menu"||j.current?.type==="contextmenu"?!0:te.current},externalTree:U?S:void 0}),H=No(ge,{role:"menu"}),q=Fo(),oe=l.useCallback(fe=>{y.select("activeIndex")!==fe&&y.set("activeIndex",fe)},[y]),ae=mu(ge,{enabled:!N,listRef:y.context.itemDomElements,activeIndex:F,nested:$.type!==void 0,loopFocus:a,orientation:u,parentOrientation:$.type==="menubar"?$.context.orientation:void 0,rtl:q==="rtl",disabledIndices:gr,onNavigate:oe,openOnArrowKeyDown:$.type!=="context-menu",externalTree:U?S:void 0,focusItemOnHover:h}),Z=l.useCallback(fe=>{y.context.typingRef.current=fe},[y]),ee=yu(ge,{listRef:y.context.itemLabels,activeIndex:F,resetMs:ha,onMatch:fe=>{L&&fe!==F&&y.set("activeIndex",fe)},onTypingChange:Z}),{getReferenceProps:W,getFloatingProps:se,getItemProps:J,getTriggerProps:ve}=Bn([B,H,ae,ee]),ye=l.useMemo(()=>{const fe=to(W(),{onMouseEnter(){y.set("hoverEnabled",!0)},onMouseMove(){y.set("allowMouseEnter",!0)}},Y);return delete fe.role,fe},[W,y,Y]),xe=l.useMemo(()=>{const fe=ve();if(!fe)return fe;const be=to(fe,Y);return delete be.role,delete be["aria-controls"],be},[ve,Y]),we=Ln(),Ae=l.useMemo(()=>se({onMouseEnter(){$.type==="menu"&&we.request(()=>y.set("hoverEnabled",!1))},onMouseMove(){y.set("allowMouseEnter",!0)},onClick(){y.select("hoverEnabled")&&y.set("hoverEnabled",!1)},onKeyDown(fe){const be=y.select("keyboardEventRelay");be&&!fe.isPropagationStopped()&&be(fe)}}),[se,$.type,we,y]),Ce=l.useMemo(()=>J(),[J]);y.useSyncedValues({floatingRootContext:ge,activeTriggerProps:ye,inactiveTriggerProps:xe,popupProps:Ae,itemProps:Ce});const _e=l.useMemo(()=>({store:y,parent:R}),[y,R]),Qe=C.jsx($c.Provider,{value:_e,children:typeof t=="function"?t({payload:I}):t});return $.type===void 0||$.type==="context-menu"?C.jsx(xi,{externalTree:S,children:Qe}):Qe}function fp(e){const t=e.getBoundingClientRect(),n=window.getComputedStyle(e,"::before"),r=window.getComputedStyle(e,"::after");if(!(n.content!=="none"||r.content!=="none"))return t;const s=parseFloat(n.width)||0,c=parseFloat(n.height)||0,i=parseFloat(r.width)||0,a=parseFloat(r.height)||0,u=Math.max(t.width,s,i),f=Math.max(t.height,c,a),d=u-t.width,g=f-t.height;return{left:t.left-d/2,right:t.right+d/2,top:t.top-g/2,bottom:t.bottom+g/2}}function gp(e={}){const{highlightItemOnHover:t,highlightedIndex:n,onHighlightedIndexChange:r}=ui(),{ref:o,index:s}=Bc(e),c=n===s,i=l.useRef(null),a=ur(o,i);return{compositeProps:l.useMemo(()=>({tabIndex:c?0:-1,onFocus(){r(s)},onMouseMove(){const f=i.current;if(!t||!f)return;const d=f.hasAttribute("disabled")||f.ariaDisabled==="true";!c&&!d&&f.focus()}}),[c,r,s,t]),compositeRef:a,index:s}}function pp(e){const{render:t,className:n,state:r=mt,props:o=gr,refs:s=gr,metadata:c,stateAttributesMapping:i,tag:a="div",...u}=e,{compositeProps:f,compositeRef:d}=gp({metadata:c});return Xe(a,e,{state:r,ref:[...s,d],props:[f,...o,u],stateAttributesMapping:i})}function Vc(e){if(De(e)&&e.hasAttribute("data-rootownerid"))return e.getAttribute("data-rootownerid")??void 0;if(!Bt(e))return Vc(Qt(e))}function hp(e){const{enabled:t=!0,mouseDownAction:n,open:r}=e,o=l.useRef(!1);return l.useMemo(()=>t?{onMouseDown:s=>{(n==="open"&&!r||n==="close"&&r)&&(o.current=!0,Ct(s.currentTarget).addEventListener("click",()=>{o.current=!1},{once:!0}))},onClick:s=>{o.current&&(o.current=!1,s.preventBaseUIHandler())}}:mt,[t,n,r])}const er=2,mp=l.forwardRef(function(t,n){const{render:r,className:o,disabled:s=!1,nativeButton:c=!0,id:i,openOnHover:a,delay:u=100,closeDelay:f=0,handle:d,payload:g,...p}=t,v=tn(!0),h=d?.store??v?.store;if(!h)throw new Error(bt(85));const x=$n(i),b=h.useState("isTriggerActive",x),m=h.useState("floatingRootContext"),w=h.useState("isOpenedByTrigger",x),R=l.useRef(null),y=yp(),S=ui(!0),E=Yt(),O=l.useMemo(()=>E??new Eo,[E]),L=Co(O),k=St(),{registerTrigger:M,isMountedByThisTrigger:D}=Ai(x,R,h,{payload:g,closeDelay:f,parent:y,floatingTreeRoot:O,floatingNodeId:L,floatingParentNodeId:k,keyboardEventRelay:S?.relayKeyboardEvent}),T=y.type==="menubar",N=h.useState("disabled"),A=s||N||T&&y.context.disabled,{getButtonProps:$,buttonRef:F}=Or({disabled:A,native:c});l.useEffect(()=>{!w&&y.type===void 0&&(h.context.allowMouseUpTriggerRef.current=!1)},[h,w,y.type]);const I=l.useRef(null),_=nt(),j=re(H=>{if(!I.current)return;_.clear(),h.context.allowMouseUpTriggerRef.current=!1;const q=H.target;if(pe(I.current,q)||pe(h.select("positionerElement"),q)||q===I.current||q!=null&&Vc(q)===h.select("rootId"))return;const oe=fp(I.current);H.clientX>=oe.left-er&&H.clientX<=oe.right+er&&H.clientY>=oe.top-er&&H.clientY<=oe.bottom+er||O.events.emit("close",{domEvent:H,reason:ma})});l.useEffect(()=>{w&&h.select("lastOpenChangeReason")===Fe&&Ct(I.current).addEventListener("mouseup",j,{once:!0})},[w,j,h]);const U=T&&y.context.hasSubmenuOpen,z=Fi(m,{enabled:(a??U)&&!A&&y.type!=="context-menu"&&(!T||U&&!D),handleClose:ji({blockPointerEvents:!T}),mouseOnly:!0,move:!1,restMs:y.type===void 0?u:void 0,delay:{close:f},triggerElementRef:R,externalTree:O,isActiveTrigger:b}),Y=vp(w,h.select("lastOpenChangeReason")),ce=Ri(m,{enabled:!A&&y.type!=="context-menu",event:w&&T?"click":"mousedown",toggle:!0,ignoreMouse:!1,stickIfOpen:y.type===void 0?Y:!1}),G=cu(m,{enabled:!A&&U}),te=hp({open:w,enabled:T,mouseDownAction:"open"}),de=Bn([ce,G]),le=l.useMemo(()=>({disabled:A,open:w}),[A,w]),X=h.useState("triggerProps",D),ue=[I,n,F,M,R],P=[de.getReferenceProps(),z??mt,X,{"aria-haspopup":"menu",id:x,onMouseDown:H=>{if(h.select("open"))return;_.start(200,()=>{h.context.allowMouseUpTriggerRef.current=!0}),Ct(H.currentTarget).addEventListener("mouseup",j,{once:!0})}},T?{role:"menuitem"}:{},te,p,$],Q=l.useRef(null),V=re(H=>{et.flushSync(()=>{h.setOpen(!1,he(Vt,H.nativeEvent,H.currentTarget))}),ii(Q.current)?.focus()}),ge=re(H=>{const q=h.select("positionerElement");if(q&&fr(H,q))h.context.beforeContentFocusGuardRef.current?.focus();else{et.flushSync(()=>{h.setOpen(!1,he(Vt,H.nativeEvent,H.currentTarget))});let oe=ci(h.context.triggerFocusTargetRef.current||R.current);for(;oe!==null&&pe(q,oe);){const ae=oe;if(oe=po(oe),oe===ae)break}oe?.focus()}}),B=Xe("button",t,{enabled:!T,stateAttributesMapping:io,state:le,ref:ue,props:P});return T?C.jsx(pp,{tag:"button",render:r,className:o,state:le,refs:ue,props:P,stateAttributesMapping:io}):w?C.jsxs(l.Fragment,{children:[C.jsx(an,{ref:Q,onFocus:V},`${x}-pre-focus-guard`),C.jsx(l.Fragment,{children:B},x),C.jsx(an,{ref:h.context.triggerFocusTargetRef,onFocus:ge},`${x}-post-focus-guard`)]}):C.jsx(l.Fragment,{children:B},x)});function vp(e,t){const n=nt(),[r,o]=l.useState(!1);return ie(()=>{e&&t==="trigger-hover"?(o(!0),n.start(si,()=>{o(!1)})):e||(n.clear(),o(!1))},[e,t,n]),r}function yp(){const e=$r(!0),t=tn(!0),n=Hc();return l.useMemo(()=>n?{type:"menubar",context:n}:e&&!t?{type:"context-menu",context:e}:{type:void 0},[e,t,n])}const bp=dp;function xp(e){const t=Oe.c(2);let n;return t[0]!==e?(n=C.jsx(mp,{"data-slot":"menu-trigger",...e}),t[0]=e,t[1]=n):n=t[1],n}function wp(e){const t=Oe.c(22);let n,r,o,s,c,i,a;t[0]!==e?({children:r,className:o,sideOffset:c,align:i,alignOffset:n,side:a,...s}=e,t[0]=e,t[1]=n,t[2]=r,t[3]=o,t[4]=s,t[5]=c,t[6]=i,t[7]=a):(n=t[1],r=t[2],o=t[3],s=t[4],c=t[5],i=t[6],a=t[7]);const u=c===void 0?4:c,f=i===void 0?"center":i,d=a===void 0?"bottom":a;let g;t[8]!==o?(g=We("relative flex not-[class*='w-']:min-w-32 origin-(--transform-origin) rounded-lg border bg-popover not-dark:bg-clip-padding shadow-lg/5 outline-none before:pointer-events-none before:absolute before:inset-0 before:rounded-[calc(var(--radius-lg)-1px)] before:shadow-[0_1px_--theme(--color-black/6%)] focus:outline-none dark:before:shadow-[0_-1px_--theme(--color-white/6%)]",o),t[8]=o,t[9]=g):g=t[9];let p;t[10]!==r?(p=C.jsx("div",{className:"max-h-(--available-height) w-full overflow-y-auto p-1",children:r}),t[10]=r,t[11]=p):p=t[11];let v;t[12]!==s||t[13]!==g||t[14]!==p?(v=C.jsx(Qg,{className:g,"data-slot":"menu-popup",...s,children:p}),t[12]=s,t[13]=g,t[14]=p,t[15]=v):v=t[15];let h;return t[16]!==f||t[17]!==n||t[18]!==d||t[19]!==u||t[20]!==v?(h=C.jsx(ep,{children:C.jsx(sp,{align:f,alignOffset:n,className:"z-50","data-slot":"menu-positioner",side:d,sideOffset:u,children:v})}),t[16]=f,t[17]=n,t[18]=d,t[19]=u,t[20]=v,t[21]=h):h=t[21],h}function Gs(e){const t=Oe.c(12);let n,r,o,s;t[0]!==e?({className:n,inset:r,variant:s,...o}=e,t[0]=e,t[1]=n,t[2]=r,t[3]=o,t[4]=s):(n=t[1],r=t[2],o=t[3],s=t[4]);const c=s===void 0?"default":s;let i;t[5]!==n?(i=We("[&>svg]:-mx-0.5 flex min-h-8 cursor-default select-none items-center gap-2 rounded-sm px-2 py-1 text-base outline-none data-disabled:pointer-events-none data-highlighted:bg-accent data-inset:ps-8 data-[variant=destructive]:text-destructive-foreground data-highlighted:text-accent-foreground data-disabled:opacity-64 sm:min-h-7 sm:text-sm [&>svg:not([class*='opacity-'])]:opacity-80 [&>svg:not([class*='size-'])]:size-4.5 sm:[&>svg:not([class*='size-'])]:size-4 [&>svg]:pointer-events-none [&>svg]:shrink-0",n),t[5]=n,t[6]=i):i=t[6];let a;return t[7]!==r||t[8]!==o||t[9]!==i||t[10]!==c?(a=C.jsx(qg,{className:i,"data-inset":r,"data-slot":"menu-item","data-variant":c,...o}),t[7]=r,t[8]=o,t[9]=i,t[10]=c,t[11]=a):a=t[11],a}function Rp(e){const{isAuthenticated:t}=Wt(),n=zt(Et.bookmarks.remove),[r,o]=l.useState(!1),[s,c]=l.useState(!1),i=async()=>{if(t){c(!0);try{await n({categoryId:e.categoryId})}catch(u){console.error(u)}finally{c(!1),o(!1)}}},a=()=>{e.onToggleLinksEdit(!e.isLinksEditing)};return C.jsxs(Ng,{open:r,onOpenChange:o,children:[C.jsxs(bp,{children:[C.jsx(xp,{render:C.jsx(Ht,{variant:"ghost",size:"icon-xs",className:"h-6 w-6 rounded-md border-transparent shadow-none text-slate-400 hover:bg-slate-100 hover:text-slate-600","aria-label":"Category options",children:C.jsx(Tf,{size:18})})}),C.jsxs(wp,{align:"start",className:"min-w-[180px]",children:[e.links?.length?C.jsxs(Gs,{onClick:a,children:[C.jsx(If,{size:16}),e.isLinksEditing?"Cancel edit links":"Edit Links"]}):null,C.jsxs(Gs,{variant:"destructive",onClick:()=>o(!0),children:[C.jsx(Pf,{size:16}),"Delete category"]})]})]}),C.jsxs(_g,{children:[C.jsxs(Bg,{children:[C.jsxs(Hg,{children:['Are you sure you want to delete "',e.categoryTitle,'"?']}),C.jsx(Vg,{children:"Deleting this means you won't be able to recover the content and its links."})]}),C.jsxs(zg,{children:[C.jsx(Wg,{render:C.jsx(Ht,{variant:"outline",children:"Cancel"})}),C.jsx(Ht,{variant:"destructive",onClick:i,disabled:s,children:s?"Deleting...":"Confirm"})]})]})]})}function st(e){const t=Oe.c(8);let n,r;t[0]!==e?({className:n,...r}=e,t[0]=e,t[1]=n,t[2]=r):(n=t[1],r=t[2]);let o;t[3]!==n?(o=We("animate-skeleton rounded-sm [--skeleton-highlight:--alpha(var(--color-white)/64%)] [background:linear-gradient(120deg,transparent_40%,var(--skeleton-highlight),transparent_60%)_var(--color-muted)_0_0/200%_100%_fixed] dark:[--skeleton-highlight:--alpha(var(--color-white)/4%)]",n),t[3]=n,t[4]=o):o=t[4];let s;return t[5]!==r||t[6]!==o?(s=C.jsx("div",{className:o,"data-slot":"skeleton",...r}),t[5]=r,t[6]=o,t[7]=s):s=t[7],s}function Wc(){const e=Oe.c(4);let t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t=C.jsx(st,{className:"h-3 w-48 rounded-md"}),e[0]=t):t=e[0];let n,r;e[1]===Symbol.for("react.memo_cache_sentinel")?(n=C.jsxs("div",{children:[t,C.jsxs("div",{className:"mt-3 flex gap-2",children:[C.jsx(st,{className:"h-9 w-9 rounded-full"}),C.jsx(st,{className:"h-9 w-9 rounded-full"}),C.jsx(st,{className:"h-9 w-9 rounded-full"})]})]}),r=C.jsx(st,{className:"h-3 w-48 rounded-md"}),e[1]=n,e[2]=r):(n=e[1],r=e[2]);let o;return e[3]===Symbol.for("react.memo_cache_sentinel")?(o=C.jsxs("div",{className:"flex flex-col gap-6",children:[n,C.jsxs("div",{children:[r,C.jsxs("div",{className:"mt-3 flex gap-2",children:[C.jsx(st,{className:"h-9 w-9 rounded-full"}),C.jsx(st,{className:"h-9 w-9 rounded-full"}),C.jsx(st,{className:"h-9 w-9 rounded-full"}),C.jsx(st,{className:"h-9 w-9 rounded-full"})]})]})]}),e[3]=o):o=e[3],o}const At=e=>[...e].sort((t,n)=>(t.sortIndex??t.createdAt)-(n.sortIndex??n.createdAt)).map(t=>({...t,links:[...t.links].sort((n,r)=>(n.sortIndex??n.createdAt)-(r.sortIndex??r.createdAt))})),Ep=(e,t)=>Math.max(0,Math.min(e,t));function Cp(){const{categories:e,isLoading:t}=Lf(),{isAuthenticated:n}=Wt(),r=zt(Et.bookmarks.reorder),o=zt(Et.links.move),s=zt(Et.links.reorder),[c,i]=l.useState(()=>At(e)),[a,u]=l.useState(null),[f,d]=l.useState(null),[g,p]=l.useState(null),v=l.useRef(!1),h=Uu(Ss(Ho,{activationConstraint:{distance:6}}),Ss(Bo,{coordinateGetter:Ef}));l.useEffect(()=>{v.current||i(At(e))},[e]);const x=l.useMemo(()=>c.map(k=>Pc(k._id)),[c]),b=l.useMemo(()=>{const k=new Map;for(const M of c)M.links.forEach((D,T)=>{k.set(D._id,{categoryId:M._id,index:T})});return k},[c]);if(t)return C.jsx(Wc,{});const m=k=>b.get(k)??null,w=k=>k.map((M,D)=>({...M,sortIndex:D})),R=k=>k.map((M,D)=>({...M,sortIndex:D})),y=(k,M,D,T,N)=>{const A=k.findIndex(Y=>Y._id===D),$=k.findIndex(Y=>Y._id===T);if(A===-1||$===-1)return k;const F=k.map(Y=>({...Y,links:[...Y.links]})),I=F[A],_=F[$],j=I.links.findIndex(Y=>Y._id===M);if(j===-1)return k;const[U]=I.links.splice(j,1),K=Ep(N,_.links.length),z=D===T?U:{...U,categoryId:T};return _.links.splice(K,0,z),I.links=R(I.links),_.links=R(_.links),F},S=({active:k})=>{const M=k.data.current;if(!(!M||!("type"in M)))if(v.current=!0,u(M),p(null),M.type==="link"){const D=m(M.linkId);d(D?{categoryId:D.categoryId,index:D.index}:null)}else d(null)},E=({active:k,over:M})=>{if(!M)return;const D=k.data.current,T=M.data.current;if(!D||D.type!=="link"||!T)return;const N=m(D.linkId);if(!N)return;const A=T.categoryId;p(A);const $=N.categoryId,F=c.find(j=>j._id===A);if(!F)return;const I=T.type==="link"?F.links.findIndex(j=>j._id===T.linkId):F.links.length;I<0||$===A&&N.index===I||i(j=>y(j,D.linkId,$,A,I))},O=async({active:k,over:M})=>{if(v.current=!1,p(null),!M||!a||!n){i(At(e)),u(null),d(null);return}const D=k.data.current,T=M.data.current;if(!D||!T){i(At(e)),u(null),d(null);return}if(D.type==="category"&&T.type==="category"){const A=c.findIndex(I=>I._id===D.categoryId),$=c.findIndex(I=>I._id===T.categoryId);if(A===-1||$===-1||A===$){u(null);return}const F=w(Uo(c,A,$));i(F);try{await r({orderedIds:F.map(I=>I._id)}),Ft({status:"success",title:"Category order updated"})}catch{Ft({status:"danger",title:"Error!",description:"Failed to reorder categories. Please try again."}),i(At(e))}finally{u(null),d(null)}return}if(D.type!=="link"){u(null),d(null);return}const N=m(D.linkId);if(!N||!f){i(At(e)),u(null),d(null);return}if(N.categoryId===f.categoryId&&N.index===f.index){u(null),d(null);return}try{if(N.categoryId!==f.categoryId)await o({linkId:D.linkId,toCategoryId:N.categoryId,targetIndex:N.index}),Ft({status:"success",title:"Link moved"});else{const A=c.find($=>$._id===N.categoryId);if(!A){u(null);return}await s({categoryId:N.categoryId,orderedIds:A.links.map($=>$._id)}),Ft({status:"success",title:"Links reordered"})}}catch{Ft({status:"danger",title:"Error!",description:"Failed to move the link. Please try again."}),i(At(e))}finally{u(null),d(null)}},L=()=>{v.current=!1,u(null),p(null),d(null),i(At(e))};return C.jsxs(Vd,{sensors:h,collisionDetection:Xu,onDragStart:S,onDragOver:E,onDragEnd:O,onDragCancel:L,children:[C.jsx(lc,{items:x,strategy:gf,children:C.jsxs("ul",{className:"list-none space-y-8 p-0",children:[c.map(k=>C.jsx(Sp,{categoryId:k._id,title:k.title,links:k.links,isDropTarget:g===k._id&&a?.type==="link"},k._id)),C.jsx("li",{className:"pt-2",children:C.jsx(vg,{})})]})}),C.jsxs(lf,{children:[a?.type==="category"?C.jsx(Tp,{title:c.find(k=>k._id===a.categoryId)?.title??""}):null,a?.type==="link"?C.jsx(Op,{url:c.flatMap(k=>k.links).find(k=>k._id===a.linkId)?.url??""}):null]})]})}function Sp(e){const{isAuthenticated:t}=Wt(),n=zt(Et.bookmarks.updateTitle),[r,o]=l.useState(!1),[s,c]=l.useState(!1),[i,a]=l.useState(e.title),[u,f]=l.useState(!1),d=l.useRef(null),{setNodeRef:g,setActivatorNodeRef:p,listeners:v,attributes:h,transform:x,transition:b,isDragging:m}=dc({id:Pc(e.categoryId),data:{type:"category",categoryId:e.categoryId}});l.useEffect(()=>{!e.links?.length&&s&&c(!1)},[s,e.links?.length]),l.useEffect(()=>{r&&(a(e.title),d.current?.focus())},[r,e.title]),l.useEffect(()=>{const R=y=>{y.key==="Escape"&&(r&&(a(e.title),o(!1)),s&&c(!1))};return window.addEventListener("keydown",R),()=>window.removeEventListener("keydown",R)},[r,s,e.title]),l.useEffect(()=>{r||a(e.title)},[r,e.title]);const w=async R=>{if(!t||u)return;const y=R.trim();if(!y){Ft({status:"danger",title:"Error!",description:"please enter a category"});return}if(y===e.title){o(!1);return}f(!0);try{await n({title:y,categoryId:e.categoryId}),o(!1)}catch(S){Ft({status:"danger",title:"Error!",description:S instanceof Error?S.message:"Failed to edit existing category title."})}finally{f(!1)}};return C.jsxs("li",{ref:g,style:{transform:It.Transform.toString(x),transition:b},className:We("group relative rounded-2xl px-3 py-3 transition-[background-color,transform,box-shadow] duration-200 hover:bg-slate-50",e.isDropTarget&&"bg-sky-50/70 ring-2 ring-sky-300/50 ring-offset-2",m&&"opacity-40 scale-95"),children:[C.jsxs("div",{className:"flex items-center justify-between gap-3",children:[C.jsxs("div",{className:"flex min-w-0 items-center gap-2",children:[C.jsx("span",{ref:p,...v,...h,className:"grid h-7 w-7 cursor-grab place-items-center rounded-full bg-slate-100 text-slate-400 opacity-70 transition group-hover:opacity-100 pointer-coarse:opacity-100 active:cursor-grabbing","aria-label":"Drag category",children:C.jsx(gc,{size:14})}),r?C.jsx(di,{ref:d,nativeInput:!0,className:"h-8 w-56 rounded-md border border-slate-200 bg-white px-2 text-xl font-semibold text-slate-900 focus:border-sky-300 focus:outline-none focus:ring-2 focus:ring-sky-100",value:i,onChange:R=>a(R.target.value),onKeyDown:R=>{R.key==="Enter"&&(R.preventDefault(),w(i)),R.key==="Escape"&&(R.preventDefault(),a(e.title),o(!1))},onBlur:()=>w(i)}):C.jsx("button",{type:"button",className:"truncate text-xl font-semibold tracking-tight text-slate-900 transition-colors hover:text-slate-700",onClick:()=>o(!0),children:e.title})]}),C.jsxs("div",{className:"flex items-center gap-2",children:[s?C.jsx(Ht,{variant:"ghost",size:"icon-xs",className:"h-6 w-6 rounded-full border-transparent text-slate-400 hover:bg-slate-100 hover:text-slate-600","aria-label":"Stop editing links",onClick:()=>c(!1),children:C.jsx(pc,{size:14})}):null,r?null:C.jsx(Rp,{isLinksEditing:s,links:e.links,onToggleLinksEdit:c,categoryId:e.categoryId,categoryTitle:e.title})]})]}),C.jsx("div",{className:"mt-3 ps-8",children:C.jsx(pg,{list:e.links,categoryId:e.categoryId,isLinksEditing:s})})]})}function Tp(e){const t=Oe.c(3),{title:n}=e;let r;t[0]===Symbol.for("react.memo_cache_sentinel")?(r=C.jsx("span",{className:"grid h-7 w-7 cursor-grabbing place-items-center rounded-full bg-slate-100 text-slate-500 shadow-sm",children:C.jsx(gc,{size:14})}),t[0]=r):r=t[0];const o=n||"Untitled";let s;return t[1]!==o?(s=C.jsxs("div",{className:"flex items-center gap-2 rounded-2xl border border-slate-200/60 bg-white/95 px-3 py-2.5 shadow-xl backdrop-blur-sm transition-transform duration-200",children:[r,C.jsx("span",{className:"text-base font-semibold text-slate-800",children:o})]}),t[1]=o,t[2]=s):s=t[2],s}function Op(e){const t=Oe.c(4),{url:n}=e;let r;t[0]!==n?(r=n?n.slice(0,2).toUpperCase():"QL",t[0]=n,t[1]=r):r=t[1];let o;return t[2]!==r?(o=C.jsx("div",{className:"grid h-8 w-8 place-items-center rounded-full border border-slate-200/60 bg-white/95 shadow-xl backdrop-blur-sm transition-transform duration-200",children:C.jsx("span",{className:"grid h-7 w-7 place-items-center rounded-full bg-slate-900 text-xs font-semibold text-white shadow-sm",children:r})}),t[2]=r,t[3]=o):o=t[3],o}const lr=new Set;let tr=!1;const nr=()=>{for(const e of lr)e()},kp=e=>(lr.add(e),!tr&&typeof window<"u"&&(tr=!0,window.addEventListener("online",nr),window.addEventListener("offline",nr)),()=>{lr.delete(e),lr.size===0&&tr&&typeof window<"u"&&(window.removeEventListener("online",nr),window.removeEventListener("offline",nr),tr=!1)}),Ip=()=>typeof navigator<"u"?navigator.onLine:!0,Mp=()=>!0;function Pp(){return l.useSyncExternalStore(kp,Ip,Mp)}class Dp extends Te.Component{state={error:null};static getDerivedStateFromError(t){return{error:t}}reset=()=>{this.setState({error:null})};render(){return this.state.error?(typeof this.props.fallback=="function"?this.props.fallback(this.state.error,this.reset):this.props.fallback)??C.jsx("div",{children:"Something went wrong"}):this.props.children}}function $p(){const e=Oe.c(24),{isLoading:t,isAuthenticated:n}=Wt(),{signOut:r}=va();let o;e[0]!==n?(o=n?{}:"skip",e[0]=n,e[1]=o):o=e[1];const s=ri(Et.users.getCurrentUser,o),c=ya(),a=t||n&&s===void 0,u=!t&&!n,[f,d]=l.useState(!1);let g,p;if(e[2]!==n||e[3]!==t||e[4]!==c?(g=()=>{!t&&!n&&c({to:"/login"})},p=[n,t,c],e[2]=n,e[3]=t,e[4]=c,e[5]=g,e[6]=p):(g=e[5],p=e[6]),l.useEffect(g,p),a||u){let E;e[7]===Symbol.for("react.memo_cache_sentinel")?(E=C.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[C.jsxs("div",{className:"space-y-2",children:[C.jsx(st,{className:"h-8 w-56 rounded-md"}),C.jsx(st,{className:"h-4 w-32 rounded-md"})]}),C.jsx(st,{className:"h-9 w-24 rounded-md"})]}),e[7]=E):E=e[7];let O;return e[8]===Symbol.for("react.memo_cache_sentinel")?(O=C.jsx("div",{className:"min-h-screen p-6",children:C.jsxs("div",{className:"mx-auto max-w-5xl rounded-2xl bg-white p-6 md:p-14",children:[E,C.jsx("div",{className:"mt-10",children:C.jsx(Wc,{})})]})}),e[8]=O):O=e[8],O}let v;e[9]===Symbol.for("react.memo_cache_sentinel")?(v=C.jsx("h1",{className:"font-display font-bold text-3xl text-slate-900 md:text-4xl",children:"Quick Links"}),e[9]=v):v=e[9];const h=s?.email??"Signed in";let x;e[10]!==h?(x=C.jsxs("div",{children:[v,C.jsx("p",{className:"mt-1 text-sm text-slate-500",children:h})]}),e[10]=h,e[11]=x):x=e[11];let b;e[12]!==r?(b=()=>{d(!0),r()},e[12]=r,e[13]=b):b=e[13];const m=f?"Signing out...":"Sign out";let w;e[14]!==f||e[15]!==b||e[16]!==m?(w=C.jsx(Ht,{type:"button",size:"sm",className:"border-transparent bg-[#0EA5B7] text-white shadow-sm hover:bg-[#0B8EA0]",onClick:b,disabled:f,"aria-label":"Sign out of your account",children:m}),e[14]=f,e[15]=b,e[16]=m,e[17]=w):w=e[17];let R;e[18]!==x||e[19]!==w?(R=C.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[x,w]}),e[18]=x,e[19]=w,e[20]=R):R=e[20];let y;e[21]===Symbol.for("react.memo_cache_sentinel")?(y=C.jsx(Ap,{}),e[21]=y):y=e[21];let S;return e[22]!==R?(S=C.jsx("div",{className:"min-h-screen p-6",children:C.jsxs("div",{className:"mx-auto max-w-5xl rounded-2xl bg-white p-6 md:p-14",children:[R,y]})}),e[22]=R,e[23]=S):S=e[23],S}function Ap(){const e=Oe.c(8),t=Pp(),[n,r]=l.useState(!1);let o,s;if(e[0]!==t?(o=()=>{if(t){const i=setTimeout(()=>r(!1),2e3);return()=>clearTimeout(i)}else{const i=setTimeout(()=>r(!0),0);return()=>clearTimeout(i)}},s=[t],e[0]=t,e[1]=o,e[2]=s):(o=e[1],s=e[2]),l.useEffect(o,s),!t){let i;e[3]!==n?(i=n&&C.jsx("button",{onClick:Np,className:"ml-2 font-medium underline hover:no-underline",children:"Retry"}),e[3]=n,e[4]=i):i=e[4];let a;return e[5]!==i?(a=C.jsxs("div",{className:"mt-4 rounded-md bg-red-50 px-3 py-2 text-sm text-red-700",role:"alert",children:["It appears you are not connected to the internet",i]}),e[5]=i,e[6]=a):a=e[6],a}let c;return e[7]===Symbol.for("react.memo_cache_sentinel")?(c=C.jsx("div",{className:"mt-10 w-full",children:C.jsx(Dp,{fallback:Lp,children:C.jsx(Cp,{})})}),e[7]=c):c=e[7],c}function Lp(e,t){return C.jsxs("div",{className:"rounded-md bg-red-50 px-3 py-2 text-sm text-red-700",children:[C.jsx("p",{children:"Failed to load bookmarks"}),C.jsx("p",{className:"text-xs text-red-500 mt-1",children:e.message}),C.jsx("button",{onClick:t,className:"mt-2 font-medium underline hover:no-underline",children:"Try again"})]})}function Np(){return window.location.reload()}export{$p as component};

import{u,r as o,j as s,B as g,c as x,a as h,b as f}from"./main-DptA3dmJ.js";import{F as p,a as j,I as b,n as m}from"./input-DzNrjbWD.js";function v(){const{signIn:e}=u(),[l,i]=o.useState(""),[n,a]=o.useState(!1),r=async t=>{t.preventDefault(),a(!0);try{const c=new FormData(t.currentTarget);c.set("redirectTo","/");const d=await e("resend",c);m({status:"success",title:"Success",description:d.signingIn?"You are now signed in.":"Check your email for a magic link to finish signing in."}),i("")}catch(c){m({status:"danger",title:"Something went wrong",description:c instanceof Error?c.message:"Unable to send a magic link."})}finally{a(!1)}};return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-[#d4e7d2] via-[#e2f0de] to-[#c7dcc5] p-6",children:s.jsx("div",{className:"mx-auto flex min-h-[calc(100vh-3rem)] max-w-5xl items-center justify-center",children:s.jsxs("div",{className:"w-full max-w-sm rounded-2xl bg-white p-6 shadow-2xl ring-1 ring-black/5",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"font-display text-3xl text-slate-900",children:"Welcome"}),s.jsx("p",{className:"mt-2 text-sm text-slate-500",children:"Easily sign in using a magic link."})]}),s.jsxs("form",{onSubmit:r,className:"mt-6 flex flex-col gap-4",children:[s.jsxs(p,{children:[s.jsx(j,{htmlFor:"email",children:"Email address"}),s.jsx(b,{id:"email",name:"email",placeholder:"johndoe@gmail.com",type:"email",value:l,onChange:t=>i(t.target.value),required:!0})]}),s.jsx(g,{type:"submit",disabled:n,children:n?"Signing in...":"Sign in"})]})]})})})}function S(){const e=x.c(6),{isLoading:l,isAuthenticated:i}=h(),n=f();let a,r;e[0]!==i||e[1]!==l||e[2]!==n?(a=()=>{!l&&i&&n({to:"/"})},r=[i,l,n],e[0]=i,e[1]=l,e[2]=n,e[3]=a,e[4]=r):(a=e[3],r=e[4]),o.useEffect(a,r);let t;return e[5]===Symbol.for("react.memo_cache_sentinel")?(t=s.jsx(v,{}),e[5]=t):t=e[5],t}export{S as component};
